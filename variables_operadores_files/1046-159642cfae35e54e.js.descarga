"use strict";(self.webpackChunkcircle=self.webpackChunkcircle||[]).push([["1046"],{600651:function(t,e,n){n.d(e,{k:()=>l});var r=n(316862),a=n.n(r),i=n(547550),o=n(904812);function u(t,e,n,r,a,i,o){try{var u=t[i](o),l=u.value}catch(t){n(t);return}u.done?e(l):Promise.resolve(l).then(r,a)}var l={preview:function(t){var e,n=t.queryParams,r=t.shouldIgnoreCommunityMember,l=t.locale;return(e=function(){var t;return function(t,e){var n,r,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=u(0),o.throw=u(1),o.return=u(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(u){return function(l){var c=[u,l];if(n)throw TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&c[0]?r.return:c[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,c[1])).done)return a;switch(r=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===c[0]||2===c[0])){i=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){i.label=c[1];break}if(6===c[0]&&i.label<a[1]){i.label=a[1],a=c;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(c);break}a[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}(this,function(e){switch(e.label){case 0:return[4,fetch("".concat(o.av.paywallCheckout.preview()).concat(a().stringify(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){var r;r=n[e],e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r})}return t}({checkout:n},l?{locale:l}:{}))),{headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:r?"omit":"same-origin"})];case 1:return t=e.sent(),[2,(0,i.QJ)(t)]}})},function(){var t=this,n=arguments;return new Promise(function(r,a){var i=e.apply(t,n);function o(t){u(i,r,a,o,l,"next",t)}function l(t){u(i,r,a,o,l,"throw",t)}o(void 0)})})()},prepare:function(t){return(0,i.Cu)(o.av.paywallCheckout.prepare(),{checkout:t})},create:function(t){var e=t.formData;return(0,i.Cu)(o.av.paywallCheckout.create(),{checkout:e})},prepare_DEPRECATED:function(t,e){return(0,i.t5)(o.av.paywallCheckout.prepare(),{method:"POST",body:JSON.stringify({checkout:{community_id:t,paywall_price_id:e}})})},create_DEPRECATED:function(t){var e=t.formData;return(0,i.t5)(o.av.paywallCheckout.create(),{method:"POST",body:JSON.stringify({checkout:e})})},complete:function(t){return(0,i.t5)(o.av.paywallCheckout.complete(),{method:"POST",body:JSON.stringify({checkout:t})})},show:function(t){return(0,i.UT)(o.av.paywallCheckout.show({params:t}))},attempts:{show:function(t){return(0,i.UT)(o.av.paywallCheckout.attempts.show(t))}},verifications:{create:function(t){return(0,i.Cu)(o.av.paywallCheckout.verifications.create(t))}}}},976598:function(t,e,n){n.d(e,{y:()=>p});var r=n(683551),a=n(326044),i=n(640792),o=n(100334),u=n(645391),l={spanWrapperClassName:"text-light text-xs",firstLinkClassName:"text-default hover:text-light font-bold",secondLinkClassName:"text-default hover:text-light font-bold"},c={default:l,paywallCheckout:l,newPaywallCheckout:{spanWrapperClassName:"text-xs font-normal leading-5 tracking-tight normal-case text-primary",firstLinkClassName:"text-dark hover:underline hover:text-dark font-bold",secondLinkClassName:"text-dark hover:underline hover:text-dark font-bold"}},s=function(t,e){return"".concat("https://circle.so").concat("pt"===e?"/br":"","/").concat(t)},d=function(t){var e=t.showCreatorTerms,n=t.locale,a=t.communityTermsUrl,i=t.communityPrivacyUrl,l=t.variant,d="authentication_app.signup.form.terms_and_privacy",p=c[l]||c.default,_=e?s("creator-terms",n):a,m=e?s("privacy",n):i;return(0,r.jsxs)("span",{className:(0,u.A)(p.spanWrapperClassName),children:[(0,o.t)("".concat(d,".prefix"))," ",(0,r.jsx)("a",{className:(0,u.A)(p.firstLinkClassName),href:_,target:"_blank",rel:"noreferrer",children:(0,o.t)([d,e?"creator_terms_of_service":"terms_of_service"])})," ",(0,o.t)("".concat(d,".and"))," ",(0,r.jsx)("a",{className:(0,u.A)(p.secondLinkClassName),href:m,target:"_blank",rel:"noreferrer",children:(0,o.t)([d,"privacy_policy"])})]})},p=function(t){var e=t.variant,n=void 0===e?"default":e,o=(0,i.Y)(),u=(0,a.c)(),l=("paywallCheckout"===n?o:u).currentCommunity;if(!l)return(0,r.jsx)(d,{showCreatorTerms:!0,variant:n});var c=l.locale,s=l.terms_url,p=l.privacy_url;return(0,r.jsx)(d,{showCreatorTerms:!1,locale:c,communityTermsUrl:s,communityPrivacyUrl:p,variant:n})}},672842:function(t,e,n){n.d(e,{$v:()=>b,C:()=>l,Gs:()=>_,IF:()=>s,JV:()=>d,PC:()=>u,bE:()=>p,pN:()=>m,xB:()=>v,zS:()=>c});var r=n(100334),a=n(107094),i=n(443334),o=n(705206),u={message:(0,r.t)("services.paywalls.failures.internal.generic")};(0,r.t)("paywall_checkout.form.errors.stripe_connection_failed");var l={message:(0,r.t)("paywall_checkout.form.errors.pix_payment.time_expired"),error_details:"PIX_PAYMENT_EXPIRED"},c={message:(0,r.t)("paywall_checkout.form.errors.pix_payment.pix_modal_closed"),error_details:"PIX_MODAL_CLOSED"},s=function(){var t;return null==(t=window.Rewardful)?void 0:t.referral},d={disablePayButton:!0,type:"danger",existingAccount:!1,hasAlreadyPurchased:!1,message:null},p=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.loginUrl,a=e.resetPasswordRedirectUrl,i={USER_LOGIN_REQUIRED:{disablePayButton:!1,type:"warning",existingAccount:!0,message:(0,r.t)("paywall_checkout.form.errors.existing_account",{sign_in_url:n,reset_password_url:a})},INVALID_COUPON:{message:(null==t?void 0:t.message)||""},OTP_SESSION_EXPIRED:{disablePayButton:!1,message:(null==t?void 0:t.message)||""},PIX_PAYMENT_EXPIRED:l,PIX_MODAL_CLOSED:c,PROCESSOR_ERROR:{disablePayButton:!1,message:(null==t?void 0:t.message)||"",type:"danger"}};return t?i[t.error_details]:u},_=function(t){var e=t.isPaywallActive,n=t.selectedPrice,i=t.preview,o=t.currency;return e&&n?(null==n?void 0:n.trial_enabled)?(null==n?void 0:n.trial_requires_upfront_payment)?(0,r.t)("paywall_checkout.form.buttons.paid_trial"):(0,r.t)("paywall_checkout.form.buttons.trial"):i&&(null==i?void 0:i.amount_due_now)===0&&(null==n?void 0:n.display_interval)?(0,r.t)("paywall_checkout.form.buttons.subscribe"):!i||(null==i?void 0:i.amount_due_now)!==0||(null==n?void 0:n.display_interval)?i&&i.amount_due_now>0?"".concat((0,r.t)("paywall_checkout.form.buttons.pay")," ").concat((0,a.I)(o,i.amount_due_now)):"".concat((0,r.t)("paywall_checkout.form.buttons.pay")," ").concat((0,a.I)(o,n.amount)):(0,r.t)("paywall_checkout.form.buttons.continue"):(0,r.t)("paywall_checkout.form.buttons.draft_pay")},m=function(t){var e=t.community_id,n=t.paywall_price_id,r=t.community_member_billing_info_attributes,a=t.coupon_code,u=t.coupon_code_applied,l=t.payment_method_type;return{queryParams:{payment_method_type:l,community_id:e,paywall_price_id:n,community_member_billing_info_attributes:r,coupon_code:a,coupon_code_applied:u},shouldIgnoreCommunityMember:(0,o.Lf)(l),locale:(0,i.cm)()}},f=function(t){var e=t.paymentMethodType,n=t.paymentIntentId,r=t.invoiceId,a=t.sessionId,i=new URLSearchParams(window.location.search);return i.set("payment_method_type",e),r&&i.set("invoice",r),n&&i.set("payment_intent",n),a&&i.set("session_id",a.toString()),i},y=function(t){var e=f(t),n=new URL(window.location.href);return n.pathname=n.pathname.replace(/^\/+/,"/"),n.search=e.toString(),n},v=function(t){return y(t).toString()},b=function(t){var e=y(t);return"".concat(e.pathname).concat(e.search)}},33582:function(t,e,n){n.d(e,{Cb:()=>c,TC:()=>d,dQ:()=>p,qS:()=>s,qx:()=>l});var r=n(588437),a=n(867493),i=n(934493),o=n(215662),u=n(107094),l=function(t,e){var n,r,a,i=null==t||null==(n=t.checkoutPreviewContext)?void 0:n.coupon_applied;return!!i&&!!e&&((null==i?void 0:i.all_paywalls)||!!((null==i||null==(a=i.paywall_prices)?void 0:a[null==t||null==(r=t.paywall)?void 0:r.id])||[]).includes(e.id))&&((null==i?void 0:i.duration)!=="repeating"||(null==e?void 0:e.interval_type)!=="onetime")},c=Object.freeze({onetime:[r.E,0],monthly:[a.z,1],bimonthly:[a.z,2],quarterly:[a.z,3],biannually:[a.z,6],yearly:[a.z,12],weekly:[i.j,1],biweekly:[i.j,2],daily:[r.E,1]}),s=function(t){return Math.floor(((null==t?void 0:t.amount)||0)/((null==t?void 0:t.installments_count)||1))},d=function(t,e,n){var r,a,i=null==(r=t.checkoutPreviewContext)?void 0:r.coupon_applied;return i&&l(t,n)?-1*Math.floor((0,o.Dh)(i.type)?(0,u.$)(null==(a=t.paywall)?void 0:a.currency,i.amount):i.amount/100*e):0},p=function(t,e,n){return Math.max(0,e+d(t,e,n))}},227984:function(t,e,n){n.d(e,{J:()=>i,r:()=>a});var r=n(963381),a=function(t,e){var n;if(e&&(n=t.prices.find(function(t){return t.id===e})),!n){var r=t.prices.find(function(t){return t.preferred});n=r||t.prices[0]}return n},i=function(t,e){if(e)return e.amount_due_now;return(0,r.ZN)(t)?t.amount:t.upfront_payment_amount||t.amount}},287172:function(t,e,n){n.d(e,{e:()=>o});var r=n(314121),a=n(244289),i=n(227984),o=function(t,e){var n=(0,a.Gc)(),o=n.setValue,u=n.watch,l=(0,r.useCallback)(function(t){o("paywall_price_id",t),e&&e()},[o,e]),c=(0,r.useCallback)(function(){var e=u("paywall_price_id");return(0,i.r)(t,e)},[t,u]),s=(0,r.useCallback)(function(t){var e=c();return(null==e?void 0:e.id)===t.id},[c]);return{getSelectedPrice:c,setSelectedPrice:l,isSelectedPrice:s}}},282720:function(t,e,n){n.d(e,{m:()=>w});var r=n(714844),a=n(600651),i=n(867493),o=n(588437),u=n(214813),l=n(215662),c=n(963381),s=n(107094),d=n(33582);function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function _(t,e,n,r,a,i,o){try{var u=t[i](o),l=u.value}catch(t){n(t);return}u.done?e(l):Promise.resolve(l).then(r,a)}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){var r;r=n[e],e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r})}return t}function f(t,e){return e=null!=e?e:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):(function(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n.push.apply(n,r)}return n})(Object(e)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}),t}function y(t){return function(t){if(Array.isArray(t))return p(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||v(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t,e){if(t){if("string"==typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(t,e)}}var b=function(t,e,n,r){var a=t.applications,i=t.startDate,o=t.endDate,u=t.pointer,l="once"===r&&!a.find(function(t){return t.discount_amount>0}),c=("forever"===r||"repeating"===r)&&(u>=i||u<=o)||l?[{discount_amount:e,applied_at:u.toISOString()}]:[],s=function(t){if(Array.isArray(t))return t}(n)||function(t,e){var n,r,a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=a){var i=[],o=!0,u=!1;try{for(a=a.call(t);!(o=(n=a.next()).done)&&(i.push(n.value),i.length!==e);o=!0);}catch(t){u=!0,r=t}finally{try{o||null==a.return||a.return()}finally{if(u)throw r}}return i}}(n,2)||v(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();return{startDate:i,endDate:o,pointer:(0,s[0])(u,s[1]),applications:y(a).concat(y(c))}},x=function(t){var e,n=null==t||null==(e=t.checkoutPreviewContext)?void 0:e.coupon_applied;return(null==n?void 0:n.duration)==="forever"||(null==n?void 0:n.duration)==="once"?720:(null==n?void 0:n.duration_in_months)||0},h=function(t,e){var n,r,a=e.scenario,l=new Date,s=(0,i.z)(l,x(t)),p=null==t||null==(n=t.checkoutPreviewContext)?void 0:n.coupon_applied,_=[o.E,(null==(r=t.selectedPrice)?void 0:r.trial_days)||0],m={applications:[],endDate:s,pointer:l,startDate:l};return(0,c.$v)(a)&&(m=b(m,0,_,null==p?void 0:p.duration),m=b(m,-1*(0,d.TC)(t,e.upfront_payment_amount||0,e),d.Cb[e.interval_type],null==p?void 0:p.duration)),(0,c.Mf)(a)&&(m=b(m,0,_,null==p?void 0:p.duration)),(0,c.zG)(a)&&(m=b(m,-1*(0,d.TC)(t,(null==e?void 0:e.upfront_payment_amount)||0,e),d.Cb[e.interval_type],null==p?void 0:p.duration),m=b(m,0,_,null==p?void 0:p.duration)),(0,c.p5)(a)&&(m=b(m,-1*(0,d.TC)(t,(null==e?void 0:e.upfront_payment_amount)||0,e),d.Cb[e.interval_type],null==p?void 0:p.duration)),m=b(m,-1*(0,d.TC)(t,(0,d.qS)(e),e),d.Cb[e.interval_type],null==p?void 0:p.duration),(0,u.compact)(m.applications)},C=function(t,e){var n,r=null==t||null==(n=t.checkoutPreviewContext)?void 0:n.coupon_applied,a=[];(0,d.qx)(t,e)&&(a=h(t,e));var i=(0,l.s8)(null==r?void 0:r.duration)&&a.length>0,o=i?"Infinity":a.length,u=(0,l.Dh)(null==r?void 0:r.duration)?(0,s.$)(t.paywall.currency,(null==r?void 0:r.amount)||0):Number(null==r?void 0:r.amount);return{has_more:!!i,free_forever:!(!(0,l.s8)(null==r?void 0:r.duration)&&(0,c.T)(e))&&((0,l.hU)(null==r?void 0:r.type)&&100===u||(0,l.Dh)(null==r?void 0:r.type)&&u>=e.amount),application_count:o,applications:a}},g=function(t){var e;return{paywall_coupon:null==t||null==(e=t.checkoutPreviewContext)?void 0:e.coupon_applied,paywall:f(m({},t.paywall),{prices:t.paywall.prices.map(function(e){return f(m({},e),{coupon_applications:C(t,e)})})})}},w=function(t){var e=t.checkoutPreviewContext,n=t.paywall,i=n&&e?function(t){var r;return(r=function(){return function(t,e){var n,r,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=u(0),o.throw=u(1),o.return=u(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(u){return function(l){var c=[u,l];if(n)throw TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&c[0]?r.return:c[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,c[1])).done)return a;switch(r=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===c[0]||2===c[0])){i=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){i.label=c[1];break}if(6===c[0]&&i.label<a[1]){i.label=a[1],a=c;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(c);break}a[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}(this,function(r){switch(r.label){case 0:if(!t||!n)return[2,void 0];return[4,new Promise(function(t){return setTimeout(t,500)})];case 1:return r.sent(),[2,g({params:t,paywall:n,checkoutPreviewContext:e})]}})},function(){var t=this,e=arguments;return new Promise(function(n,a){var i=r.apply(t,e);function o(t){_(i,n,a,o,u,"next",t)}function u(t){_(i,n,a,o,u,"throw",t)}o(void 0)})})()}:a.k.show;return(0,r.useMutation)(i)}},333557:function(t,e,n){n.d(e,{UJ:()=>u,_j:()=>l,k$:()=>o,v3:()=>i,wH:()=>a});var r=n(314121),a={NO_COUPON_APPLIED:"no_coupon_applied",COUPON_NOT_AVAILABLE:"coupon_not_available",COUPON_APPLIED:"coupon_applied"},i=function(t,e){var n=o(t,e);return u(null==n?void 0:n.coupon_applications).status===a.COUPON_APPLIED},o=function(t,e){return(e||[]).find(function(e){return e.id===t})},u=function(t){return t&&("Infinity"===t.application_count||(t.application_count||0)>0)?{status:a.COUPON_APPLIED,applications:t.applications,has_more:t.has_more,free_forever:t.free_forever,application_count:t.application_count}:{status:a.COUPON_NOT_AVAILABLE,applications:[],has_more:!1,free_forever:!1,application_count:0}},l=function(t,e){var n=e.data,i=null==n?void 0:n.paywall,l=null==i?void 0:i.prices;return(0,r.useMemo)(function(){if(!(null==e?void 0:e.data)||e.isError)return{status:a.NO_COUPON_APPLIED,applications:[],has_more:!1,free_forever:!1,application_count:0};var n=o(t,l);return u(null==n?void 0:n.coupon_applications)},[t,null==e?void 0:e.data,l,e.isError])}},211093:function(t,e,n){n.d(e,{N:()=>h});var r=n(714844),a=n(600651),i=n(588437),o=n(214813),u=n(963381),l=n(286402),c=n(33582);function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function d(t,e,n,r,a,i,o){try{var u=t[i](o),l=u.value}catch(t){n(t);return}u.done?e(l):Promise.resolve(l).then(r,a)}var p=function(t){var e,n,r;return[u.Rt.trialThenValue,u.Rt.trialThenUpfrontThenValue].includes((null==(e=t.selectedPrice)?void 0:e.scenario)||"value")?0:[u.Rt.upfrontThenValue,u.Rt.upfrontThenTrialThenValue].includes((null==(n=t.selectedPrice)?void 0:n.scenario)||"value")?(null==(r=t.selectedPrice)?void 0:r.upfront_payment_amount)||0:(0,c.qS)(null==t?void 0:t.selectedPrice)},_=function(t){var e;return Number(null==(e=t.selectedPrice)?void 0:e.trial_days)||0},m=function(t){var e;return[u.Rt.trialThenValue,u.Rt.trialThenUpfrontThenValue].includes((null==t||null==(e=t.selectedPrice)?void 0:e.scenario)||"value")},f=function(t){var e;return[u.Rt.upfrontThenTrialThenValue].includes((null==t||null==(e=t.selectedPrice)?void 0:e.scenario)||"value")},y=function(t){var e,n;return 0>=_(t)?null:{days:null==(e=t.selectedPrice)?void 0:e.trial_days,free:m(t),paid:f(t),ends_on:(0,i.E)(new Date,(null==(n=t.selectedPrice)?void 0:n.trial_days)||0).toLocaleDateString("en-CA")}},v=function(t){var e,n,r,a=(e=c.Cb[(null==(n=t.selectedPrice)?void 0:n.interval_type)||l.E4.onetime],function(t){if(Array.isArray(t))return t}(e)||function(t,e){var n,r,a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=a){var i=[],o=!0,u=!1;try{for(a=a.call(t);!(o=(n=a.next()).done)&&(i.push(n.value),i.length!==e);o=!0);}catch(t){u=!0,r=t}finally{try{o||null==a.return||a.return()}finally{if(u)throw r}}return i}}(e,2)||function(t,e){if(t){if("string"==typeof t)return s(t,2);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(t,e)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=a[0],d=a[1],p=(0,i.E)(new Date,m(t)||f(t)?_(t):0),y=(null==(r=t.selectedPrice)?void 0:r.scenario)===u.Rt.value&&1===t.selectedPrice.installments_count,v=(0,u.ZN)(t.selectedPrice);return y||v?null:{subtotal:33333,discount:0,tax:0,total:33333,starting_balance:0,amount_due:33333,carry_over_amount:0,ending_balance:0,start_on:o(p,d).toLocaleDateString("en-CA")}},b=function(t){var e,n=(0,i.E)(new Date,m(t)?_(t):0),r=p(t);return{subtotal:null==(e=t.selectedPrice)?void 0:e.amount,discount:(0,c.TC)(t,r,t.selectedPrice),tax:0,total:(0,c.dQ)(t,r,t.selectedPrice),starting_balance:0,amount_due:(0,c.dQ)(t,r,t.selectedPrice),carry_over_amount:0,ending_balance:0,price_amount:r,prorated_credit_description:"",prorated_credit_amount:0,due_on:n.toLocaleDateString("en-CA")}},x=function(t){var e,n,r,a,i,u,l,c,s,d=b(t),p=v(t);return{amount_due_now:d.amount_due,preview_scenario:(null==t||null==(e=t.selectedPrice)?void 0:e.scenario)||"value",community_id:null==t||null==(n=t.checkoutPreviewContext)?void 0:n.community_id,paywall_id:t.paywall.id,paywall_price_id:null==t||null==(r=t.selectedPrice)?void 0:r.id,free_forever:!1,paywall_coupon_id:null==t||null==(i=t.checkoutPreviewContext)||null==(a=i.coupon_applied)?void 0:a.id,paywall_coupon_code:null==t||null==(l=t.checkoutPreviewContext)||null==(u=l.coupon_applied)?void 0:u.code,currency:null==(c=t.paywall)?void 0:c.currency,trial_period:y(t),first_payment:d,future_payments:p,remaining_payments:null,paywall_coupon:null==t||null==(s=t.checkoutPreviewContext)?void 0:s.coupon_applied,paywall_price:(0,o.pick)(t.selectedPrice,["id","interval_type","price_type"])}},h=function(t){var e=t.checkoutPreviewContext,n=t.paywall,i=e&&n?function(t){var r;return(r=function(){var r;return function(t,e){var n,r,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=u(0),o.throw=u(1),o.return=u(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(u){return function(l){var c=[u,l];if(n)throw TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&c[0]?r.return:c[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,c[1])).done)return a;switch(r=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===c[0]||2===c[0])){i=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){i.label=c[1];break}if(6===c[0]&&i.label<a[1]){i.label=a[1],a=c;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(c);break}a[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}(this,function(a){switch(a.label){case 0:if(!t||!n)return[2,null];return r=n.prices.find(function(e){return e.id===t.queryParams.paywall_price_id}),[4,new Promise(function(t){return setTimeout(t,500)})];case 1:return a.sent(),[2,x({params:t,paywall:n,checkoutPreviewContext:e,selectedPrice:r})]}})},function(){var t=this,e=arguments;return new Promise(function(n,a){var i=r.apply(t,e);function o(t){d(i,n,a,o,u,"next",t)}function u(t){d(i,n,a,o,u,"throw",t)}o(void 0)})})()}:function(t){return a.k.preview(t)};return(0,r.useMutation)(i)}},599631:function(t,e,n){n.d(e,{I7:()=>o,hX:()=>r,jw:()=>i,pB:()=>a});var r={setup:"setup",payment:"payment",subscription:"subscription"},a={off_session:"off_session",on_session:"on_session"},i={accordion:"accordion",tabs:"tabs"},o={billing:"billing",shipping:"shipping"}},640792:function(t,e,n){n.d(e,{G:()=>O,Y:()=>S});var r=n(683551),a=n(314121),i=n(599631),o=n(244289),u=n(564514),l=n(672842),c=n(287172),s=n(421065),d=n(282720),p=n(333557),_=n(211093),m=n(291416),f=n(705206),y=function(t,e,n,r,a,i,o){var u=(!e.trial_enabled||e.trial_requires_upfront_payment||t.trial_requires_card)&&(0,f.F_)(n)&&!o,l=e.trial_enabled&&(0,f.F_)(n)&&t.trial_requires_card&&!e.trial_requires_upfront_payment;return{isCardInfoRequired:u,isCardInfoValid:!u||r,isSetupIntentRequired:!a&&l||a&&!i}};function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function b(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n,r,a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=a){var i=[],o=!0,u=!1;try{for(a=a.call(t);!(o=(n=a.next()).done)&&(i.push(n.value),!e||i.length!==e);o=!0);}catch(t){u=!0,r=t}finally{try{o||null==a.return||a.return()}finally{if(u)throw r}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return v(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(t,e)}}(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var x={disablePayButton:!1,existingAccount:!1,message:"",type:""},h=function(t){var e=t.isMemberAddressRequired,n=t.isTaxIdMandatory,r=t.paywall,i=t.isMemberWithSavedPaymentMethods,f=t.loginUrl,v=t.resetPasswordUrl,h=t.checkoutPreviewContext,C=(0,o.Gc)(),g=C.watch,w=C.setValue,P=C.setError,O=C.getValues,S=C.clearErrors,I=(0,u.k6)(),k=b((0,a.useState)(!1),2),E=k[0],A=k[1],T=b((0,a.useState)("card"),2),j=T[0],M=T[1],U=b((0,a.useState)(!1),2),R=U[0],D=U[1],L=b((0,a.useState)(x),2),N=L[0],V=L[1],$=b((0,a.useState)(null),2),z=$[0],q=$[1],B=b((0,a.useState)(!1),2),G=B[0],Z=B[1],H=b((0,a.useState)(0),2),F=H[0],X=H[1],J=b((0,a.useState)(!1),2),Y=J[0],K=J[1],W=function(){V(x),q(null)};(0,a.useEffect)(function(){N.existingAccount&&P("email",{type:"duplicated"})},[P,N]);var Q=(0,d.m)({checkoutPreviewContext:h,paywall:r}),tt=(0,_.N)({checkoutPreviewContext:h,paywall:r}),te=g(),tn=te.paywall_price_id,tr=te.payment_method_type,ta=te.community_member_billing_info_attributes,ti=(0,a.useCallback)(function(t){var e,n,r,a=(0,l.pN)(O()),i=(0,p.k$)(tn,(null==t||null==(e=t.paywall)?void 0:e.prices)||(null==Q||null==(r=Q.data)||null==(n=r.paywall)?void 0:n.prices));(0,p.UJ)(null==i?void 0:i.coupon_applications).status!==p.wH.COUPON_APPLIED&&(a.queryParams.coupon_code=""),tt.mutate(a,{onSuccess:function(t){V(x),X(t.amount_due_now),K(t.free_forever)},onError:function(t){var e,n;if(console.error(t),null==(n=t.body.error_details)||null==(e=n.code)?void 0:e.match(/coupon_/))return void ti();V({message:t.message,type:"danger",disablePayButton:!0})}})},[w,V,tt,Q,O,tn]);(0,a.useEffect)(function(){ti()},[tn,tr,null==ta?void 0:ta.address_country]);var to=(0,c.e)(r,ti),tu=to.getSelectedPrice,tl=to.setSelectedPrice,tc=to.isSelectedPrice,ts=(0,a.useCallback)(function(t){var n=g().community_member_billing_info_attributes,r=(void 0===n?{}:n).address_country,a=t.value,i=t.complete,o=a.name,u=a.address,l=u.line1,c=u.line2,s=u.city,d=u.state,p=u.postal_code,_=u.country;w("name",o),w("community_member_billing_info_attributes[address_line1]",l),w("community_member_billing_info_attributes[address_line2]",c),w("community_member_billing_info_attributes[address_city]",s),w("community_member_billing_info_attributes[address_state]",d),w("community_member_billing_info_attributes[address_postal_code]",p),w("community_member_billing_info_attributes[address_country]",_),(void 0===r?"":r)!==_&&(w("community_member_billing_info_attributes[tax_id_type]",""),w("community_member_billing_info_attributes[tax_id_value]",""));var m=!e||i;w("community_member_billing_info_address_attributes_complete",m),m&&ti()},[e,w,g,ti]),td=(0,a.useCallback)(function(t){var e,n=t.data,r=(null==n||null==(e=n.paywall_coupon)?void 0:e.code)||g().coupon_code||"";w("coupon_code",r.toUpperCase()),ti(n);var a=new URLSearchParams(I.location.search),i=a.get("affiliate_code");h||(a.set("coupon_code",r),i&&a.set("affiliate_code",i),I.replace({pathname:I.location.pathname,search:a.toString()}))},[g,w,ti,I]),tp=(0,a.useCallback)(function(t){var e=t.resetPreview;S("coupon_code"),w("coupon_code",""),K(!1),(void 0===e||e)&&(Q.reset(),ti());var n=new URLSearchParams(I.location.search).get("affiliate_code");n?I.replace({pathname:I.location.pathname,search:"?affiliate_code=".concat(n)}):I.replace({pathname:I.location.pathname,search:""})},[w,ti,I,S,Q]),t_=b((0,a.useState)(n),2),tm=t_[0],tf=t_[1],ty=(0,a.useCallback)(function(){return tf(!0)},[tf]),tv=b((0,a.useState)(),2),tb=tv[0],tx=tv[1],th=(0,a.useCallback)(function(){tb&&(clearTimeout(tb),tx(void 0))},[tb,tx]);(0,a.useEffect)(function(){var t=function(){th(),tx(setTimeout(function(){ti()},250))},e=g(function(e,n){var r=n.name;if("community_member_billing_info_attributes.tax_id_type"===r)""===((null==(a=e.community_member_billing_info_attributes)?void 0:a.tax_id_type)||"")&&t();else if("community_member_billing_info_attributes.tax_id_value"===r){var a,i,o,u=(null==(i=e.community_member_billing_info_attributes)?void 0:i.tax_id_type)||"",l=(null==(o=e.community_member_billing_info_attributes)?void 0:o.tax_id_value)||"";(0,s.V$)({taxIdEnum:u,taxIdValue:l,countryCode:null==ta?void 0:ta.address_country})&&t()}});return function(){e.unsubscribe(),th()}},[g,ti,th,tx,W]);var tC=tu(),tg=(0,m.zh)(r),tw=y(r,tC,tr,R,i,E,Y),tP=tw.isCardInfoRequired,tO=tw.isCardInfoValid,tS=tw.isSetupIntentRequired,tI=(0,a.useMemo)(function(){var t=f.includes("#email"),e=f.replace("#email",""),n="".concat(e,"?post_login_redirect=").concat(encodeURIComponent(window.location.href));return t?"".concat(n,"#email"):n},[f,window.location.href]),tk=(0,a.useMemo)(function(){return"".concat(v,"?post_login_redirect=").concat(encodeURIComponent(window.location.href))},[v,window.location.href]),tE=b((0,a.useState)(!1),2);return{clearAlerts:W,setSelectedPrice:tl,getSelectedPrice:tu,isSelectedPrice:tc,applyCouponCode:td,clearCouponCode:tp,enableTaxIdCollection:ty,isTaxIdCollectionEnabled:tm,paymentError:N,couponPreviewMutation:Q,previewMutation:tt,setMemberAddressAttributes:ts,setPaymentError:V,isCardInfoComplete:R,setIsCardInfoComplete:D,isCardInfoValid:tO,isPaywallActive:tg,isCardInfoRequired:tP,isSetupIntentRequired:tS,handleError:function(t){V(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){var r;r=n[e],e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r})}return t}({},l.JV,t))},isProcessingPayment:G,setIsProcessingPayment:Z,amountDue:F,stripePaymentMethodType:j,setStripePaymentMethodType:M,isMemberUsingSavedPaymentMethod:E,setIsMemberUsingSavedPaymentMethod:A,paywallFailure:z,setPaywallFailure:q,loginRedirectUrl:tI,resetPasswordRedirectUrl:tk,isPerformingVerification:tE[0],setIsPerformingVerification:tE[1]}};function C(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){var r;r=n[e],e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r})}return t}var w={},P=(0,a.createContext)(w);P.displayName="CheckoutContext";var O=function(t){var e,n,o,u=t.children,l=t.isMemberAddressRequired,c=t.paywall,s=t.isTaxIdMandatory,d=t.isMemberWithSavedPaymentMethods,p=t.loginUrl,_=t.resetPasswordUrl,m=t.checkoutPreviewContext,f=h({isMemberAddressRequired:l,isTaxIdMandatory:s,paywall:c,isMemberWithSavedPaymentMethods:d,loginUrl:p,resetPasswordUrl:_,checkoutPreviewContext:m}),y=f.applyCouponCode,v=f.clearCouponCode,b=f.enableTaxIdCollection,x=f.getSelectedPrice,O=f.isTaxIdCollectionEnabled,S=f.paymentError,I=f.previewMutation,k=f.setMemberAddressAttributes,E=f.setPaymentError,A=f.setSelectedPrice,T=f.isCardInfoComplete,j=f.setIsCardInfoComplete,M=f.isCardInfoValid,U=f.isPaywallActive,R=f.isCardInfoRequired,D=f.isSetupIntentRequired,L=f.handleError,N=f.isProcessingPayment,V=f.setIsProcessingPayment,$=f.isMemberUsingSavedPaymentMethod,z=f.setIsMemberUsingSavedPaymentMethod,q=function(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}(f,["applyCouponCode","clearCouponCode","enableTaxIdCollection","getSelectedPrice","isTaxIdCollectionEnabled","paymentError","previewMutation","setMemberAddressAttributes","setPaymentError","setSelectedPrice","isCardInfoComplete","setIsCardInfoComplete","isCardInfoValid","isPaywallActive","isCardInfoRequired","isSetupIntentRequired","handleError","isProcessingPayment","setIsProcessingPayment","isMemberUsingSavedPaymentMethod","setIsMemberUsingSavedPaymentMethod"]),B=(e=(0,a.useState)(i.hX.payment),function(t){if(Array.isArray(t))return t}(e)||function(t,e){var n,r,a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=a){var i=[],o=!0,u=!1;try{for(a=a.call(t);!(o=(n=a.next()).done)&&(i.push(n.value),i.length!==e);o=!0);}catch(t){u=!0,r=t}finally{try{o||null==a.return||a.return()}finally{if(u)throw r}}return i}}(e,2)||function(t,e){if(t){if("string"==typeof t)return C(t,2);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(t,e)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),G=B[0],Z=B[1],H=g((n=g({},w,t),o=o={applyCouponCode:y,clearCouponCode:v,enableTaxIdCollection:b,getSelectedPrice:x,isTaxIdCollectionEnabled:O,paymentError:S,previewMutation:I,setMemberAddressAttributes:k,setPaymentError:E,setSelectedPrice:A,isCardInfoComplete:T,setIsCardInfoComplete:j,isCardInfoValid:M,isPaywallActive:U,isCardInfoRequired:R,isSetupIntentRequired:D,handleError:L,isProcessingPayment:N,setIsProcessingPayment:V,isMemberUsingSavedPaymentMethod:$,setIsMemberUsingSavedPaymentMethod:z,stripeElementsMode:G,setStripeElementsMode:Z,checkoutPreviewContext:m},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):(function(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n.push.apply(n,r)}return n})(Object(o)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(o,t))}),n),q);return(0,r.jsx)(P.Provider,{value:H,children:u})},S=function(){return(0,a.useContext)(P)}},215662:function(t,e,n){n.d(e,{vi:()=>c,Dh:()=>i,s8:()=>_,hU:()=>o,gL:()=>p,l_:()=>s,V5:()=>u,DP:()=>l,w4:()=>d});var r=n(484706),a=Object.freeze({fixed:"PaywallCoupons::Fixed",percent:"PaywallCoupons::Percent"}),i=function(t){return t===a.fixed},o=function(t){return t===a.percent},u=a,l=Object.freeze({ACTIVE:"active",INACTIVE:"inactive"}),c=[l.ACTIVE,l.INACTIVE],s=function(t){return"incomplete"!==t},d=function(t){return"ended"===t},p=function(t){return t===r.m.repeating},_=function(t){return t===r.m.forever}},291416:function(t,e,n){n.d(e,{Jy:()=>l,_h:()=>u,dR:()=>c,j2:()=>s,rI:()=>d,zh:()=>o});var r=n(214813),a=n(963381),i=n(145146),o=function(t){return t.status===i.Tl.ACTIVE},u=function(t){return(null==t?void 0:t.status)===i.Tl.INACTIVE},l=function(t){return(0,r.filter)(t,function(t){return(0,r.some)(t.stripe_prices_attributes,function(t){return(0,a.AP)(t)})})},c=function(t){return void 0!==t},s=function(t){return t===i.Tl.ACTIVE&&c(t)},d=function(t){return(0,r.filter)(t,function(t){return(0,a.vE)(t.stripe_prices_attributes||[]).length>0})}},963381:function(t,e,n){n.d(e,{$_:()=>I,$v:()=>T,AP:()=>x,Mf:()=>k,PI:()=>g,QC:()=>P,QT:()=>_,Rt:()=>d,T:()=>y,TM:()=>S,X8:()=>w,ZN:()=>f,aG:()=>v,f:()=>O,fe:()=>h,mn:()=>M,oc:()=>b,p5:()=>E,t3:()=>m,vE:()=>C,zA:()=>p,zG:()=>A});var r,a,i=n(214813),o=n(100334),u=n(23919),l=n(286402),c=n(107094);function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d={value:"value",trialThenValue:"trial_then_value",upfrontThenValue:"upfront_then_value",trialThenUpfrontThenValue:"trial_then_upfront_then_value",upfrontThenTrialThenValue:"upfront_then_trial_then_value"},p={addingPrice:"adding_price",addingSubscription:"adding_subscription"},_=function(t){return(null==t?void 0:t.price_type)===l.E4.subscription},m=function(t){return(null==t?void 0:t.price_type)===l.E4.installments},f=function(t){return(null==t?void 0:t.price_type)===l.E4.onetime},y=function(t){return _(t)||m(t)},v=function(t){return(0,i.filter)(t,function(t){return y(t)})},b=function(t){return t.status===l.mw.active},x=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.addingSubscription;return y(t)&&(e==p.addingPrice||!t.upfront_payment_amount)},h=function(t){return(0,i.filter)(t,function(t){return _(t)})},C=function(t){return(0,i.filter)(t,function(t){return _(t)&&b(t)})},g=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.addingSubscription;return(0,i.filter)(t,function(t){return x(t,e)})},w=function(t,e,n){return Object.values(t.frequencies).find(function(t){return t.interval===e&&t.interval_count===n})},P=function(t){var e,n=null!=(e=t.stripe_prices_attributes.find(function(t){return t.preferred}))?e:t.stripe_prices_attributes[0];return n?n.short_description:(0,o.t)("settings.paywalls.list.form.no_preferred_price_selected")},O={noUpfrontPayment:"no_upfront_payment",upfrontPayment:"upfront_payment"},S=function(t,e,n){if(!e)return{variant:O.noUpfrontPayment};var r,a=(0,u.LG)(e);if(!a)return{variant:O.noUpfrontPayment};var i=(0,c.I)(t,a,{amountInCents:!0,includeCurrencyCode:null==(r=null==n?void 0:n.shouldShowCurrency)||r});return{variant:O.upfrontPayment,amountInCents:a,amountFormatted:i}},I=function(t,e,n){return t.variant===O.noUpfrontPayment?Math.round(e/n):Math.round((e-t.amountInCents)/n)},k=function(t){return t===d.trialThenValue},E=function(t){return t===d.upfrontThenValue},A=function(t){return t===d.upfrontThenTrialThenValue},T=function(t){return t===d.trialThenUpfrontThenValue},j=Object.freeze({monthly:(s(r={},1,"monthly"),s(r,2,"bimonthly"),s(r,3,"quarterly"),s(r,6,"biannually"),r),yearly:s({},1,"yearly"),weekly:(s(a={},1,"weekly"),s(a,2,"biweekly"),a),daily:s({},1,"daily")}),M=function(t){return t.interval&&t.interval_count&&j[t.interval]?j[t.interval][t.interval_count]:"onetime"}},484706:function(t,e,n){n.d(e,{U:()=>r,m:()=>a});var r={active:"active",inactive:"inactive"},a={forever:"forever",once:"once",repeating:"repeating"}},286402:function(t,e,n){n.d(e,{E4:()=>a,mw:()=>r});var r={active:"active",inactive:"inactive",draft:"draft"},a={onetime:"onetime",subscription:"subscription",installments:"installments"}},421065:function(t,e,n){n.d(e,{Re:()=>p,SU:()=>s,V$:()=>i,Zx:()=>a,gf:()=>d,kk:()=>l,xG:()=>o});var r=n(674798),a=function(t){return r.A.some(function(e){return e.countryCode===t})},i=function(t){var e,n=t.taxIdEnum,a=t.taxIdValue,i=t.countryCode,o=r.A.find(function(t){return t.enum===n&&t.countryCode===i});return!!o&&(null==(e=o.formOptions)||!e.pattern||o.formOptions.pattern.test(a))},o=function(t){return{value:t.label,text:t.label}},u=r.A.reduce(function(t,e){return t["".concat(e.enum,"-").concat(e.countryCode)]=e,t},{}),l=function(t,e){var n,r;return null!=(r=null==(n=u["".concat(t,"-").concat(e)])?void 0:n.label)?r:""},c=r.A.reduce(function(t,e){return t[e.label]=e,t},{}),s=function(t){return c[null!=t?t:""]};r.A.reduce(function(t,e){return t[e.enum]=e,t},{});var d=function(t,e){var n=e.toLowerCase();return t.value.toLowerCase().includes(n)||t.text.toLowerCase().includes(n)},p=function(){return r.A.find(function(t){return"br_cpf"===t.enum})}},674798:function(t,e,n){n.d(e,{A:()=>s});var r=n(100334),a=[{countryCode:"BR",country:(0,r.t)("tax_ids.brazil"),label:(0,r.t)("tax_ids.brazil_cnpj"),example:"01.234.456/5432-10",description:(0,r.t)("tax_ids.brazil_cnpj_description"),enum:"br_cnpj",formOptions:{pattern:/(\d{14}|\d{2}.\d{3}.\d{3}\/\d{4}-\d{2})$/}},{countryCode:"BR",country:(0,r.t)("tax_ids.brazil"),label:(0,r.t)("tax_ids.brazil_cpf"),example:"123.456.789-87",description:(0,r.t)("tax_ids.brazil_cpf_description"),enum:"br_cpf",formOptions:{pattern:/(\d{11}|\d{3}.\d{3}.\d{3}-\d{2})$/}},{countryCode:"CA",country:(0,r.t)("tax_ids.canada"),label:(0,r.t)("tax_ids.canada_bn"),example:"123456789",description:(0,r.t)("tax_ids.canada_bn_description"),enum:"ca_bn"},{countryCode:"CA",country:(0,r.t)("tax_ids.canada"),label:(0,r.t)("tax_ids.canada_gst_hst"),example:"123456789RT0002",description:(0,r.t)("tax_ids.canada_gst_hst_description"),enum:"ca_gst_hst"},{countryCode:"CA",country:(0,r.t)("tax_ids.canada"),label:(0,r.t)("tax_ids.canada_pst_bc"),example:"PST-1234-5678",description:(0,r.t)("tax_ids.canada_pst_bc_description"),enum:"ca_pst_bc"},{countryCode:"CL",country:(0,r.t)("tax_ids.chile"),label:(0,r.t)("tax_ids.chile_rut"),example:"12.345.678-9",description:(0,r.t)("tax_ids.chile_rut_description"),enum:"cl_tin"},{countryCode:"CO",country:(0,r.t)("tax_ids.colombia"),label:(0,r.t)("tax_ids.colombia_nit"),example:"123.456.789-0",description:(0,r.t)("tax_ids.colombia_nit_description"),enum:"co_nit"},{countryCode:"MX",country:(0,r.t)("tax_ids.mexico"),label:(0,r.t)("tax_ids.mexico_rfc"),example:"ABCD010101ABC",description:(0,r.t)("tax_ids.mexico_rfc_description"),enum:"mx_rfc"},{countryCode:"PE",country:(0,r.t)("tax_ids.peru"),label:(0,r.t)("tax_ids.peru_ruc"),example:"12345678901",description:(0,r.t)("tax_ids.peru_ruc_description"),enum:"pe_ruc"},{countryCode:"US",country:(0,r.t)("tax_ids.united_states"),label:(0,r.t)("tax_ids.united_states_ein"),example:"12-3456789",description:(0,r.t)("tax_ids.united_states_ein_description"),enum:"us_ein"}],i=(0,r.t)("tax_ids.europe_vat_description"),o=[{countryCode:"AT",country:(0,r.t)("tax_ids.austria"),label:(0,r.t)("tax_ids.austria_vat"),example:"ATU12345678",description:i,enum:"eu_vat",formOptions:{pattern:/(ATU|atu)\d{8}$/}},{countryCode:"BE",country:(0,r.t)("tax_ids.belgium"),label:(0,r.t)("tax_ids.belgium_vat"),example:"BE0123456789",description:i,enum:"eu_vat",formOptions:{pattern:/(BE|be)\d{10}$/}},{countryCode:"BG",country:(0,r.t)("tax_ids.bulgaria"),label:(0,r.t)("tax_ids.bulgaria_vat"),example:"BG0123456789",description:i,enum:"eu_vat",formOptions:{pattern:/(BG|bg)\d{9,10}$/}},{countryCode:"BG",country:(0,r.t)("tax_ids.bulgaria"),label:(0,r.t)("tax_ids.bulgaria_uic"),example:"123456789",description:(0,r.t)("tax_ids.bulgaria_uic_description"),enum:"bg_uic"},{countryCode:"HR",country:(0,r.t)("tax_ids.croatia"),label:(0,r.t)("tax_ids.croatia_vat"),example:"HR12345678912",description:i,enum:"eu_vat",formOptions:{pattern:/(HR|hr)\d{11}$/}},{countryCode:"CY",country:(0,r.t)("tax_ids.cyprus"),label:(0,r.t)("tax_ids.cyprus_vat"),example:"CY12345678Z",description:i,enum:"eu_vat",formOptions:{pattern:/(CY|cy)[a-zA-Z0-9]{9}$/}},{countryCode:"CZ",country:(0,r.t)("tax_ids.czech_republic"),label:(0,r.t)("tax_ids.czech_republic_vat"),example:"CZ1234567890",description:i,enum:"eu_vat",formOptions:{pattern:/(CZ|cz)\d{8,10}$/}},{countryCode:"DK",country:(0,r.t)("tax_ids.denmark"),label:(0,r.t)("tax_ids.denmark_vat"),example:"DK12345678",description:i,enum:"eu_vat",formOptions:{pattern:/(DK|dk)\d{8}$/}},{countryCode:"EE",country:(0,r.t)("tax_ids.estonia"),label:(0,r.t)("tax_ids.estonia_vat"),example:"EE123456789",description:i,enum:"eu_vat",formOptions:{pattern:/(EE|ee)\d{9}$/}},{countryCode:"FI",country:(0,r.t)("tax_ids.finland"),label:(0,r.t)("tax_ids.finland_vat"),example:"FI12345678",description:i,enum:"eu_vat",formOptions:{pattern:/(FI|fi)\d{8}$/}},{countryCode:"FR",country:(0,r.t)("tax_ids.france"),label:(0,r.t)("tax_ids.france_vat"),example:"FRAB123456789",description:i,enum:"eu_vat",formOptions:{pattern:/(FR|fr)[a-zA-Z0-9]{11}$/}},{countryCode:"DE",country:(0,r.t)("tax_ids.germany"),label:(0,r.t)("tax_ids.germany_vat"),example:"DE123456789",description:i,enum:"eu_vat",formOptions:{pattern:/(DE|de)\d{9}$/}},{countryCode:"GB",country:(0,r.t)("tax_ids.united_kingdom"),label:(0,r.t)("tax_ids.united_kingdom_vat"),example:"GB123456789",description:(0,r.t)("tax_ids.united_kingdom_vat_description"),enum:"gb_vat",formOptions:{pattern:/(GB|gb)\d{9}$/}},{countryCode:"GB",country:(0,r.t)("tax_ids.northern_ireland"),label:(0,r.t)("tax_ids.northern_ireland_vat"),example:"XI123456789",description:(0,r.t)("tax_ids.northern_ireland_vat_description"),enum:"eu_vat",formOptions:{pattern:/(XI|xi)\d{9}$/}},{countryCode:"GR",country:(0,r.t)("tax_ids.greece"),label:(0,r.t)("tax_ids.greece_vat"),example:"EL123456789",description:i,enum:"eu_vat",formOptions:{pattern:/(EL|el)\d{9}$/}},{countryCode:"HU",country:(0,r.t)("tax_ids.hungary"),label:(0,r.t)("tax_ids.hungary_vat"),example:"HU12345678912",description:i,enum:"eu_vat",formOptions:{pattern:/(HU|hu)\d{8,10}$/}},{countryCode:"HU",country:(0,r.t)("tax_ids.hungary"),label:(0,r.t)("tax_ids.hungary_tin"),example:"12345678-1-23",description:(0,r.t)("tax_ids.hungary_tin_description"),enum:"hu_tin"},{countryCode:"IE",country:(0,r.t)("tax_ids.ireland"),label:(0,r.t)("tax_ids.ireland_vat"),example:"IE1234567AB",description:i,enum:"eu_vat",formOptions:{pattern:/(IE|ie)[a-zA-Z0-9]{8,9}$/}},{countryCode:"IT",country:(0,r.t)("tax_ids.italy"),label:(0,r.t)("tax_ids.italy_vat"),example:"IT12345678912",description:i,enum:"eu_vat",formOptions:{pattern:/(IT|it)\d{11}$/}},{countryCode:"LV",country:(0,r.t)("tax_ids.latvia"),label:(0,r.t)("tax_ids.latvia_vat"),example:"LV12345678912",description:i,enum:"eu_vat",formOptions:{pattern:/(LV|lv)\d{11}$/}},{countryCode:"LT",country:(0,r.t)("tax_ids.lithuania"),label:(0,r.t)("tax_ids.lithuania_vat"),example:"LT123456789123",description:i,enum:"eu_vat",formOptions:{pattern:/(LT|lt)\d{9,12}$/}},{countryCode:"LU",country:(0,r.t)("tax_ids.luxembourg"),label:(0,r.t)("tax_ids.luxembourg_vat"),example:"LU12345678",description:i,enum:"eu_vat",formOptions:{pattern:/(LU|lu)\d{8}$/}},{countryCode:"MT",country:(0,r.t)("tax_ids.malta"),label:(0,r.t)("tax_ids.malta_vat"),example:"MT12345678",description:i,enum:"eu_vat",formOptions:{pattern:/(MT|mt)\d{8}$/}},{countryCode:"NL",country:(0,r.t)("tax_ids.netherlands"),label:(0,r.t)("tax_ids.netherlands_vat"),example:"NL123456789B12",description:i,enum:"eu_vat",formOptions:{pattern:/(NL|nl)[a-zA-Z0-9]{12}$/}},{countryCode:"PL",country:(0,r.t)("tax_ids.poland"),label:(0,r.t)("tax_ids.poland_vat"),example:"PL1234567890",description:i,enum:"eu_vat",formOptions:{pattern:/(PL|pl)\d{10}$/}},{countryCode:"PT",country:(0,r.t)("tax_ids.portugal"),label:(0,r.t)("tax_ids.portugal_vat"),example:"PT123456789",description:i,enum:"eu_vat",formOptions:{pattern:/(PT|pt)\d{9}$/}},{countryCode:"RO",country:(0,r.t)("tax_ids.romania"),label:(0,r.t)("tax_ids.romania_vat"),example:"RO1234567891",description:i,enum:"eu_vat",formOptions:{pattern:/(RO|ro)\d{2,10}$/}},{countryCode:"SK",country:(0,r.t)("tax_ids.slovakia"),label:(0,r.t)("tax_ids.slovakia_vat"),example:"SK1234567891",description:i,enum:"eu_vat",formOptions:{pattern:/(SK|sk)\d{10}$/}},{countryCode:"SI",country:(0,r.t)("tax_ids.slovenia"),label:(0,r.t)("tax_ids.slovenia_vat"),example:"SI12345678",description:i,enum:"eu_vat",formOptions:{pattern:/(SI|si)\d{8}$/}},{countryCode:"ES",country:(0,r.t)("tax_ids.spain"),label:(0,r.t)("tax_ids.spain_vat"),example:"ESA1234567Z",description:i,enum:"eu_vat",formOptions:{pattern:/(ES|es)[a-zA-Z0-9]{9}$/}},{countryCode:"ES",country:(0,r.t)("tax_ids.spain"),label:(0,r.t)("tax_ids.spain_cif"),example:"A12345678",description:(0,r.t)("tax_ids.spain_cif_description"),enum:"es_cif"},{countryCode:"SE",country:(0,r.t)("tax_ids.sweden"),label:(0,r.t)("tax_ids.sweden_vat"),example:"SE123456789123",description:i,enum:"eu_vat",formOptions:{pattern:/(SE|se)\d{12}$/}},{countryCode:"CH",country:(0,r.t)("tax_ids.switzerland"),label:(0,r.t)("tax_ids.switzerland_vat"),example:"CHE-123.456.789 MWST",description:(0,r.t)("tax_ids.switzerland_vat_description"),enum:"ch_vat",formOptions:{pattern:/CHE-\d{3}.\d{3}.\d{3} ?[a-zA-Z]{2,4}$/}},{countryCode:"NO",country:(0,r.t)("tax_ids.norway"),label:(0,r.t)("tax_ids.norway_vat"),example:"123456789MVA",description:(0,r.t)("tax_ids.norway_vat_description"),enum:"no_vat",formOptions:{pattern:/\d{9}(MVA| MVA|mva| mva)$/}},{countryCode:"IS",country:(0,r.t)("tax_ids.iceland"),label:(0,r.t)("tax_ids.iceland_vat"),example:"123456",description:(0,r.t)("tax_ids.iceland_vat_description"),enum:"is_vat",formOptions:{pattern:/\d{5,6}$/}},{countryCode:"EU",country:(0,r.t)("tax_ids.european_union"),label:(0,r.t)("tax_ids.european_union_oss_vat"),example:"EU123456789",description:(0,r.t)("tax_ids.european_union_oss_vat_description"),enum:"eu_oss_vat"}],u=[{countryCode:"AU",country:(0,r.t)("tax_ids.australia"),label:(0,r.t)("tax_ids.australia_abn"),example:"12345678912",description:(0,r.t)("tax_ids.australia_abn_description"),enum:"au_abn"},{countryCode:"AU",country:(0,r.t)("tax_ids.australia"),label:(0,r.t)("tax_ids.australia_arn"),example:"123456789123",description:(0,r.t)("tax_ids.australia_arn_description"),enum:"au_arn"},{countryCode:"EG",country:(0,r.t)("tax_ids.egypt"),label:(0,r.t)("tax_ids.egypt_tin"),example:"123456789",description:(0,r.t)("tax_ids.egypt_tin_description"),enum:"eg_tin"},{countryCode:"GE",country:(0,r.t)("tax_ids.georgia"),label:(0,r.t)("tax_ids.georgia_vat"),example:"123456789",description:(0,r.t)("tax_ids.georgia_vat_description"),enum:"ge_vat"},{countryCode:"IN",country:(0,r.t)("tax_ids.india"),label:(0,r.t)("tax_ids.india_gst"),example:"12ABCDE3456FGZH",description:(0,r.t)("tax_ids.india_gst_description"),enum:"in_gst"},{countryCode:"ID",country:(0,r.t)("tax_ids.indonesia"),label:(0,r.t)("tax_ids.indonesia_npwp"),example:"12.345.678.9-012.345",description:(0,r.t)("tax_ids.indonesia_npwp_description"),enum:"id_npwp"},{countryCode:"IL",country:(0,r.t)("tax_ids.israel"),label:(0,r.t)("tax_ids.israel_vat"),example:"000012345",description:(0,r.t)("tax_ids.israel_vat_description"),enum:"il_vat"},{countryCode:"JP",country:(0,r.t)("tax_ids.japan"),label:(0,r.t)("tax_ids.japan_cn"),example:"1234567891234",description:(0,r.t)("tax_ids.japan_cn_description"),enum:"jp_cn"},{countryCode:"JP",country:(0,r.t)("tax_ids.japan"),label:(0,r.t)("tax_ids.japan_rn"),example:"12345",description:(0,r.t)("tax_ids.japan_rn_description"),enum:"jp_rn"},{countryCode:"JP",country:(0,r.t)("tax_ids.japan"),label:(0,r.t)("tax_ids.japan_trn"),example:"T1234567891234",description:(0,r.t)("tax_ids.japan_trn_description"),enum:"jp_trn"},{countryCode:"KE",country:(0,r.t)("tax_ids.kenya"),label:(0,r.t)("tax_ids.kenya_pin"),example:"P000111111A",description:(0,r.t)("tax_ids.kenya_pin_description"),enum:"ke_pin"},{countryCode:"LI",country:(0,r.t)("tax_ids.liechtenstein"),label:(0,r.t)("tax_ids.liechtenstein_uid"),example:"CHE123456789",description:(0,r.t)("tax_ids.liechtenstein_uid_description"),enum:"li_uid"},{countryCode:"MY",country:(0,r.t)("tax_ids.malaysia"),label:(0,r.t)("tax_ids.malaysia_frp"),example:"12345678",description:(0,r.t)("tax_ids.malaysia_frp_description"),enum:"my_frp"},{countryCode:"MY",country:(0,r.t)("tax_ids.malaysia"),label:(0,r.t)("tax_ids.malaysia_itn"),example:"C 1234567890",description:(0,r.t)("tax_ids.malaysia_itn_description"),enum:"my_itn"},{countryCode:"MY",country:(0,r.t)("tax_ids.malaysia"),label:(0,r.t)("tax_ids.malaysia_sst"),example:"A12-3456-78912345",description:(0,r.t)("tax_ids.malaysia_sst_description"),enum:"my_sst"},{countryCode:"NZ",country:(0,r.t)("tax_ids.new_zealand"),label:(0,r.t)("tax_ids.new_zealand_gst"),example:"123456789",description:(0,r.t)("tax_ids.new_zealand_gst_description"),enum:"nz_gst"},{countryCode:"PH",country:(0,r.t)("tax_ids.philippines"),label:(0,r.t)("tax_ids.philippines_tin"),example:"123456789012",description:(0,r.t)("tax_ids.philippines_tin_description"),enum:"ph_tin"},{countryCode:"RU",country:(0,r.t)("tax_ids.russia"),label:(0,r.t)("tax_ids.russia_inn"),example:"1234567891",description:(0,r.t)("tax_ids.russia_inn_description"),enum:"ru_inn"},{countryCode:"RU",country:(0,r.t)("tax_ids.russia"),label:(0,r.t)("tax_ids.russia_kpp"),example:"123456789",description:(0,r.t)("tax_ids.russia_kpp_description"),enum:"ru_kpp"},{countryCode:"SA",country:(0,r.t)("tax_ids.saudi_arabia"),label:(0,r.t)("tax_ids.saudi_arabia_vat"),example:"123456789012345",description:(0,r.t)("tax_ids.saudi_arabia_vat_description"),enum:"sa_vat"},{countryCode:"SG",country:(0,r.t)("tax_ids.singapore"),label:(0,r.t)("tax_ids.singapore_gst"),example:"M12345678X",description:(0,r.t)("tax_ids.singapore_gst_description"),enum:"sg_gst"},{countryCode:"SG",country:(0,r.t)("tax_ids.singapore"),label:(0,r.t)("tax_ids.singapore_uen"),example:"123456789F",description:(0,r.t)("tax_ids.singapore_uen_description"),enum:"sg_uen"},{countryCode:"SI",country:(0,r.t)("tax_ids.slovenia"),label:(0,r.t)("tax_ids.slovenia_tin"),example:"SI123456789",description:(0,r.t)("tax_ids.slovenia_tin_description"),enum:"si_tin"},{countryCode:"ZA",country:(0,r.t)("tax_ids.south_africa"),label:(0,r.t)("tax_ids.south_africa_vat"),example:"4123456789",description:(0,r.t)("tax_ids.south_africa_vat_description"),enum:"za_vat"},{countryCode:"KR",country:(0,r.t)("tax_ids.south_korea"),label:(0,r.t)("tax_ids.south_korea_brn"),example:"123-45-67890",description:(0,r.t)("tax_ids.korean_brn_description"),enum:"kr_brn"},{countryCode:"TW",country:(0,r.t)("tax_ids.taiwan"),label:(0,r.t)("tax_ids.taiwan_vat"),example:"12345678",description:(0,r.t)("tax_ids.taiwan_vat_description"),enum:"tw_vat"},{countryCode:"TH",country:(0,r.t)("tax_ids.thailand"),label:(0,r.t)("tax_ids.thailand_vat"),example:"1234567891234",description:(0,r.t)("tax_ids.thailand_vat_description"),enum:"th_vat"},{countryCode:"TR",country:(0,r.t)("tax_ids.turkey"),label:(0,r.t)("tax_ids.turkey_tin"),example:"0123456789",description:(0,r.t)("tax_ids.turkey_tin_description"),enum:"tr_tin"},{countryCode:"UA",country:(0,r.t)("tax_ids.ukraine"),label:(0,r.t)("tax_ids.ukraine_vat"),example:"123456789",description:(0,r.t)("tax_ids.ukraine_vat_description"),enum:"ua_vat"},{countryCode:"AE",country:(0,r.t)("tax_ids.united_arab_emirates"),label:(0,r.t)("tax_ids.united_arab_emirates_trn"),example:"123456789012345",description:(0,r.t)("tax_ids.united_arab_emirates_trn_description"),enum:"ae_trn"}];function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function c(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return l(t,void 0);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(t,e)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var s=c(a).concat(c(o),c(u)).sort(function(t,e){return t.label.localeCompare(e.label,"en",{sensitivity:"base"})})},568171:function(){}}]);
//# sourceMappingURL=/packs/js/1046-159642cfae35e54e.js.map