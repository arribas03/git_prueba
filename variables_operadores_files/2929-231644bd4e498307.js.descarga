"use strict";(self.webpackChunkcircle=self.webpackChunkcircle||[]).push([["2929"],{492098:function(e,n,t){t.d(n,{w:()=>b});var r=t(683551),o=t(530598),i=t(776875),c=t(722113),a=t(357339),l=t(100334),u=t(583972),s=t(645391),f=t(870879),d=t(930619),p=t(940921),m=function(e){var n=e.memberPublicUid,t=e.memberName,o=e.connectionId,i=e.shouldShowOnlyIcon,c=void 0!==i&&i,a=e.shouldShowAcceptAtLeft,m=(0,d.T)({memberPublicUid:n,memberName:t}),b=m.acceptConnectionForUser,h=m.isAccepting,v=(0,p.E)({memberPublicUid:n}),y=v.ignoreConnectionForUser,g=v.isIgnoring;return(0,r.jsxs)("div",{className:(0,s.A)("flex gap-x-2",void 0!==a&&a&&"flex-row-reverse justify-end"),children:[(0,r.jsx)(f.z,{variant:"secondary",onClick:function(){o&&y(o)},disabled:g||h,"aria-label":(0,l.t)("profile_drawer.connect_banner.states.ignore"),className:(0,s.A)(c&&"!h-8 !w-8 !p-0"),children:g?(0,r.jsx)(u.JO,{type:"loader"}):c?(0,r.jsx)(u.JO,{type:"20-close",size:20}):(0,r.jsx)(r.Fragment,{children:(0,l.t)("profile_drawer.connect_banner.states.ignore")})}),(0,r.jsx)(f.z,{variant:"circle",onClick:function(){o&&b(o)},disabled:h||g,"aria-label":(0,l.t)("profile_drawer.connect_banner.states.accept"),className:(0,s.A)(c&&"!h-8 !w-8 !p-0 text-white dark:text-black"),children:h?(0,r.jsx)(u.JO,{type:"loader"}):c?(0,r.jsx)(u.JO,{type:"20-checkmark",size:20,useWithFillCurrentColor:!0}):(0,r.jsx)(r.Fragment,{children:(0,l.t)("profile_drawer.connect_banner.states.accept")})})]})},b=function(e){var n=e.member,t=e.shouldShowOnlyIcon,l=e.shouldShowAcceptAtLeft,u=e.recommendationId,s=null==n?void 0:n.connection_to_current_community_member,f=(0,c.N)(s),d=f.isEmpty,p=f.isCurrentUserSentConnection,b=f.isOtherUserSentConnection,h=f.isActive;return n.name&&n.public_uid?d?(0,r.jsx)(o.N,{recipient:n,recommendationId:u}):h?(0,r.jsx)(a.I,{}):p?(0,r.jsx)(i.C,{memberPublicUid:n.public_uid,recipient:n.name,connectionId:null==s?void 0:s.id.toString(),fullWidth:!1}):b&&s?(0,r.jsx)(m,{shouldShowAcceptAtLeft:void 0!==l&&l,memberName:n.name,memberPublicUid:n.public_uid,connectionId:s.id.toString(),shouldShowOnlyIcon:void 0!==t&&t}):null:null}},936755:function(e,n,t){t.d(n,{H:()=>f});var r=t(683551),o=t(314121),i=t(100334),c=t(189713),a=t(645391),l=t(471465);function u(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function s(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],c=!0,a=!1;try{for(o=o.call(e);!(c=(t=o.next()).done)&&(i.push(t.value),!n||i.length!==n);c=!0);}catch(e){a=!0,r=e}finally{try{c||null==o.return||o.return()}finally{if(a)throw r}}return i}}(e,n)||function(e,n){if(e){if("string"==typeof e)return u(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return u(e,n)}}(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var f=function(e){var n=e.note,t=e.collapse,u=void 0!==t&&t,f=e.lineClamp,d=e.className,p=s((0,o.useState)(!1),2),m=p[0],b=p[1],h=s((0,o.useState)(!1),2),v=h[0],y=h[1],g=(0,o.useRef)(null);(0,o.useEffect)(function(){if(u&&g.current){var e=g.current;y(e.scrollHeight>e.clientHeight)}},[n,u]);var w=(0,l.D)();return(0,r.jsx)("div",{className:(0,a.A)("bg-secondary !mt-2 w-full rounded-lg px-3 py-2.5",w?"mb-1":"mb-3",d),children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{ref:g,className:(0,a.A)(u&&"whitespace-pre-wrap",u&&!m&&"line-clamp-".concat(void 0===f?3:f)),children:(0,r.jsx)(c.Z.BodyXs,{color:"text-darkest",weight:"normal",children:n})}),u&&v&&!m&&(0,r.jsx)("div",{className:"bg-secondary absolute bottom-0 right-0 pl-2",children:(0,r.jsx)("button",{type:"button",onClick:function(e){e.preventDefault(),e.stopPropagation(),b(!0)},className:"text-dark text-xs font-semibold",children:(0,i.t)("settings.connect_audience.see_more")})})]})})}},930619:function(e,n,t){t.d(n,{T:()=>b});var r=t(683551),o=t(714844),i=t(100334),c=t(703218),a=t(674701),l=t(169530),u=t(309785),s=t(112e3),f=t(838264);function d(e,n,t,r,o,i,c){try{var a=e[i](c),l=a.value}catch(e){t(e);return}a.done?n(l):Promise.resolve(l).then(r,o)}function p(e){return function(){var n=this,t=arguments;return new Promise(function(r,o){var i=e.apply(n,t);function c(e){d(i,r,o,c,a,"next",e)}function a(e){d(i,r,o,c,a,"throw",e)}c(void 0)})}}function m(e,n){var t,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},c=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return c.next=a(0),c.throw=a(1),c.return=a(2),"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function a(a){return function(l){var u=[a,l];if(t)throw TypeError("Generator is already executing.");for(;c&&(c=0,u[0]&&(i=0)),i;)try{if(t=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=n.call(e,i)}catch(e){u=[6,e],r=0}finally{t=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}var b=function(e){var n,t=e.memberPublicUid,d=e.memberName,b=e.onSuccess,h=e.user,v=(0,l.pm)(),y=(0,o.useQueryClient)(),g=(0,(0,f.S)().shouldShowMessageOption)(h),w=(0,c.c)(),x=w.handleMessageMember,_=w.isLoading,j=(n={onSuccess:function(){return p(function(){var e,n,o;return m(this,function(c){switch(c.label){case 0:return[4,new Promise(function(e){return setTimeout(e,2e3)})];case 1:return c.sent(),[4,(0,s._)(y,null!=(e=null!=t?t:null==h?void 0:h.public_uid)?e:"")];case 2:return c.sent(),(0,a.uQ)({queryClient:y}),v.success((0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{children:(0,i.t)("profile_drawer.connect_banner.messages.connection_accepted",{memberName:null!=(o=null!=(n=null==h?void 0:h.name)?n:d)?o:""})}),g&&(null==h?void 0:h.id)&&(0,r.jsx)("button",{type:"button",className:"hover:text-light underline transition-colors",onClick:function(){return p(function(){return m(this,function(e){switch(e.label){case 0:return[4,x(h.id.toString())];case 1:return e.sent(),[2]}})})()},children:(0,i.t)("message")})]}),{duration:"long"}),null==b||b(),[2]}})})()},onError:function(){v.error((0,i.t)("profile_drawer.connect_banner.messages.connection_accept_error"))}},(0,o.useMutation)(function(e){return u.e5.acceptConnection(e)},n));return{acceptConnectionForUser:j.mutate,isAccepting:j.isLoading||_}}},940921:function(e,n,t){t.d(n,{E:()=>s});var r=t(714844),o=t(100334),i=t(674701),c=t(169530),a=t(309785),l=t(112e3);function u(e,n,t,r,o,i,c){try{var a=e[i](c),l=a.value}catch(e){t(e);return}a.done?n(l):Promise.resolve(l).then(r,o)}var s=function(e){var n,t=e.memberPublicUid,s=(0,c.pm)(),f=(0,r.useQueryClient)(),d=(n={onSuccess:function(){var e;return(e=function(){return function(e,n){var t,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},c=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return c.next=a(0),c.throw=a(1),c.return=a(2),"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function a(a){return function(l){var u=[a,l];if(t)throw TypeError("Generator is already executing.");for(;c&&(c=0,u[0]&&(i=0)),i;)try{if(t=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=n.call(e,i)}catch(e){u=[6,e],r=0}finally{t=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}(this,function(e){switch(e.label){case 0:return[4,(0,l._)(f,null!=t?t:"")];case 1:return e.sent(),(0,i.uQ)({queryClient:f}),s.success((0,o.t)("profile_drawer.connect_banner.messages.connection_ignored")),[2]}})},function(){var n=this,t=arguments;return new Promise(function(r,o){var i=e.apply(n,t);function c(e){u(i,r,o,c,a,"next",e)}function a(e){u(i,r,o,c,a,"throw",e)}c(void 0)})})()},onError:function(){s.error((0,o.t)("profile_drawer.connect_banner.messages.connection_ignore_error"))}},(0,r.useMutation)(function(e){return a.e5.ignoreConnection(e)},n));return{ignoreConnectionForUser:d.mutate,isIgnoring:d.isLoading}}},330395:function(e,n,t){t.d(n,{_:()=>i});var r=t(714844),o=t(309785),i=function(e){return(0,r.useMutation)(function(e){return o.e5.withdrawConnection(e)},e)}}}]);
//# sourceMappingURL=/packs/js/2929-231644bd4e498307.js.map