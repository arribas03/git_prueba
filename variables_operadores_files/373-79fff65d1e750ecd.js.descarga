"use strict";(self.webpackChunkcircle=self.webpackChunkcircle||[]).push([["373"],{430701:function(e,t,n){n.d(t,{uy:()=>y,XR:()=>I,wW:()=>N,Um:()=>O,Yf:()=>T});var r=n(683551),o=n(379600),i=n.n(o),a=n(583972),l=n(189713),s=function(e){return({high:"16-smile",medium:"16-neutral",low:"16-sad",disabled:"16-disabled"})[e]},c=n(19693),u=n(792065),d=n(554956);function f(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){n(e);return}l.done?t(s):Promise.resolve(s).then(r,o)}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function m(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}var b=function(e){var t,n=e.className,o=e.children,a=(0,u.m3)(),l=(0,c.b)();return t={className:i()("inline-flex items-center justify-center gap-x-2 rounded-3xl border px-2.5 py-1.5",n),onClick:a?function(e){var t;return(t=function(){return function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(s){var c=[l,s];if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}(this,function(t){switch(t.label){case 0:return e.stopPropagation(),[4,l.show({source:d.fe.ACTIVITY_SCORES_SCORE_CHIP})];case 1:return t.sent(),[2]}})},function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(e){f(i,r,o,a,l,"next",e)}function l(e){f(i,r,o,a,l,"throw",e)}a(void 0)})})()}:void 0},a?(0,r.jsx)("button",m(p({},t),{type:"button",children:o})):(0,r.jsx)("div",m(p({},t),{children:o}))},h={high:{className:"border-v2-success text-v2-success bg-v2-success/5",icon:s("high")},medium:{className:"border-v2-warning text-v2-warning bg-v2-warning/5",icon:s("medium")},low:{className:"border-v2-danger text-v2-danger bg-v2-danger/5",icon:s("low")},disabled:{className:"border border-primary text-dark bg-tertiary",icon:s("disabled")}},y=function(e){var t=e.activityScore,n=h[t.activity],o=n.className,s=n.icon;return(0,r.jsxs)(b,{className:i()("inline-flex items-center justify-center gap-x-2 rounded-3xl border px-2.5 py-1.5",o),children:[(0,r.jsx)(a.JO,{className:"!w-4",type:s,"aria-hidden":!0,size:16}),(0,r.jsx)(l.Z.LabelXs,{weight:"medium",color:"text-default",children:void 0!==t.score?t.score:t.label})]})},v=n(100334),g=n(527804),x=n(351838);function j(e){var t=e.children,n=e.tooltipText;return(0,x.Z)("string"==typeof t,"children must be a string"),(0,r.jsxs)("div",{className:"text-default flex items-center gap-x-0.5",children:[(0,r.jsx)(l.Z.BodySm,{color:"text-default",weight:"font-semibold",children:t}),n&&(0,r.jsx)(g.T,{content:n,children:(0,r.jsx)(a.JO,{type:"16-info",useWithStrokeCurrentColor:!0,size:16,className:"size-3"})})]})}var _={high:{textColor:"text-v2-success",barBg:"bg-v2-success"},medium:{textColor:"text-v2-warning",barBg:"bg-v2-warning"},low:{textColor:"text-v2-danger",barBg:"bg-v2-danger"}},C=function(e){var t=e.label,n=e.score,o=e.scoreType,a=e.labelTooltipText,s=_[o],c=s.textColor,u=s.barBg;return(0,r.jsxs)("div",{className:"flex flex-col gap-y-3","data-testid":t,children:[(0,r.jsxs)("div",{className:"flex flex-row items-center justify-between",children:[(0,r.jsx)(j,{tooltipText:a,children:t}),(0,r.jsx)(l.Z.BodyXs,{weight:"font-semibold",color:c,children:n})]}),(0,r.jsx)("div",{className:i()("h-1 w-full rounded-full bg-gray-200 dark:bg-gray-600"),children:(0,r.jsx)("div",{className:i()("h-1 rounded-full",u),style:{width:"".concat(10*Math.min(10,n),"%")}})})]})},w={high:{className:"text-v2-success",icon:s("high")},medium:{className:"text-v2-warning",icon:s("medium")},low:{className:"text-v2-danger",icon:s("low")}},O=function(e){var t,n=e.scoreDetail,o=n.activityScore,s=w[o.activity],c=s.className,u=s.icon;return(0,r.jsxs)("div",{className:"border-stroke-background bg-primary w-96 rounded-lg border p-6 shadow-lg","data-testid":"activity-score-card",children:[(0,r.jsxs)("div",{className:"border-primary flex items-center justify-between border-b pb-6",children:[(0,r.jsxs)("div",{className:"text-default flex items-center gap-x-1",children:[(0,r.jsx)(l.Z.LabelMd,{weight:"semibold",children:(0,v.t)("activity_score.activity_score_title")}),(0,r.jsx)(g.T,{content:(0,v.t)("activity_score.description"),children:(0,r.jsx)(a.JO,{type:"16-info",useWithStrokeCurrentColor:!0,size:16})})]}),(0,r.jsxs)("div",{className:i()("flex items-center gap-x-2",c),children:[(0,r.jsx)(a.JO,{type:u,"aria-hidden":!0,size:20}),(0,r.jsx)(l.Z.LabelLg,{weight:"semibold",color:"currentColor",children:o.score})]})]}),(0,r.jsx)("div",{className:"flex flex-col gap-y-6 pt-6",children:null==(t=n.scoreBreakdown)?void 0:t.map(function(e){var t=e.category,n=e.display_value,o=e.score,i=e.activity;return(0,r.jsx)(C,{label:(0,v.t)(["activity_score.activity_card",t]),labelTooltipText:(0,v.t)(["settings.community_ai.activity_scores",t.toLowerCase(),"tooltip"]),score:o,scoreType:i},n)})})]})},S=n(314121),k=n(714844),P=n(547550),A=n(904812),E=function(e){var t=e.ids,n=(0,u.ov)();return(0,k.useQuery)({queryKey:["MEMBER_ACTIVITY_SCORE",t],queryFn:function(){return(0,P.UT)(A.av.memberActivityScore.index({params:{community_member_ids:t}}))},select:function(e){return e.reduce(function(e,t){return e.set(t.community_member_id,{activityScore:t.activity_score,scoreBreakdown:t.score_breakdown})},new Map)},enabled:n&&t.length>0})},L=(0,S.createContext)(null);function N(){var e=(0,S.useContext)(L);return(0,x.Z)(e,"useScoreContext must be used within a ScoreContextProvider"),e}function I(e){var t=e.ids,n=e.children,o=E({ids:void 0===t?[]:t});return(0,r.jsx)(L.Provider,{value:o,children:n})}L.displayName="ScoreContext";var M=n(536838),T=function(e){var t=e.scoreDetail;return(0,r.jsxs)(M.fC,{openDelay:500,children:[(0,r.jsx)(M.xz,{asChild:!0,children:(0,r.jsx)("div",{className:"cursor-pointer",children:(0,r.jsx)(y,{activityScore:t.activityScore})})}),(0,r.jsx)(M.h_,{children:(0,r.jsx)(M.VY,{className:"z-[1060]",sideOffset:10,align:"start",children:(0,r.jsx)(O,{scoreDetail:t})})})]})}},796559:function(e,t,n){n.d(t,{x:()=>a});var r=n(683551),o=n(800357),i=n(672003),a=function(e){var t,n,a=e.position,l=e.children,s=e.shouldShowRailBar,c=e.shouldHideRailbarDragger,u=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["position","children","shouldShowRailBar","shouldHideRailbarDragger"]),d=document.querySelector("#rail-bar-".concat(void 0===a?"header":a));return d&&(void 0===s||s)?(0,r.jsx)(r.Fragment,{children:(0,o.createPortal)((0,r.jsx)(i.S,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({shouldHideRailbarDragger:void 0===c||c},u),n=n={children:l},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t)),d)}):null}},731814:function(e,t,n){n.d(t,{F:()=>u});var r=n(683551),o=n(100334),i=n(85416),a=n(583972),l=n(870879),s=n(189713);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var u=function(e){var t,n=e.sources,u=(t=(0,i.k)(!1),function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),i.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return c(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=u[0],f=u[1],p=n.length;if(!d){var m=1===p?(0,o.t)("ai_summary.sources.one"):(0,o.t)("ai_summary.sources.other",{count:p});return(0,r.jsx)(l.z,{variant:"secondary-light",type:"button",onClick:f,small:!0,children:(0,r.jsxs)("span",{className:"flex items-center gap-2",children:[(0,r.jsx)(a.JO,{type:"16-ai-sources",size:16}),m]})})}return(0,r.jsxs)("div",{className:"flex flex-col items-start gap-3",children:[(0,r.jsx)("div",{className:"flex flex-col gap-2",children:n.map(function(e,t){return(0,r.jsxs)("div",{className:"grid grid-cols-[1.5rem_1fr] items-start",children:[(0,r.jsx)("span",{className:"text-default text-xs bg-tertiary mt-0.5 flex size-4 items-center justify-center rounded-full",children:t+1}),(0,r.jsx)("a",{href:e.url,target:"_blank",rel:"noreferrer",className:"text-default hover:text-default text-sm font-normal underline",children:(0,r.jsx)(s.Z.BodyXs,{children:e.title||e.url})})]},"source-".concat(e.url))})}),(0,r.jsx)(l.z,{variant:"secondary-light",type:"button",onClick:f,small:!0,className:"rounded-full",children:(0,r.jsxs)("span",{className:"flex items-center gap-2",children:[(0,r.jsx)(a.JO,{type:"16-ai-sources",size:16}),(0,o.t)("ai_summary.sources.hide")]})})]})}},521870:function(e,t,n){n.d(t,{w:()=>L});var r=n(683551),o=n(645391),i=n(189713),a=n(944429),l=n(314121),s=n(214813),c=n(100334),u=n(630863),d=n(62263);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var m=function(e){var t=e.text,n=e.updateInterval,o=void 0===n?60:n,i=e.active,a=void 0===i||i,f=e.onComplete,m=void 0===f?s.noop:f,b=p((0,l.useState)(0),2),h=b[0],y=b[1],v=p((0,l.useState)(!1),2),g=v[0],x=v[1],j=p((0,l.useState)([]),2),_=j[0],C=j[1];(0,l.useEffect)(function(){if(t&&a){if((0,u.ug)(t)){var e=(0,u.E9)(t);C((0,u.Ig)(e))}else C(t.match(/\S+\s*/g)||[]);y(0)}else C([]),x(!0),m()},[t,a,m]),(0,l.useEffect)(function(){if(!_.length||h>=_.length){_.length&&h>=_.length&&(x(!0),m());return}var e=setTimeout(function(){y(function(e){return e+1})},o);return function(){return clearTimeout(e)}},[_,h,o,m]);var w=_.slice(0,h);return(0,r.jsx)("span",{className:"whitespace-pre-wrap",children:a?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.w,{content:w.join("")}),!g&&(0,r.jsx)("span",{className:"animate-blink-typing-cursor ml-[2px]",children:(0,c.t)("typing_cursor")})]}):(0,r.jsx)(d.w,{content:(0,u.E9)(t)})})},b=n(844527),h=(0,l.createContext)(null);h.displayName="AiSummaryContext";var y=function(){var e=(0,l.useContext)(h);if(!e)throw Error("useAiSummaryContext must be used within a AiSummary");return e},v=function(e){var t=e.isCollapsed,n=e.onCollapseClick,o=e.children;return(0,r.jsx)(h.Provider,{value:{isCollapsed:void 0!==t&&t,onCollapseClick:n},children:o})},g=n(583972);function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var j=n(870879),_=function(e){var t=e.onExpandClick;return(0,r.jsx)("div",{className:"absolute bottom-4 left-5",children:(0,r.jsx)(j.z,{variant:"secondary",type:"button",onClick:t,className:"!border-primary w-fit !text-xs opacity-0 transition-opacity delay-0 duration-300 ease-in-out group-hover:opacity-100 group-hover:delay-200",children:(0,c.t)("expand")})})},C=n(37881),w=function(e){var t,n,o=e.name,i=e.id,a=(0,C.O)({name:o,public_uid:i,params:{show_back_link:!0}});return(0,r.jsx)("a",(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},a),n=n={style:{display:"inline"},children:o},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))},O=n(788993),S=n(527804);function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var P=/\[\[name:(["']?)([^,\]]*?)\1, id:([a-zA-Z0-9]+)\]\]/g,A=function(e){var t=e.text,n=e.relevantPosts,o=(0,l.useMemo)(function(){for(var e,n=[],r=0;null!==(e=P.exec(t));){var o,i=function(e){if(Array.isArray(e))return e}(o=e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),i.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(o,4)||function(e,t){if(e){if("string"==typeof e)return k(e,4);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}}(o,4)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=i[0],l=i[2],s=i[3];e.index>r&&n.push({type:"text",content:t.slice(r,e.index),key:"text-".concat(e.index)}),n.push({type:"link",name:l.trim(),id:s.trim(),key:"".concat(l.trim(),"-").concat(s.trim())}),r=e.index+a.length}return r<t.length&&n.push({type:"text",content:t.slice(r),key:"text-".concat(r)}),n},[t]);return(0,r.jsxs)(i.Z.BodySm,{color:"text-default dark:text-dark",children:[o.map(function(e){return"link"===e.type?(0,r.jsx)(w,{name:e.name,id:e.id},e.key):(0,r.jsx)(d.w,{content:e.content},e.key)}),n&&n.length>0&&(0,r.jsx)("span",{className:"ml-1 inline-flex gap-1",children:n.map(function(e){return(0,r.jsx)(S.T,{content:e.title,tooltipTextClassName:"bg-primary text-primary",children:(0,r.jsx)("span",{className:"text-default text-xs bg-tertiary hover:bg-overlay mr-1 mt-0.5 inline-flex size-4 items-center justify-center rounded-full px-1.5 py-0.5",children:(0,r.jsx)("a",{href:e.url,target:"_blank",rel:"noreferrer",className:"text-default hover:text-default visited:text-default",children:e.reference_number})},e.reference_number)},e.reference_number)})})]})};function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var L=Object.assign(function(e){var t=e.children,n=e.isCollapsed,i=void 0!==n&&n,a=e.className,l=e.onExpandClick,s=e.onCollapseClick;return(0,r.jsx)(v,{isCollapsed:i,onCollapseClick:s,children:(0,r.jsx)("div",{className:(0,o.A)("bg-primary group relative flex w-full overflow-hidden rounded-md p-[2px] shadow-[0px_12px_16px_-4px_rgba(25,27,31,0.08),0px_4px_6px_-2px_rgba(25,27,31,0.03)] transition-all duration-500 before:absolute before:inset-0 before:bg-gradient-to-bl before:from-[#d4dbff] before:to-[#c6b3fa] before:transition-opacity before:duration-500 dark:shadow-[0_4px_6px_-1px_rgba(0,0,0,0.10),0_2px_4px_-2px_rgba(0,0,0,0.10)]",{"bg-gradient-to-bl from-[#eeeeee] to-[#dedede] before:opacity-0 hover:before:opacity-100 dark:from-[#3D3D3D] dark:to-[#3D3D3D]":i}),children:(0,r.jsxs)("div",{className:(0,o.A)("bg-primary dark:bg-secondary relative flex size-full flex-col gap-4 rounded-md px-5 pb-5 pt-4 transition-[padding] delay-200 duration-300 ease-in-out",{"group-hover:pb-14 group-hover:delay-0":i},a),children:[t,i&&l&&(0,r.jsx)(_,{onExpandClick:l})]})})})},{Content:function(e){var t=e.children,n=e.className,i=e.closeButtonPosition,a=y(),l=a.isCollapsed,s=a.onCollapseClick;return(0,r.jsxs)("div",{className:"relative flex gap-3",children:[(0,r.jsx)("div",{className:(0,o.A)("flex grow flex-col gap-2",n),children:t}),!l&&s&&(0,r.jsx)(b.h,{name:"20-close",iconSize:20,onClick:s,variant:"secondary",ariaLabel:(0,c.t)("collapse"),className:(0,o.A)("bg-primary !border-primary !rounded-full border",{"absolute -right-0.5 -top-0.5":"content"===(void 0===i?"content":i)})})]})},Footer:function(e){var t=e.children;return(0,r.jsx)("div",{className:"border-primary flex border-t pt-4",children:t})},Header:function(e){var t,n=e.children,a=e.animate,s=e.isHidden,c=void 0!==s&&s,u=y().isCollapsed,d=(t=(0,l.useState)(c),function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),i.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return x(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=d[0],p=d[1];return((0,l.useEffect)(function(){var e;return c?e=setTimeout(function(){p(!0)},300):p(!1),function(){return e&&clearTimeout(e)}},[c]),f)?null:(0,r.jsxs)("div",{className:(0,o.A)("flex w-full items-center gap-1.5 transition-all duration-300",{"h-0 opacity-0":c}),children:[u&&(0,r.jsxs)("div",{className:"relative flex size-5 items-center justify-center",children:[(0,r.jsx)(g.JO,{type:"20-stardust",size:20,className:"text-dark absolute !h-5 !w-5 opacity-100 transition-opacity duration-300 group-hover:opacity-0"}),(0,r.jsx)(g.JO,{type:"20-stardust-gradient",size:20,className:"absolute !h-5 !w-5 opacity-0 transition-opacity duration-300 group-hover:opacity-100"})]}),!u&&(0,r.jsx)(g.JO,{type:"20-stardust-gradient",size:20,className:(0,o.A)("!h-5 !w-5",{"animate-spin-pause-reverse":void 0!==a&&a})}),(0,r.jsx)(i.Z.LabelSm,{weight:"semibold",color:(0,o.A)("text-dark",{"group-hover:bg-gradient-to-b group-hover:from-[#516DF1] group-hover:to-[#6B47D2] group-hover:bg-clip-text group-hover:text-transparent":u,"bg-gradient-to-r from-[#6775EE] to-[#AD89DC] bg-clip-text text-transparent":!u}),leading:"leading-tight",children:n})]})},BodyText:function(e){var t=e.animation,n=void 0===t?"none":t,l=e.onAnimationComplete,s=e.containerClassName,c=e.children;return(0,r.jsx)("div",{className:(0,o.A)("[&_ol]:list-decimal [&_ol]:pl-5 [&_p+ol]:py-4 [&_p+ul]:py-4 [&_ul]:list-outside [&_ul]:list-disc [&_ul]:space-y-2 [&_ul]:pl-5",s),children:(0,r.jsx)(i.Z.BodySm,{color:"text-dark",children:"typing"===n?(0,r.jsx)(m,{text:c,onComplete:l}):"fade-in"===n?(0,r.jsx)(a.p,{text:c,onComplete:l,containerClassName:"whitespace-pre-wrap"}):(0,r.jsx)("span",{className:"whitespace-pre-wrap",children:c})})})},FooterNote:function(e){var t=e.children;return(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(g.JO,{type:"16-ai",size:16,className:"text-lightest !h-4 !w-4"}),(0,r.jsx)(i.Z.BodyXs,{color:"text-light",children:t})]})},TextWithUserLinks:A,ProfileLink:w,Section:function(e){var t,n=e.title,a=e.text,s=(t=(0,l.useState)(!1),function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),i.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return E(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=s[0],u=s[1];return(0,r.jsxs)("div",{className:"bg-secondary mt-2 rounded-xl px-4 py-3",children:[(0,r.jsxs)("button",{type:"button",onClick:function(){return u(!c)},className:"flex w-full items-center justify-between",children:[(0,r.jsx)(i.Z.BodySm,{weight:"medium",as:"strong",children:n}),(0,r.jsx)(O.Z,{className:(0,o.A)("text-secondary size-5 transition-transform",c?"rotate-180":"")})]}),(0,r.jsx)("div",{className:(0,o.A)("text-primary mt-2",!c&&"line-clamp-4"),children:(0,r.jsx)(A,{text:a})})]})}})},376316:function(e,t,n){n.d(t,{X:()=>l});var r=n(683551),o=n(314121),i=n(583972);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var l=function(e){var t,n=e.src,l=e.className,s=(t=(0,o.useState)(null),function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),i.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return a(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=s[0],u=s[1];return((0,o.useEffect)(function(){n&&fetch(n).then(function(e){return e.blob()}).then(function(e){u(URL.createObjectURL(e))})},[n]),c)?(0,r.jsx)("embed",{className:l,src:c}):(0,r.jsx)(i.JO,{type:"loader"})}},838158:function(e,t,n){n.d(t,{_:()=>x});var r=n(683551),o=n(314121),i=n(682240),a=n.n(i),l=n(844765),s=n.n(l),c=n(363228),u=n(325128),d=n(100334),f=n(583972),p=n(467213),m=function(e){var t=e.url;return(0,r.jsx)(p.Y,{content:(0,d.t)("download"),className:"ml-2 flex items-center",appendTo:"parent",children:(0,r.jsx)("a",{className:"flex",href:t,target:"_blank",rel:"noopener, noreferrer",children:(0,r.jsx)(f.JO,{type:"16-download",size:16,className:"text-light"})})})};m.propTypes={url:a().string.isRequired};var b=function(){return(0,r.jsxs)("svg",{width:"12",height:"10",viewBox:"0 0 12 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.5 5C11.5 5.41421 11.1642 5.75 10.75 5.75L0.75 5.75C0.335787 5.75 2.93554e-08 5.41421 6.55671e-08 5C1.01779e-07 4.58579 0.335787 4.25 0.75 4.25L10.75 4.25C11.1642 4.25 11.5 4.58579 11.5 5Z",fill:"#1F3349"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.28033 9.53033C4.98744 9.82322 4.51256 9.82322 4.21967 9.53033L0.21967 5.53033C-0.0732227 5.23744 -0.0732227 4.76256 0.21967 4.46967L4.21967 0.46967C4.51256 0.176777 4.98744 0.176777 5.28033 0.46967C5.57322 0.762563 5.57322 1.23744 5.28033 1.53033L1.81066 5L5.28033 8.46967C5.57322 8.76256 5.57322 9.23744 5.28033 9.53033Z",fill:"#1F3349"})]})},h=function(){return(0,r.jsxs)("svg",{width:"12",height:"10",viewBox:"0 0 12 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.25 5C0.25 4.58579 0.585786 4.25 1 4.25H11C11.4142 4.25 11.75 4.58579 11.75 5C11.75 5.41421 11.4142 5.75 11 5.75H1C0.585786 5.75 0.25 5.41421 0.25 5Z",fill:"#1F3349"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.46967 0.46967C6.76256 0.176777 7.23744 0.176777 7.53033 0.46967L11.5303 4.46967C11.8232 4.76256 11.8232 5.23744 11.5303 5.53033L7.53033 9.53033C7.23744 9.82322 6.76256 9.82322 6.46967 9.53033C6.17678 9.23744 6.17678 8.76256 6.46967 8.46967L9.93934 5L6.46967 1.53033C6.17678 1.23744 6.17678 0.762563 6.46967 0.46967Z",fill:"#1F3349"})]})},y=n(376316);function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var x=function(e){var t=e.show,n=e.onClose,i=e.attachments,a=e.path,l=e.currentIndex,d=void 0===l?0:l,f=function(){document.body.classList.remove("image-gallery--open")},p=g((0,o.useState)(""),2),v=p[0],x=p[1],j=g((0,o.useState)(!1),2),_=j[0],C=j[1],w=g((0,o.useState)(),2),O=w[0],S=w[1],k=g((0,o.useState)(),2),P=k[0],A=k[1],E=g((0,o.useState)(d),2),L=E[0],N=E[1];(0,o.useEffect)(function(){var e=i[L].contentType,t=document.body.classList.contains("view-post"),n=document.body.classList.contains("view-homepage");t?S(!0):t||S(!1),n?A(!0):n||A(!1),"application/pdf"===e?(x("pdf"),C(!0)):("image/png"===e||"image/jpeg"===e||"image/jpg"===e||"image/gif"===e)&&(x("img"),C(!0))},[]);var I=i.filter(function(e){return e.contentType.startsWith("image/")}).map(function(e){return{original:e.url,thumbnail:e.url,filename:e.filename,url:e.url,sgid:e.sgid}});(0,o.useEffect)(function(){if(window&&document&&t){var e=window.scrollY;setTimeout(function(){return window.scroll(0,e)},100),document.body.classList.add("image-gallery--open")}else document&&!t&&document.body.classList.remove("image-gallery--open")},[t]);var M=(0,o.useRef)(null),T=function(){n(),f()};return(!O||P)&&_&&"img"===v&&a?(window.location.href=window.location.origin+a,null):_?(0,r.jsx)(c.h,{children:(0,r.jsxs)(u.Js,{show:t,onClose:T,closeOnEscape:!0,closeOnOutsideClick:!0,fullscreen:!0,trixMode:"trix-modal trix-modal__gallery",children:[(0,r.jsxs)(u.Js.Header,{onClose:T,children:["img"===v&&(0,r.jsx)("div",{children:I[L].filename}),"pdf"===v&&(0,r.jsx)("div",{children:i[L].filename}),"img"===v&&(0,r.jsx)(m,{url:I[L].url}),"pdf"===v&&(0,r.jsx)(m,{url:i[L].url})]}),(0,r.jsxs)(u.Js.Body,{children:["img"===v&&(0,r.jsx)(s(),{items:I,showThumbnails:!1,showFullscreenButton:!1,showPlayButton:!1,ref:M,startIndex:d,onSlide:function(e){return N(e)},renderLeftNav:function(e,t){return(0,r.jsx)("button",{type:"submit",className:"image-gallery-icon image-gallery-left-nav",disabled:t,onClick:e,children:(0,r.jsx)(b,{})})},renderRightNav:function(e,t){return(0,r.jsx)("button",{type:"submit",className:"image-gallery-icon image-gallery-right-nav",disabled:t,onClick:e,children:(0,r.jsx)(h,{})})},infinite:!1,slideDuration:0,lazyLoad:!0}),"pdf"===v&&(0,r.jsx)(y.X,{src:i.map(function(e){return e.url})[L]})]})]})}):null};x.propTypes={show:a().bool,onClose:a().func,attachments:a().array,path:a().string,currentIndex:a().number}},919253:function(e,t,n){n.d(t,{F:()=>o});var r=n(683551),o=function(e){var t=e.size,n=void 0===t?104:t;return(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 72 72",fill:"none","aria-hidden":"true",children:[(0,r.jsx)("circle",{cx:"36",cy:"36",r:"36",fill:"#008A2F"}),(0,r.jsx)("path",{d:"M46.8078 25.4865C47.8595 24.4241 49.5707 24.4179 50.6299 25.4727C51.5929 26.4315 51.6855 27.9371 50.9043 29.0011L50.6437 29.306L33.6105 46.5134C32.6524 47.4812 31.1474 47.5722 30.0866 46.7842L29.7826 46.5215L21.364 38.0884C20.3079 37.0305 20.3069 35.3142 21.3617 34.255C22.3206 33.2921 23.822 33.2037 24.8805 33.9904L25.1838 34.2527L31.6851 40.7603L46.8078 25.4865Z",fill:"white"})]})}},960084:function(e,t,n){n.d(t,{u:()=>u});var r=n(683551),o=n(919253),i=function(){return(0,r.jsxs)("svg",{width:"104",height:"104",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("circle",{cx:"32",cy:"32",r:"32",fill:"#E02F2F"}),(0,r.jsx)("path",{d:"M25 39L39 25M25 25L39 39",stroke:"white",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"})]})},a=n(379600),l=n.n(a),s=function(e){var t=e.animate;return(0,r.jsxs)("svg",{width:"104",height:"104",viewBox:"0 0 104 104",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:l()({"animate-spin":void 0===t||t}),children:[(0,r.jsx)("circle",{cx:"52",cy:"52",r:"48",className:"text-stroke-background stroke-current",strokeWidth:"5"}),(0,r.jsx)("path",{d:"M52 100C58.3034 100 64.5452 98.7584 70.3688 96.3462C76.1924 93.934 81.4839 90.3983 85.9411 85.9411C90.3983 81.4839 93.934 76.1924 96.3462 70.3688C98.7584 64.5452 100 58.3034 100 52",className:"text-stroke-foreground stroke-current",strokeWidth:"5",strokeLinecap:"round"})]})},c=n(189713),u=function(e){var t=e.animate,n=e.title,a=e.subtitle,l=e.variant,u=void 0===l?"loading":l;return(0,r.jsx)("div",{className:"bg-primary flex size-full flex-col items-center justify-center",children:(0,r.jsxs)("div",{className:"flex size-full max-w-xl flex-col items-center justify-center gap-4",children:[(0,r.jsxs)("div",{className:"pb-5",children:["loading"===u&&(0,r.jsx)(s,{animate:void 0===t||t}),"success"===u&&(0,r.jsx)(o.F,{}),"error"===u&&(0,r.jsx)(i,{})]}),n&&(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)(c.Z.TitleMd,{children:n})}),a&&(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)(c.Z.LabelMd,{color:"text-default",children:a})})]})})}},850481:function(e,t,n){n.d(t,{v:()=>s});var r=n(683551),o=n(314121),i=n(70305),a=n(645391);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var s=function(e){var t,n=e.billingCurrency,s=e.onCurrencyChange,c=void 0===s?function(){}:s,u=e.useCurrencySymbol,d=void 0!==u&&u,f=e.className,p=null!=(t=null==n?void 0:n.toUpperCase())?t:"",m=(0,o.useMemo)(function(){return Object.entries(i.X).map(function(e){var t=function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),i.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(e,2)||function(e,t){if(e){if("string"==typeof e)return l(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=t[0],o=t[1],i=o.code,a=o.flag,s=o.symbol;return(0,r.jsx)("option",{value:i,children:d?"".concat(s," ").concat(i):"".concat(a," ").concat(i)},n)})},[d]);if(!n)return null;var b=d?(0,a.A)("appearance-none border-none bg-transparent text-xs text-slate-700 focus:outline-none dark:text-slate-300",f):(0,a.A)("border-primary block appearance-none rounded-md border bg-white py-2 pl-3 pr-8 text-md leading-6","transition duration-150 ease-in-out focus:border-blue-300 focus:outline-none",f);return(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)("select",{className:b,value:p,onChange:function(e){return c(e.target.value)},children:m})})}},291684:function(e,t,n){n.d(t,{e:()=>p});var r=n(683551),o=n(379600),i=n.n(o),a=n(214813),l=n(100334),s=n(722024),c=n(527804),u=n(844527),d=n(102965),f=n(253913),p=function(e){var t=e.bookmarkType,n=e.record,o=e.variant,p=void 0===o?"button":o,m=e.tooltip,b=void 0===m?n.bookmark_id?(0,l.t)("bookmarks.actions.remove"):(0,l.t)("bookmarks.actions.add_by_type.".concat(t)):m,h=e.onSuccess,y=e.onSettled,v=void 0===y?a.noop:y,g=e.className,x=(0,s.xJ)(),j=n.bookmark_id,_=(0,f.S)({bookmarkId:j,bookmarkType:t,record:n,onSuccess:h,onSettled:v,disableFetch:!0}),C=_.createBookmark,w=_.deleteBookmark,O=function(){j?w():C()},S=!["button","dropdown","minimal-post-modal"].includes(p);if(!x||S)return null;if("button"===p){var k="lesson"===t?{iconName:j?"16-bookmark-fill":"16-bookmark",iconSize:16,iconClassSize:"!w-4 !h-4",buttonSize:24}:"message"===t?{iconName:j?"16-bookmark-fill":"16-bookmark",iconSize:16,iconClassSize:i()("!w-4 !h-4",{"!text-default":!j}),buttonSize:24}:{iconName:j?"20-bookmark-fill":"20-bookmark",iconSize:20,iconClassSize:"!w-5 !h-5",buttonSize:28},P=k.iconName,A=k.iconSize,E=k.iconClassSize,L=k.buttonSize;return(0,r.jsx)(c.T,{content:b,interactive:!1,children:(0,r.jsx)(u.h,{name:P,onClick:O,iconSize:A,buttonSize:L,className:"group",variant:"secondary",iconClassName:i()("text-dark",{"group-hover:text-darkest":!j},E,void 0===g?"":g),ariaLabel:(0,l.t)("header_v3.bookmarks"),dataTestId:"bookmark-button"})})}return"dropdown"===p?(0,r.jsx)(d.Lt.ItemLink,{onClick:O,children:j?(0,l.t)("bookmarks.actions.remove"):(0,l.t)("bookmarks.actions.add_by_type.".concat(t))}):"minimal-post-modal"===p?(0,r.jsx)(c.T,{content:b,interactive:!1,children:(0,r.jsx)(u.h,{name:j?"20-bookmark-fill":"20-bookmark",iconSize:20,iconClassName:"!text-default group-hover:!text-dark",className:"group",onClick:O,buttonSize:32,ariaLabel:(0,l.t)("post.post_modal.bookmark_post")})}):null}},253913:function(e,t,n){n.d(t,{S:()=>d});var r=n(214813),o=n(714844),i=n(100334),a=n(547550),l=n(904812),s=n(722024),c=n(169530);function u(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){n(e);return}l.done?t(s):Promise.resolve(s).then(r,o)}var d=function(e){var t=e.bookmarkId,n=e.bookmarkType,d=e.record,f=e.onSuccess,p=e.onSettled,m=e.disableFetch,b=(0,s.wh)().currentCommunityMember,h=(0,c.pm)(),y=(0,o.useQueryClient)(),v=["bookmark",n],g=(0,o.useMutation)(function(){return(0,a.Cu)(l.av.bookmarks.create(),{bookmark:{bookmark_type:n,record_id:null==d?void 0:d.id}})},{onSuccess:function(e){(0,r.isFunction)(f)&&f(e.id),h.success((0,i.t)("bookmarks.saved_to_bookmarks"))},onError:function(){h.error((0,i.t)("bookmarks.errors.create_failure"))},onSettled:p}),x=g.mutate,j=g.isLoading,_=(0,o.useMutation)(function(){return(0,a.pC)(l.av.bookmarks.destroy({id:t}),{bookmark_type:n})},{onSuccess:function(){(0,r.isFunction)(f)&&f(null),h.success((0,i.t)("bookmarks.removed_from_bookmarks"),{duration:"short",shouldUseProgress:!1})},onError:function(){h.error((0,i.t)("bookmarks.errors.delete_failure"))},onSettled:p}),C=_.mutate,w=_.isLoading,O=(0,o.useInfiniteQuery)(v,function(e){var t,r=e.pageParam;return t=void 0===r?1:r,(0,a.UT)(l.av.bookmarks.index({params:{page:t,bookmark_type:n}}))},{enabled:!!b,staleTime:void 0!==m&&m?1/0:0,getNextPageParam:function(e){return e.has_next_page?e.page+1:void 0},onError:function(){h.error((0,i.t)("bookmarks.errors.fetch_failure"))}}),S=O.data,k=O.error;return{createBookmark:x,isCreatingBookmark:j,deleteBookmark:C,isDeletingBookmark:w,getBookmarks:function(){var e;return(0,r.flatten)((null==S||null==(e=S.pages)?void 0:e.map(function(e){return e.records}))||[])},isLoading:O.isLoading,error:k,fetchNextPage:O.fetchNextPage,hasNextPage:O.hasNextPage,resetQuery:function(){var e;return(e=function(){return function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(s){var c=[l,s];if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}(this,function(e){switch(e.label){case 0:return[4,y.invalidateQueries(v)];case 1:return e.sent(),[2]}})},function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){u(i,r,o,a,l,"next",e)}function l(e){u(i,r,o,a,l,"throw",e)}a(void 0)})})()}}}},285305:function(e,t,n){n.d(t,{b:()=>z,B:()=>F});var r,o,i=n(683551),a=n(314121),l=n(214813),s=n(244289),c=n(722024),u=n(80021),d=n(547550),f=n(286923),p=n(329206);function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function b(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}var h="REMOVE",y="INITIAL_FETCH_START",v="INITIAL_FETCH_SUCCESS",g="INITIAL_FETCH_FAILURE",x="RESET",j=function(e,t,n){return{type:"ADD",payload:{record:e,includeAllResultTypes:t,shouldUpdateValue:n}}},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return function(n){return(null==e?void 0:e.length)?(0,d.UT)(f.a.spaceGroups.index()).then(function(r){var o,i;null==r||null==(i=r.records)||null==(o=i.filter(function(t){return e.includes(t.id)}))||o.forEach(function(e){n(j(b(m({},e),{type:p.cM.SPACE_GROUP}),t,!1))})}).catch(console.error):Promise.resolve()}},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return function(n){return(null==e?void 0:e.length)?(0,d.UT)(f.a.spaces.index()).then(function(r){var o,i;null==r||null==(i=r.records)||null==(o=i.filter(function(t){return e.includes(t.id)}))||o.forEach(function(e){n(j(b(m({},e),{type:p.cM.SPACE}),t,!1))})}).catch(console.error):Promise.resolve()}},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return function(n){return(null==e?void 0:e.length)?(0,d.UT)(f.a.memberTags.index({params:{}})).then(function(r){var o,i;null==r||null==(i=r.records)||null==(o=i.filter(function(t){return e.includes(t.id)}))||o.forEach(function(e){n(j(b(m({},e),{type:p.cM.MEMBER_TAG}),t,!1))})}).catch(console.error):Promise.resolve()}},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return function(n){return(null==e?void 0:e.length)?(0,d.UT)(f.a.search.communityMembers.index({params:{filters:{id:e}}})).then(function(e){var r;null==e||null==(r=e.records)||r.forEach(function(e){n(j(b(m({},e),{type:p.cM.COMMUNITY_MEMBER}),t,!1))})}).catch(console.error):Promise.resolve()}};function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){k(e,t,n[t])})}return e}function A(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function E(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return S(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var L=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{spaceGroups:[],spaces:[],memberTags:[],communityMembers:[],memberCount:0,isLoading:!1,errorMessage:null,value:t?A(P({},e||{}),{members_ids:(null==e?void 0:e.members_ids)||[],spaces_ids:(null==e?void 0:e.spaces_ids)||[],space_groups_ids:(null==e?void 0:e.space_groups_ids)||[],member_tags_ids:(null==e?void 0:e.member_tags_ids)||[]}):E(e||[])}},N=function(e,t,n,r){return A(P({},e),{communityMembers:E(e.communityMembers).concat([t]),memberCount:e.memberCount+1,value:n?r?A(P({},e.value),{members_ids:(0,l.uniq)(E(e.value.members_ids).concat([t.id]))}):E(e.value).concat([t.id]):e.value})},I=function(e,t,n){return A(P({},e),{communityMembers:e.communityMembers.filter(function(e){return e.id!==t.id}),memberCount:e.memberCount-1,value:n?A(P({},e.value),{members_ids:(0,l.uniq)(e.value.members_ids.filter(function(e){return e!==t.id}))}):(0,l.uniq)(e.value.filter(function(e){return e!==t.id}))})},M=(k(r={},p.cM.SPACE_GROUP,function(e,t,n){return A(P({},e),{spaceGroups:E(e.spaceGroups).concat([t]),memberCount:e.memberCount+(t.active_space_group_members_count||0),value:n?A(P({},e.value),{space_groups_ids:(0,l.uniq)(E(e.value.space_groups_ids).concat([t.id]))}):e.value})}),k(r,p.cM.SPACE,function(e,t,n){return A(P({},e),{spaces:E(e.spaces).concat([t]),memberCount:e.memberCount+(t.active_space_members_count||0),value:n?A(P({},e.value),{spaces_ids:(0,l.uniq)(E(e.value.spaces_ids).concat([t.id]))}):e.value})}),k(r,p.cM.MEMBER_TAG,function(e,t,n){return A(P({},e),{memberTags:E(e.memberTags).concat([t]),memberCount:e.memberCount+(t.tagged_members_count||0),value:n?A(P({},e.value),{member_tags_ids:(0,l.uniq)(E(e.value.member_tags_ids).concat([t.id]))}):e.value})}),k(r,p.cM.COMMUNITY_MEMBER,N),r),T=(k(o={},p.cM.SPACE_GROUP,function(e,t){return A(P({},e),{spaceGroups:e.spaceGroups.filter(function(e){return e.id!==t.id}),memberCount:e.memberCount-(t.active_space_group_members_count||0),value:A(P({},e.value),{space_groups_ids:(0,l.uniq)(e.value.space_groups_ids.filter(function(e){return e!==t.id}))})})}),k(o,p.cM.SPACE,function(e,t){return A(P({},e),{spaces:e.spaces.filter(function(e){return e.id!==t.id}),memberCount:e.memberCount-(t.active_space_members_count||0),value:A(P({},e.value),{spaces_ids:(0,l.uniq)(e.value.spaces_ids.filter(function(e){return e!==t.id}))})})}),k(o,p.cM.MEMBER_TAG,function(e,t){return A(P({},e),{memberTags:e.memberTags.filter(function(e){return e.id!==t.id}),memberCount:e.memberCount-(t.tagged_members_count||0),value:A(P({},e.value),{member_tags_ids:(0,l.uniq)(e.value.member_tags_ids.filter(function(e){return e!==t.id}))})})}),k(o,p.cM.COMMUNITY_MEMBER,I),o),D=function(e,t){var n=t.type,r=t.payload;switch(n){case"ADD":var o=r.record,i=r.includeAllResultTypes,a=r.shouldUpdateValue;return(M[(o||{}).type]||N)(e,o,a,i);case h:var l=r.record,s=r.includeAllResultTypes;return(T[(l||{}).type]||I)(e,l,s);case y:return A(P({},e),{isLoading:!0});case v:return A(P({},e),{isLoading:!1});case g:return A(P({},e),{isLoading:!1,errorMessage:r.errorMessage});case x:return L(null,!!r.includeAllResultTypes);default:return e}};function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function U(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){n(e);return}l.done?t(s):Promise.resolve(s).then(r,o)}function H(e){return function(e){if(Array.isArray(e))return R(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||B(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){if(e){if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,t)}}var Z=(0,a.createContext)(void 0);Z.displayName="CommunityMemberPickerContext";var F=function(){var e=(0,a.useContext)(Z);if(!e)throw Error("useCommunityMemberPickerContext must be used within a CommunityMemberPickerProvider");return e},z=function(e){var t,n=e.onChange,r=e.value,o=e.name,d=e.includeAllResultTypes,f=void 0!==d&&d,p=e.excludedMemberIds,m=e.allowCurrentCommunityMember,b=e.children,S=e.variant,k=void 0===S?"simple":S,P=e.onModalSave,A=((0,c.wh)()||{}).currentCommunityMember,E=(t=(0,u.J)(D,L(r||[],f)),function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),i.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(t,2)||B(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),N=E[0],I=E[1],M=(0,s.Gc)().getValues,T=[void 0!==m&&m||null==A?void 0:A.id].concat(H(void 0===p?[]:p),H(N.communityMembers.map(function(e){return e.id}))).filter(function(e){return void 0!==e});return(0,a.useEffect)(function(){var e;(e=function(){return function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(s){var c=[l,s];if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}(this,function(e){switch(e.label){case 0:return[4,function(e){var t=[],n=[],o=[],i=[];return r&&"space_groups_ids"in r?(t=r.space_groups_ids||[],n=r.spaces_ids||[],o=r.member_tags_ids||[],i=r.members_ids||[]):!f&&r&&(i=r),e({type:y,payload:{spaceGroupIds:t,spaceIds:n,memberTagIds:o,communityMemberIds:i}}),Promise.all([_(t,f)(e),C(n,f)(e),w(o,f)(e),O(i,f)(e)]).then(function(){e({type:v,payload:{spaceGroupIds:t,spaceIds:n,memberTagIds:o,communityMemberIds:i}})}).catch(function(r){console.error(r),e({type:g,payload:{spaceGroupIds:t,spaceIds:n,memberTagIds:o,communityMemberIds:i,errorMessage:(null==r?void 0:r.message)||"Unknown error"}})})}(I)];case 1:return e.sent(),[2]}})},function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){U(i,r,o,a,l,"next",e)}function l(e){U(i,r,o,a,l,"throw",e)}a(void 0)})})()},[]),(0,a.useEffect)(function(){r||I({type:x,payload:{includeAllResultTypes:f}})},[I,f,r]),(0,a.useEffect)(function(){var e=(0,l.get)(M(),o||"",null);"simple"!==k||(0,l.isEqual)(N.value,e)||n(N.value)},[N.value,k,M,o,n]),(0,i.jsx)(Z.Provider,{value:{selectionState:N,onAdd:function(e){return I(j(e,f,!0))},onRemove:function(e){I({type:h,payload:{record:e,includeAllResultTypes:f}})},onSave:function(){(0,l.isEqual)(N.value,r)||n(N.value),(0,l.isFunction)(P)&&P(N.value)},excludeCommunityMemberIds:T,includeAllResultTypes:f},children:b})}},588070:function(e,t,n){n.d(t,{l:()=>et});var r=n(683551),o=n(244289),i=n(314121),a=n(214813),l=n(100334),s=n(870879),c=n(285305),u=n(645391),d=n(706350),f=n(476595),p=function(e){var t=e.children,n=e.className;return(0,r.jsx)("div",{className:(0,u.A)("text-default text-xs w-full px-5 py-2 font-semibold uppercase",n),children:t})},m=n(329206);function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function h(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return b(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var y={communityMembers:[],errorMessage:null,isLoading:!1,memberCount:0,memberTags:[],spaceGroups:[],spaces:[],value:null},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y,r=n.spaceGroups,o=n.spaces,i=n.memberTags,a=n.communityMembers,l=(void 0===r?[]:r).map(function(e){return e.id}),s=(void 0===o?[]:o).map(function(e){return e.id}),c=(void 0===i?[]:i).map(function(e){return e.id}),u=(void 0===a?[]:a).map(function(e){return e.id}),d=0,f=function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({index:d++},e)},p=t?e.filter(function(e){return e.type===m.cM.SPACE_GROUP&&!l.includes(e.id)}).map(f):[],b=t?e.filter(function(e){return e.type===m.cM.SPACE&&!s.includes(e.id)}).map(f):[],v=t?e.filter(function(e){return e.type===m.cM.MEMBER_TAG&&!c.includes(e.id)}).map(f):[],g=t?e.filter(function(e){return e.type===m.cM.COMMUNITY_MEMBER&&!u.includes(e.id)}).map(f):e.map(f),x=h(p).concat(h(b),h(v),h(g)),j=x.length;return{spaceGroups:p,spaces:b,memberTags:v,communityMembers:g,combinedRecords:x,recordCount:j}},g=n(379600),x=n.n(g),j=n(712781),_=n(633189),C=n(189713),w=function(e){var t=e.record,n=e.onClick,o=e.isSelected,i=(0,_.g)(o),a=t.name,l=t.avatar_url;return(0,r.jsxs)("button",{type:"button",className:x()("hover:bg-tertiary flex w-full items-center gap-3 px-5 py-2 text-left first:pt-4 last:pb-4",{"bg-tertiary":o}),onClick:function(){null==n||n(t)},ref:i,children:[(0,r.jsx)(j.W,{name:a,src:l,size:"8"}),(0,r.jsx)(C.Z.LabelSm,{children:a})]})},O=n(241394),S=n(903431),k=n(583972),P=function(e){var t=e.count;if(!t)return null;var n=1===t?"member_count_singular":"member_count_plural";return(0,r.jsx)(C.Z.LabelXxs,{children:(0,l.t)("community_member_select.".concat(n),{count:t})})},A=function(e){var t=e.record,n=e.onClick,o=e.isSelected,i=(0,O.TC)().currentAppearance,a=(0,_.g)(o),l=t.name,s=t.emoji,c=t.custom_emoji_url,u=t.custom_emoji_dark_url,d=t.tagged_members_count,f=s||c||u;return(0,r.jsxs)("button",{type:"button",className:x()("hover:bg-tertiary flex w-full cursor-pointer items-center gap-3 px-5 py-2 text-left first:pt-4 last:pb-4",{"bg-tertiary":o}),onClick:function(){null==n||n(t)},ref:a,children:[f?(0,r.jsx)("span",{children:(0,r.jsx)(S.S,{className:"!h-5 !w-auto",emoji:s,customEmojiUrl:c,customEmojiDarkUrl:u,appearance:i})}):(0,r.jsx)(k.JO,{size:16,type:"hash-v2"}),(0,r.jsx)("span",{className:"grow",children:(0,r.jsx)(C.Z.LabelSm,{children:l})}),(0,r.jsx)("span",{children:(0,r.jsx)(P,{count:d})})]})},E=function(e){var t=e.record,n=e.onClick,o=e.isSelected,i=(0,_.g)(o),a=t.name,l=t.active_space_group_members_count;return(0,r.jsxs)("button",{type:"button",className:x()("hover:bg-tertiary flex w-full cursor-pointer items-center gap-3 px-5 py-2 text-left first:pt-4 last:pb-4",{"bg-tertiary":o}),onClick:function(){n&&n(t)},ref:i,children:[(0,r.jsx)(k.JO,{size:16,type:"bookmark-folder"}),(0,r.jsx)("div",{className:"grow",children:(0,r.jsx)(C.Z.LabelSm,{children:a})}),(0,r.jsx)(P,{count:l})]})},L=n(350596),N=function(e){var t=e.record,n=e.onClick,o=e.isSelected,i=(0,_.g)(o),a=(0,O.TC)().currentAppearance,l=t.id,s=t.name,c=t.emoji,u=t.custom_emoji_url,d=t.custom_emoji_dark_url,f=(0,L.I)({spaceId:l}).count;return(0,r.jsxs)("button",{type:"button",className:x()("hover:bg-tertiary flex w-full cursor-pointer items-center gap-3 px-5 py-2 text-left first:pt-4 last:pb-4",{"bg-tertiary":o}),onClick:function(){null==n||n(t)},ref:i,children:[(0,r.jsx)(S.S,{className:"!h-5 !w-5",emoji:c,appearance:a,customEmojiUrl:u,customEmojiDarkUrl:d}),(0,r.jsx)("div",{className:"grow",children:(0,r.jsx)(C.Z.LabelSm,{children:s})}),(0,r.jsx)(P,{count:f})]})};function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var M=function(e){var t,n=e.records,o=e.onSelect,a=e.onReset,s=e.selectionModalRef,u=e.includeAllResultTypes,d=void 0!==u&&u,m=v(void 0===n?[]:n,d,(0,c.B)().selectionState),b=m.spaceGroups,h=m.spaces,y=m.memberTags,g=m.communityMembers,x=m.combinedRecords,j=m.recordCount,_=(t=(0,i.useState)(null),function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),i.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return I(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),C=_[0],O=_[1],S=(0,i.useCallback)(function(){return O(null!==C?Math.min(C+1,j-1):0)},[C,j]),k=(0,i.useCallback)(function(){O(Math.max(Number(C)-1,0))},[C]),P=(0,i.useCallback)(function(e){j&&e.preventDefault(),S()},[S,j]),L=(0,i.useCallback)(function(e){j&&e.preventDefault(),k()},[k,j]),M=(0,i.useCallback)(function(e){e.stopPropagation(),e.preventDefault(),null!=C&&(null==o||o(x[C]))},[o,x,C]),T=(0,i.useCallback)(function(e){j&&e.stopPropagation(),O(null),null==a||a()},[a,j]);return((0,f.t)({onArrowDown:P,onArrowUp:L,onEnter:M,onEscape:T,enabled:!!j,elementRef:s}),j)?(0,r.jsxs)("div",{className:"border-primary bg-primary absolute top-full z-50 mt-1 max-h-72 w-full overflow-auto rounded-md border shadow-md",children:[d&&!!b.length&&(0,r.jsx)(p,{children:(0,l.t)("community_member_select.record_type_labels.space_groups")}),b.map(function(e){return(0,r.jsx)(E,{record:e,onClick:o,isSelected:(null==e?void 0:e.index)===C},e.id)}),d&&!!h.length&&(0,r.jsx)(p,{children:(0,l.t)("community_member_select.record_type_labels.spaces")}),h.map(function(e){return(0,r.jsx)(N,{record:e,onClick:o,isSelected:(null==e?void 0:e.index)===C},e.id)}),d&&!!y.length&&(0,r.jsx)(p,{children:(0,l.t)("community_member_select.record_type_labels.member_tags")}),y.map(function(e){return(0,r.jsx)(A,{record:e,onClick:o,isSelected:(null==e?void 0:e.index)===C},e.id)}),d&&!!g.length&&(0,r.jsx)(p,{children:(0,l.t)("community_member_select.record_type_labels.members")}),g.map(function(e){return(0,r.jsx)(w,{record:e,onClick:o,isSelected:(null==e?void 0:e.index)===C},e.id)})]}):null},T=n(714844),D=n(286923),R=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.excludeCommunityMemberIds,r=t.enabled,o=(0,T.useQuery)({queryKey:[D.a.search.communityMembers.index({params:{query:e,filters:{exclude_ids:void 0===n?[]:n}}})],enabled:(void 0===r||r)&&!!(null==e?void 0:e.length)}).data;return{records:(null==o?void 0:o.records)||[]}},U=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.enabled,r=(0,T.useQuery)({queryKey:[D.a.search.communities.index({params:{query:e,exclude_posts:!0,exclude_comments:!0}})],enabled:(void 0===n||n)&&!!(null==e?void 0:e.length)}).data;return{records:(null==r?void 0:r.search_results)||[]}};function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var B=function(e){var t,n,o,a=e.placeholder,l=e.className,s=e.selectionModalRef,f=e.disableSearch,p=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["placeholder","className","selectionModalRef","disableSearch"]),m=(0,c.B)(),b=m.onAdd,h=m.excludeCommunityMemberIds,y=m.includeAllResultTypes,v=(t=(0,i.useState)(""),function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),i.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return H(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),g=v[0],x=v[1],j=(0,d.c)(g,300),_=g?j:g,C=R(_,{excludeCommunityMemberIds:void 0===h?[]:h,enabled:!y}).records,w=U(_,{enabled:y}).records,O=y?w:C;return(0,r.jsxs)("div",(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({className:(0,u.A)("relative overflow-visible",void 0===l?"":l)},p),o=o={children:[(0,r.jsx)("input",{className:"border-primary bg-primary text-dark placeholder:text-light w-full rounded-md border px-4 py-3 placeholder:opacity-100",type:"text",placeholder:void 0===a?"":a,autoFocus:!0,value:g,onChange:function(e){return x(e.target.value)},disabled:void 0!==f&&f}),(0,r.jsx)(M,{records:O,onSelect:function(e){b(e),x("")},onReset:function(){return x("")},selectionModalRef:s,includeAllResultTypes:y})]},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))}),n))},Z=function(e){var t=e.record,n=e.onClick,o=t.name,i=t.avatar_url;return(0,r.jsxs)("button",{type:"button",className:"group flex w-full cursor-pointer items-center gap-3 p-2 text-left",onClick:function(){null==n||n(t)},children:[(0,r.jsx)("div",{children:(0,r.jsx)(j.W,{name:o,src:i,size:"8"})}),(0,r.jsx)("div",{className:"min-w-[6rem] grow",children:(0,r.jsx)(C.Z.LabelSm,{children:o})}),(0,r.jsx)("div",{className:"text-darkest invisible group-hover:visible",children:(0,r.jsx)(C.Z.LabelSm,{children:(0,l.t)("remove")})})]})},F=function(e){var t=e.record,n=e.onClick,o=(0,O.TC)().currentAppearance,i=t.name,a=t.emoji,s=t.custom_emoji_url,c=t.custom_emoji_dark_url,u=t.tagged_members_count,d=a||s||c;return(0,r.jsxs)("button",{type:"button",className:"group flex w-full cursor-pointer items-center gap-3 p-2 text-left",onClick:function(){null==n||n(t)},children:[(0,r.jsx)("span",{children:(0,r.jsx)(S.S,{className:"!h-5 !w-auto",emoji:a,customEmojiUrl:s,customEmojiDarkUrl:c,appearance:o})}),!d&&(0,r.jsx)(k.JO,{size:16,type:"hash-v2"}),(0,r.jsx)(C.Z.LabelSm,{children:i}),(0,r.jsx)("div",{className:"min-w-[6rem] grow",children:(0,r.jsx)(P,{count:u})}),(0,r.jsx)("div",{className:"text-dark invisible group-hover:visible",children:(0,r.jsx)(C.Z.LabelSm,{children:(0,l.t)("remove")})})]})},z=function(e){var t=e.record,n=e.onClick,o=t.name,i=t.active_space_group_members_count;return(0,r.jsxs)("button",{type:"button",className:"group flex w-full cursor-pointer items-baseline gap-3 p-2 text-left",onClick:function(){null==n||n(t)},children:[(0,r.jsx)(k.JO,{size:16,type:"bookmark-folder"}),(0,r.jsx)(C.Z.LabelSm,{children:o}),(0,r.jsx)("div",{className:"min-w-[6rem] grow",children:(0,r.jsx)(P,{count:i})}),(0,r.jsx)("div",{className:"text-dark invisible group-hover:visible",children:(0,r.jsx)(C.Z.LabelSm,{children:(0,l.t)("remove")})})]})},V=function(e){var t=e.record,n=e.onClick,o=t.id,i=t.name,a=t.emoji,s=t.custom_emoji_url,c=t.custom_emoji_dark_url,u=(0,O.TC)().currentAppearance,d=(0,L.I)({spaceId:o}).count;return(0,r.jsxs)("button",{type:"button",className:"group flex w-full cursor-pointer items-baseline gap-3 p-2 text-left",onClick:function(){null==n||n(t)},children:[(0,r.jsx)(S.S,{className:"!h-5 !w-5",emoji:a,appearance:u,customEmojiUrl:s,customEmojiDarkUrl:c}),(0,r.jsx)(C.Z.LabelSm,{children:i}),(0,r.jsx)("div",{className:"grow",children:(0,r.jsx)(P,{count:d})}),(0,r.jsx)("div",{className:"text-dark invisible group-hover:visible",children:(0,r.jsx)(C.Z.LabelSm,{children:(0,l.t)("remove")})})]})},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return e.length||t.length||n.length||r.length},G=function(){var e=(0,c.B)(),t=e.selectionState,n=e.onRemove,o=e.includeAllResultTypes,i=void 0!==o&&o,a=t.spaceGroups,s=t.spaces,u=t.memberTags,d=t.communityMembers;return W(a,s,u,d)?(0,r.jsxs)("div",{className:"mt-3 grow-0 overflow-auto",children:[i&&!!(null==a?void 0:a.length)&&(0,r.jsx)(p,{className:"pl-0",children:(0,l.t)("community_member_select.record_type_labels.space_groups")}),null==a?void 0:a.map(function(e){return(0,r.jsx)(z,{record:e,onClick:n},e.id)}),i&&!!(null==s?void 0:s.length)&&(0,r.jsx)(p,{className:"pl-0",children:(0,l.t)("community_member_select.record_type_labels.spaces")}),null==s?void 0:s.map(function(e){return(0,r.jsx)(V,{record:e,onClick:n},e.id)}),i&&!!(null==u?void 0:u.length)&&(0,r.jsx)(p,{className:"pl-0",children:(0,l.t)("community_member_select.record_type_labels.member_tags")}),null==u?void 0:u.map(function(e){return(0,r.jsx)(F,{record:e,onClick:n},e.id)}),i&&!!(null==d?void 0:d.length)&&(0,r.jsx)(p,{className:"pl-0",children:(0,l.t)("community_member_select.record_type_labels.members")}),null==d?void 0:d.map(function(e){return(0,r.jsx)(Z,{record:e,onClick:n},e.id)})]}):null},q=function(e){var t=e.searchPlaceholder,n=e.disableSearch,o=(0,i.useRef)(null);return(0,r.jsxs)("div",{ref:o,className:"flex max-h-96 flex-col",children:[(0,r.jsx)(B,{placeholder:t||(0,l.t)("community_member_select.search_placeholder"),selectionModalRef:o,disableSearch:n}),(0,r.jsx)(G,{})]})},J=n(263285),Q=function(e){var t=e.isOpen,n=e.onClose,o=e.selectionLabel,i=e.searchPlaceholder,a=e.modalSaveButtonLabel,u=e.renderAfterSelection,d=e.disableSearch,f=(0,c.B)().onSave;return(0,r.jsxs)(J.u_,{isOpen:t,onClose:n,children:[(0,r.jsx)(J.u_.Overlay,{}),(0,r.jsxs)(J.u_.Content,{className:"overflow-visible",children:[(0,r.jsxs)(J.u_.Header,{children:[(0,r.jsx)(J.u_.Title,{className:"text-center",children:o||(0,l.t)("community_member_select.selection_label")}),(0,r.jsx)(J.u_.HeaderActions,{children:(0,r.jsx)(J.u_.CloseButton,{onClick:n})})]}),(0,r.jsx)(J.u_.Body,{className:"overflow-y-visible py-4",children:(0,r.jsx)(q,{searchPlaceholder:i,disableSearch:d})}),(0,r.jsxs)(J.u_.Footer,{children:[void 0===u?null:u,(0,r.jsx)(s.z,{type:"submit",variant:"primary",full:!0,large:!0,onClick:function(){f(),n()},children:a||(0,l.t)("save")})]})]})]})},$=n(527804),K=n(357382),Y=function(e){var t,n,o=e.buttonLabel,i=e.countLabel,a=e.tooltipText,u=e.onClick,d=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["buttonLabel","countLabel","tooltipText","onClick"]),f=(0,c.B)().selectionState,p=f.memberCount,m=void 0===p?0:p,b=f.isLoading,h="".concat(m," ").concat(i||(0,l.t)("community_member_select.count_label")),y=m>0?(0,l.t)("manage"):(0,l.t)("add");return b?(0,r.jsx)(K.a,{}):(0,r.jsxs)("div",(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({className:"flex w-full items-center justify-between"},d),n=n={children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(C.Z.LabelSm,{children:h}),a&&(0,r.jsx)($.T,{content:a,children:(0,r.jsx)(k.JO,{type:"question-mark",className:"icon icon--xs ml-2"})})]}),(0,r.jsx)(s.z,{type:"button",variant:"secondary",onClick:u,className:"w-24",children:o||y})]},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))};function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ee=function(e){var t,n=e.onChange,o=e.value,u=e.name,d=e.selectionLabel,f=e.searchPlaceholder,p=e.buttonLabel,b=e.modalSaveButtonLabel,h=e.includeAllResultTypes,y=e.renderAfterSelection,v=void 0===y?null:y,g=e.variant,x=void 0===g?m.ZC.SIMPLE:g,j=e.disableSearch,_=e.excludedMemberIds,C=e.allowCurrentCommunityMember,w=e.onModalClose,O=e.onModalSave,S=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["onChange","value","name","selectionLabel","searchPlaceholder","buttonLabel","modalSaveButtonLabel","includeAllResultTypes","renderAfterSelection","variant","disableSearch","excludedMemberIds","allowCurrentCommunityMember","onModalClose","onModalSave"]),k=(t=(0,i.useState)(!1),function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),i.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return X(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),P=k[0],A=k[1],E=function(){A(!P),P&&(0,a.isFunction)(w)&&w()};return(0,r.jsxs)(c.b,{onChange:n,value:o,name:u,includeAllResultTypes:void 0!==h&&h,excludedMemberIds:void 0===_?[]:_,allowCurrentCommunityMember:void 0!==C&&C,variant:x,onModalSave:O,children:[x===m.ZC.SIMPLE&&(0,r.jsx)(q,{searchPlaceholder:f,disableSearch:j}),x===m.ZC.MODAL&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Y,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({onClick:E},S)),(0,r.jsx)(Q,{isOpen:P,onClose:E,selectionLabel:d,searchPlaceholder:f,modalSaveButtonLabel:b,renderAfterSelection:v,disableSearch:j})]}),x===m.ZC.BUTTON&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.z,{type:"button",variant:"secondary",onClick:E,className:"min-w-[96px]",children:p||(0,l.t)("add")}),(0,r.jsx)(Q,{isOpen:P,onClose:E,selectionLabel:d,searchPlaceholder:f,modalSaveButtonLabel:b,renderAfterSelection:v,disableSearch:j})]})]})},et=function(e){var t=e.name,n=e.rules,i=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["name","rules"]),a=(0,o.Gc)().control;return(0,r.jsx)(o.Qr,{control:a,name:t,rules:n,render:function(e){var n,o,a=e.field,l=a.onChange,s=a.value;return(0,r.jsx)(ee,(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},i),o=o={onChange:l,value:s,name:t},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))}),n))}})}},329206:function(e,t,n){n.d(t,{ZC:()=>o,cM:()=>r});var r={COMMUNITY_MEMBER:"community_member",SPACE:"space",SPACE_GROUP:"space_group",MEMBER_TAG:"member_tag"},o={SIMPLE:"simple",MODAL:"modal",BUTTON:"button"}},100800:function(e,t,n){n.d(t,{d:()=>s});var r=n(683551),o=n(338664),i=n.n(o),a=n(100334),l=n(844527),s=function(e){var t=e.className,n=e.onClick,o=e.children,s=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["className","onClick","children"]);return(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(l.h,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({name:"20-arrow-left",iconSize:20,iconClassName:"!text-dark",className:t,dataTestId:"exit",onClick:function(){i()(n)&&n()},ariaLabel:(0,a.t)("close")},s)),o]})}},374070:function(e,t,n){n.d(t,{k:()=>a});var r=n(683551),o=n(100334),i=n(870879),a=function(e){var t,n,a=e.onClick,l=e.variant,s=e.formId,c=e.children,u=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["onClick","variant","formId","children"]);return(0,r.jsx)(i.z,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({variant:void 0===l?"primary":l,onClick:a},s?{form:s,type:"submit"}:{type:"button"},u),n=n={children:c||(0,o.t)("save")},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}},152048:function(e,t,n){n.d(t,{A:()=>l});var r=n(683551),o=n(379600),i=n.n(o),a=n(310927),l=function(e){var t,n,o=e.children,l=e.className,s=e.variant,c=void 0===s?"default":s,u=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["children","className","variant"]),d=(0,a.v)().isMobileWebNewSpaceCustomizationUIEnabled;return(0,r.jsx)("div",(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({className:i()("grid-rows-customize-ui grid-cols-customize-ui grid size-full overflow-hidden",{"grid-areas-customize-ui":"default"===c,"!grid-cols-customize-ui-v2-1":d,"grid-areas-customize-ui-without-sidebar":"no-sidebar"===c,"grid-areas-customize-ui-without-header":"no-header"===c,"grid-areas-customize-ui-only-main":"only-main"===c},void 0===l?"":l)},u),n=n={children:o},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}},60991:function(e,t,n){n.d(t,{Ar:()=>k,eW:()=>f,h4:()=>C,MW:()=>p,yR:()=>S});var r=n(683551),o=n(314121),i=n(214813);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){n(e);return}l.done?t(s):Promise.resolve(s).then(r,o)}function s(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){l(i,r,o,a,s,"next",e)}function s(e){l(i,r,o,a,s,"throw",e)}a(void 0)})}}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(s){var c=[l,s];if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}var d=(0,o.createContext)({addBeforeExit:i.noop,addBeforeSave:i.noop,currentSection:"",formId:"",isCustomizeUI:!1,isSaveButtonDisabled:!1,isSaving:!1,onExit:i.noop,onSave:i.noop,removeBeforeExit:i.noop,removeBeforeSave:i.noop,screenSize:"desktop",sections:[],setCurrentSection:i.noop,setIsSaveButtonDisabled:i.noop,setScreenSize:i.noop,title:""});d.displayName="CustomizeUIData";var f=function(){return(0,o.useContext)(d)},p=function(e){var t=e.children,n=e.formId,a=e.initialScreenSize,l=e.initialSection,f=e.isSaving,p=e.onExit,m=void 0===p?i.noop:p,b=e.onSave,h=void 0===b?i.noop:b,y=e.sections,v=void 0===y?[]:y,g=e.title,x=c((0,o.useState)(void 0===a?"desktop":a),2),j=x[0],_=x[1],C=c((0,o.useState)(null),2),w=C[0],O=C[1],S=c((0,o.useState)(null),2),k=S[0],P=S[1],A=c((0,o.useState)(!1),2),E=A[0],L=A[1],N=c((0,o.useState)((void 0===l?"":l)||v[0]||""),2),I=N[0],M=N[1],T=(0,o.useCallback)(function(e){return s(function(){return u(this,function(t){switch(t.label){case 0:if(!(0,i.isFunction)(w))return[3,2];return[4,w()];case 1:if(!t.sent())return[2];t.label=2;case 2:return m(e),[2]}})})()},[w,m]),D=(0,o.useCallback)(function(e){return s(function(){return u(this,function(t){switch(t.label){case 0:if(!(0,i.isFunction)(k))return[3,2];return[4,k()];case 1:if(!t.sent())return[2];t.label=2;case 2:return h(e),[2]}})})()},[k,h]);return(0,r.jsx)(d.Provider,{value:{addBeforeExit:function(e){return O(function(){return e})},addBeforeSave:function(e){return P(function(){return e})},currentSection:I,formId:void 0===n?"":n,isCustomizeUI:!0,isSaveButtonDisabled:E,isSaving:void 0!==f&&f,onExit:T,onSave:D,removeBeforeExit:function(){return O(function(){return null})},removeBeforeSave:function(){return P(function(){return null})},screenSize:j,sections:v,setCurrentSection:M,setIsSaveButtonDisabled:L,setScreenSize:_,title:void 0===g?"":g},children:t})},m=n(106309),b=n(189713),h=n(701764),y=n(100800),v=n(379600),g=n.n(v),x=n(645391),j=n(415043),_=n(374070),C=Object.assign(function(e){var t,n,o=e.children,i=e.className,a=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["children","className"]);return(0,r.jsx)("nav",(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({className:g()("bg-primary flex size-full max-h-16 items-center justify-between px-6 py-4",i)},a),n=n={children:o},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))},{Actions:function(e){var t,n,o=e.children,i=e.className,a=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["children","className"]);return(0,r.jsx)("div",(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({className:(0,x.A)("flex items-center gap-6",i)},a),n=n={children:o},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))},ExitButton:y.d,LinkButton:function(e){var t=e.label,n=e.to;return(0,r.jsx)(j.OL,{to:n,className:"text-default hover:text-darkest focus:text-darkest flex items-center rounded-md bg-transparent px-3 py-2 text-sm font-medium leading-5 outline-none",activeClassName:"bg-secondary !text-darkest font-semibold",children:t})},SaveButton:_.k,ScreenSizeSelect:h.h}),w=function(e){var t,n,o=e.currentScreenSize,i=e.currentSection,a=e.formId,l=e.onChangeScreenSize,s=e.onChangeSection,c=e.onExit,u=e.onSave,d=e.sections,p=e.title,h=void 0===p?"":p,y=e.isSaving,v=e.shouldShowActions,g=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["currentScreenSize","currentSection","formId","onChangeScreenSize","onChangeSection","onExit","onSave","sections","title","isSaving","shouldShowActions"]),x=f().isSaveButtonDisabled,j=(void 0===d?[]:d).map(function(e){return{value:e,label:e}});return(0,r.jsxs)(C,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},g),n=n={children:[(0,r.jsxs)(C.Actions,{className:"!gap-4",children:[(0,r.jsx)(C.ExitButton,{onClick:c}),h&&(0,r.jsx)(b.Z.LabelMd,{weight:"semibold",children:h})]}),(0,r.jsx)(C.Actions,{children:(0,r.jsx)(m.S,{value:void 0===i?"":i,onChange:s,options:j})}),(void 0===v||v)&&(0,r.jsxs)(C.Actions,{children:[(0,r.jsx)(C.ScreenSizeSelect,{onSelect:l,selected:void 0===o?"desktop":o}),(0,r.jsx)(C.SaveButton,{onClick:u,formId:void 0===a?"":a,disabled:void 0!==y&&y||x,variant:"circle"})]})]},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))};function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var S=function(e){var t,n,o=O({},function(e){if(null==e)throw TypeError("Cannot destructure "+e);return e}(e)),i=f(),a=i.screenSize,l=i.setScreenSize,s=i.sections,c=i.currentSection,u=i.setCurrentSection,d=i.onExit,p=i.onSave,m=i.formId,b=i.title,h=i.isSaving;return(0,r.jsx)(w,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},o),n=n={title:b,currentScreenSize:a,onChangeScreenSize:l,currentSection:c,onChangeSection:u,sections:s,onExit:d,onSave:p,formId:m,isSaving:h},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))},k=Object.assign(n(152048).A,{Header:function(e){var t,n,o=e.children,i=e.className,a=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["children","className"]);return(0,r.jsx)("header",(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({className:g()("bg-primary border-primary grid-in-header size-full overflow-x-auto border-b",void 0===i?"":i)},a),n=n={children:o},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))},Footer:function(e){var t,n,o=e.children,i=e.className,a=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["children","className"]);return(0,r.jsx)("footer",(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({className:g()("bg-primary border-primary grid-in-footer size-full overflow-x-auto border-t",i)},a),n=n={children:o},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))},Main:function(e){var t,n,o=e.children,i=e.className,a=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["children","className"]);return(0,r.jsx)("main",(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({className:g()("bg-secondary grid-in-main size-full overflow-auto p-8",void 0===i?"":i)},a),n=n={children:o},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))},Sidebar:function(e){var t,n,o=e.children,i=e.className,a=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["children","className"]);return(0,r.jsx)("aside",(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({className:g()("bg-primary border-primary grid-in-sidebar size-full overflow-y-auto border-r",void 0===i?"":i),"data-testid":"side-menu-bar"},a),n=n={children:o},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))},MainMobile:function(e){var t,n,o=e.children,i=e.className,a=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["children","className"]);return(0,r.jsx)("main",(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({className:g()("bg-secondary grid-in-main size-full",void 0===i?"":i)},a),n=n={children:(0,r.jsx)("div",{className:"flex size-full items-center justify-center",children:o})},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}})},237851:function(e,t,n){n.d(t,{L:()=>o});var r=n(683551),o=function(e){var t=e.condition,n=e.children;return(0,r.jsx)("div",{style:{display:t?"none":"block"},children:n})}},867777:function(e,t,n){n.d(t,{l:()=>l});var r=n(714844),o=n(100334),i=n(992035),a=n(169530),l=function(){var e=(0,a.pm)();return(0,r.useMutation)({mutationFn:i.w.createFromSource,onError:function(t){return"string"==typeof(null==t?void 0:t.errorDetails)?e.error(t.errorDetails):e.error((0,o.t)("something_went_wrong"))}})}},944429:function(e,t,n){n.d(t,{p:()=>h});var r=n(683551),o=n(314121),i=n(214813),a=n(630863),l=n(62263),s=function(e){var t=e.isVisible,n=e.children;return(0,r.jsx)("span",{className:t?"animate-fade-in-slow":"hidden",children:n})};function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var u=new Set(["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"]),d=function(e,t,n){var r,o,i={};return(t&&Object.entries(t).forEach(function(t){var n=function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),i.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return c(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=n[0],o=n[1];("class"===r||"id"===r||r.startsWith("data-")||r.startsWith("aria-")||"a"===e&&("href"===r||"target"===r||"rel"===r||"title"===r))&&("class"===r?i.className=o:i[r]=o)}),n)?(r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},i),o=o={className:[i.className,"hidden"].filter(Boolean).join(" ")},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))}),r):i},f=function(e){var t=e.node,n=e.currentTokenIndex;if("text"===t.type){var i=t.content.match(/\S+\s*/g)||[],a=t.content.startsWith(" ");return(0,r.jsxs)(r.Fragment,{children:[a&&(0,r.jsx)("span",{children:" "}),i.map(function(e,o){var i=(t.wordStart||0)+o;return(0,r.jsx)(s,{isVisible:i<n,children:e},i)})]})}if("element"===t.type){var l,c=t.tag||"span",p=(t.wordStart||0)>=n,m=d(c,t.attrs,p);if(u.has(c))return o.createElement(c,m);var b=null==(l=t.children)?void 0:l.map(function(e){var t;return(0,r.jsx)(f,{node:e,currentTokenIndex:n},"".concat(c,"-").concat(e.type,"-").concat(null!=(t=e.wordStart)?t:0,"-").concat(e.content.length))});return o.createElement(c,m,b)}return null},p=function(e){var t=document.createElement("div");t.innerHTML=e;var n=0,r=function(e){if(e.nodeType===Node.TEXT_NODE){var t=e.textContent||"";if(!t)return null;var o=(t.match(/\S+\s*/g)||[]).length,i={type:"text",content:t,wordStart:n,wordCount:o};return n+=o,i}if((0,a.kK)(e)){var l=n,s={};Array.from(e.attributes).forEach(function(e){s[e.name]=e.value});var c=Array.from(e.childNodes).map(r).filter(function(e){return null!==e}),u=c.reduce(function(e,t){return e+(t.wordCount||0)},0);return{type:"element",tag:e.tagName.toLowerCase(),content:e.outerHTML,attrs:s,children:c,wordStart:l,wordCount:u}}return null};return{tree:Array.from(t.childNodes).map(r).filter(function(e){return null!==e}),totalWords:n}};function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var h=function(e){var t=e.text,n=e.updateInterval,c=void 0===n?60:n,u=e.active,d=void 0===u||u,m=e.onComplete,h=void 0===m?i.noop:m,y=e.containerClassName,v=b((0,o.useState)(0),2),g=v[0],x=v[1],j=b((0,o.useState)([]),2),_=j[0],C=j[1],w=b((0,o.useState)([]),2),O=w[0],S=w[1],k=b((0,o.useState)(0),2),P=k[0],A=k[1];return((0,o.useEffect)(function(){if(t&&d){if((0,a.ug)(t)){var e=p((0,a.E9)(t)),n=e.tree,r=e.totalWords;C(n),A(r)}else{var o=t.match(/\S+\s*/g)||[];S(o),A(o.length)}x(0)}else C([]),S([]),A(0),h()},[t,d,h]),(0,o.useEffect)(function(){if(!P||g>=P){P&&g>=P&&h();return}var e=setTimeout(function(){x(function(e){return e+1})},c);return function(){return clearTimeout(e)}},[P,g,c,h]),d)?(0,r.jsx)(r.Fragment,{children:_.length>0?_.map(function(e,t){return(0,r.jsx)(f,{node:e,currentTokenIndex:g},[e.type,t].join("-"))}):(0,r.jsx)("span",{className:"whitespace-pre-wrap",children:O.map(function(e,t){return(0,r.jsx)(s,{isVisible:t<g,children:e},[e,t].join("-"))})})}):(0,r.jsx)(l.w,{content:(0,a.E9)(t),className:y,sanitizeProps:{ADD_ATTR:["target"]}})}},809556:function(e,t,n){n.d(t,{G:()=>f});var r=n(683551),o=n(351838),i=n(645391),a=n(583972),l=n(771758),s=n(288964),c=n(100334),u=function(e){var t=e.selectedText,n=e.onClear,o=e.shouldShowClearButton;return t?void 0===o||o?(0,r.jsx)("button",{type:"button",className:"focus-visible:ring-secondary focus-visible:ring-1","aria-label":(0,c.t)("filters.clear"),onClick:n,children:(0,r.jsx)(a.JO,{type:"16-close",size:16,useWithStrokeCurrentColor:!0})}):(0,r.jsx)("div",{"aria-hidden":!0}):(0,r.jsx)(a.JO,{type:"16-add-sm",size:16,"aria-hidden":!0,useWithFillCurrentColor:!0})},d=function(e){var t=e.selectedText;return(0,r.jsx)("p",{className:"max-w-[32ch] truncate",title:function(){return Array.isArray(t)?t.join(", "):((0,o.Z)((void 0===t?"undefined":t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t)!="object","use renderSelectedText when passing in object selected values"),null!=t?t:void 0)}(),children:t})},f=function(e){var t=e.children,n=e.isFocused,o=void 0!==n&&n,c=e.selectedText,f=void 0===c?null:c,p=e.renderSelectedText,m=void 0===p?d:p,b=e.onClear,h=e.shouldShowClearButton,y=void 0===h||h,v=function(e){e.stopPropagation(),null==b||b()},g=(0,s.Y)(),x=!!f;return g?(0,r.jsx)(l.w,{hasValue:x,isFocused:o,onClear:v,shouldShowClearButton:y,children:(0,r.jsxs)("div",{className:"flex gap-x-2",children:[(0,r.jsx)("div",{className:"text-dark flex items-center text-sm font-medium leading-5",children:t}),x&&(0,r.jsx)("div",{className:"flex items-center gap-x-1",children:m({selectedText:f})})]})}):(0,r.jsx)("button",{type:"button",className:(0,i.A)("hover:border-secondary focus-visible:border-secondary disabled:hover:border-primary flex h-6 items-center rounded-3xl border px-2 text-xs transition-colors disabled:cursor-not-allowed disabled:opacity-50",o?"text-dark border-secondary":"text-default border-primary",{"text-dark":!!f}),children:(0,r.jsxs)("div",{className:"divide-selector-inactive flex divide-x-[1.25px]",children:[(0,r.jsxs)("div",{className:"flex items-center gap-x-1 pr-2",children:[(0,r.jsx)(u,{selectedText:f,shouldShowClearButton:y,onClear:v}),t]}),f&&(0,r.jsxs)("div",{className:"text-v2-info flex items-center gap-x-1 pl-2",children:[m({selectedText:f}),(0,r.jsx)(a.JO,{type:"16-chevron-down",size:12,className:"text-default mb-1"})]})]})})}},771758:function(e,t,n){n.d(t,{w:()=>a});var r=n(683551),o=n(645391),i=n(583972),a=function(e){var t=e.children,n=e.hasValue,a=void 0!==n&&n,l=e.isFocused,s=e.onClear,c=e.onClick,u=e.shouldShowClearButton,d=void 0===u||u,f=e.className,p=e.buttonClassName;return(0,r.jsxs)("div",{className:(0,o.A)("hover:bg-secondary bg-primary border-primary group relative flex h-8 items-center rounded-3xl border px-[18px] py-1.5 text-xs transition-colors",void 0!==l&&l?"text-dark border-light":"text-default",a&&"border-secondary bg-secondary",f),children:[(0,r.jsx)("button",{type:"button",className:(0,o.A)("flex-1 text-left outline-none disabled:cursor-default",p),onClick:function(e){if(a&&!d&&s)return void s(e);c&&c(e)},disabled:a&&d,children:t}),a&&d&&s&&(0,r.jsx)("button",{type:"button",className:"bg-primary absolute right-1 top-1/2 hidden size-6 -translate-y-1/2 items-center justify-center rounded-3xl shadow-sm transition-all hover:shadow-md hover:outline hover:outline-1 group-hover:flex",onClick:s,"data-testid":"clear-filter-button",children:(0,r.jsx)(i.JO,{type:"14-close",useWithStrokeCurrentColor:!0,size:14,className:"!w-3.5"})})]})}},288964:function(e,t,n){n.d(t,{Y:()=>i}),n(683551);var r=n(314121),o=(0,r.createContext)(!1);o.displayName="MemberFilterDesignContext";var i=function(){return(0,r.useContext)(o)}},331095:function(e,t,n){n.d(t,{X:()=>i});var r=n(683551);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var i=function(e){var t=e.errors,n=Object.entries(void 0===t?{}:t);return n.length?(0,r.jsx)(r.Fragment,{children:n.map(function(e){var t=function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),i.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(e,2)||function(e,t){if(e){if("string"==typeof e)return o(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=t[0],i=t[1];return(0,r.jsx)("div",{className:"form-errors",children:i.message},n)})}):null}},67574:function(e,t,n){n.d(t,{Q:()=>a});var r=n(683551),o=n(379600),i=n.n(o),a=function(e){var t=e.field,n=e.label,o=e.description,a=e.className;return(0,r.jsxs)("div",{className:i()("form-meta",a),children:[(0,r.jsx)("label",{htmlFor:t,children:n}),o&&(0,r.jsx)("div",{className:"field-description",dangerouslySetInnerHTML:{__html:o}})]})}},181514:function(e,t,n){n.d(t,{m:()=>i});var r=n(683551),o=n(357382),i=function(e){var t=e.className;return(0,r.jsx)("div",{className:"flex w-full items-center justify-center",children:(0,r.jsx)(o.a,{className:void 0===t?"":t})})}},803429:function(e,t,n){n.d(t,{O:()=>tp});var r=n(683551),o=n(100334),i=n(757977),a=n(169530),l=n(314121),s=n(318867),c=n(357382),u=n(435534),d=n(788431),f=n(817966),p=n(49385),m="media_player.settings",b="media-settings-form",h=n(598034);function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}var v=["Oct 1","Oct 7","Oct 14","Oct 21","Oct 27"];v.map(function(e,t){return y({id:e,label:e},[{views:45e3,unique_viewers:12e5},{views:85e3,unique_viewers:145e4},{views:12e4,unique_viewers:162e4},{views:95e3,unique_viewers:158e4},{views:135890,unique_viewers:1783212}][t])}),v.map(function(e,t){return y({id:e,label:e},[{avg_completion:70},{avg_completion:22},{avg_completion:50},{avg_completion:24},{avg_completion:100}][t])});var g=["views","unique_viewers"],x=["avg_completion"],j=(0,h.EC)(2),_=(0,h.EC)(1),C=n(714844),w=n(547550),O=n(904812),S=function(e,t){var n=t.signedId,r=t.startDate,o=t.endDate,i=t.dateGrouping,a={filters:{signed_id_filter:{key:"signed_id",value:n}}};return r&&(a.start_date=r),o&&(a.end_date=o),i&&(a.date_grouping=i),(0,C.useQuery)(["video-analytics-timeline",e,n,r,o,i],function(){return(0,w.UT)(O.av.analytics.media.timeline[e](a))},{enabled:!!n})},k=function(e){var t=S("average_progress_timeline",{signedId:e.signedId,startDate:e.startDate,endDate:e.endDate,dateGrouping:e.dateGrouping}),n=t.data,i=t.isLoading,a=(0,l.useMemo)(function(){return n&&0!==n.length?n.map(function(e){return{id:e.date_period,label:e.date_period,avg_completion:e.avg_progress_percent}}):[]},[n]);return(0,r.jsx)("div",{className:"mb-8",children:(0,r.jsx)(p.D,{title:(0,o.t)([m,"analytics.chart.completion_timeline.title"]),tooltip:(0,o.t)([m,"analytics.chart.completion_timeline.tooltip"]),data:a,indexBy:"label",seriesKeys:x,colors:_,suffix:"%",rootLocale:[m,"analytics.chart.completion_timeline.lines"],className:"w-full",isLoading:i})})},P=n(847141),A=n(871272),E=n(89680),L=n(365184),N=n(927105);function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var M=[{label:(0,o.t)("analytics_v2.date_grouping.daily"),value:"daily"},{label:(0,o.t)("analytics_v2.date_grouping.weekly"),value:"weekly"},{label:(0,o.t)("analytics_v2.date_grouping.monthly"),value:"monthly"}],T=function(e){var t,n=e.onDateGroupingChange,o=(t=(0,l.useState)(M[1]),function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),i.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return I(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[0],a=o[1];return(0,r.jsx)(N.R,{value:i,options:M,onChange:function(e){a(e),null==n||n(e.value)},className:"min-w-[8rem] rounded-md"})};function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var U=function(e){return(0,d.WU)(e,"yyyy-MM-dd")},H=E.rG.find(function(e){return"last_3_months"===e.value})||E.rG["2"],B=function(e){var t=e.onChange,n=R((0,l.useState)(H),2),o=n[0],i=n[1],a=R((0,l.useState)("weekly"),2),s=a[0],c=a[1];return(0,r.jsx)(L._p,{section:L.kS.ADMIN,children:(0,r.jsxs)("div",{className:"mb-6 flex flex-col gap-y-3 md:flex-row md:items-center md:justify-end md:gap-x-4",children:[(0,r.jsx)("div",{className:"w-full md:w-auto",children:(0,r.jsx)(A.D,{defaultDateRange:o.onSelect(),onChange:function(e,n){var r=R(e,2),o=r[0],a=r[1],l=U(o),c=U(a);i(n),t(l,c,s)},maxDate:(0,P.i)(new Date),predefinedRange:o.value,predefinedRangePickerOptions:E.rG})}),(0,r.jsx)("div",{className:"w-full md:w-auto",children:(0,r.jsx)(T,{onDateGroupingChange:function(e){c(e);var n=R(o.onSelect(),2),r=n[0],i=n[1];t(U(r),U(i),e)}})})]})})},Z=n(948254),F=function(e,t){var n=t.signedId,r=t.startDate,o=t.endDate,i={filters:{signed_id_filter:{key:"signed_id",value:n}}};return r&&(i.start_date=r),o&&(i.end_date=o),(0,C.useQuery)(["video-analytics",e,n,r,o],function(){return(0,w.UT)(O.av.analytics.media.overview[e](i))},{enabled:!!n})},z=function(e){var t=e.signedId,n=e.startDate,i=e.endDate,a=F("views",{signedId:t,startDate:n,endDate:i}),l=a.data,s=a.isLoading,c=F("unique_viewers",{signedId:t,startDate:n,endDate:i}),u=c.data,d=c.isLoading,f=F("average_progress",{signedId:t,startDate:n,endDate:i}),p=f.data,b=f.isLoading;return(0,r.jsxs)("div",{className:"mb-8 grid grid-cols-1 gap-6 md:grid-cols-3",children:[(0,r.jsx)(Z.O,{title:(0,o.t)([m,"analytics.metrics.views.title"]),value:null!=l?l:0,tooltip:(0,o.t)([m,"analytics.metrics.views.tooltip"]),className:"w-full",isLoading:s}),(0,r.jsx)(Z.O,{title:(0,o.t)([m,"analytics.metrics.unique_viewers.title"]),value:null!=u?u:0,tooltip:(0,o.t)([m,"analytics.metrics.unique_viewers.tooltip"]),className:"w-full",isLoading:d}),(0,r.jsx)(Z.O,{title:(0,o.t)([m,"analytics.metrics.average_progress.title"]),value:null!=p?p:0,suffix:"%",tooltip:(0,o.t)([m,"analytics.metrics.average_progress.tooltip"]),className:"w-full",isLoading:b})]})},V=function(e){var t=Math.round(e);if(t<60)return"0:".concat(String(t).padStart(2,"0"));var n=Math.floor(t/86400),r=Math.floor(t%86400/3600),o=Math.floor(t%3600/60),i=t%60;return n>0?"".concat(n,":").concat(String(r).padStart(2,"0"),":").concat(String(o).padStart(2,"0"),":").concat(String(i).padStart(2,"0")):r>0?"".concat(r,":").concat(String(o).padStart(2,"0"),":").concat(String(i).padStart(2,"0")):"".concat(o,":").concat(String(i).padStart(2,"0"))},W=function(e){var t=e.signedId,n=e.startDate,i=e.endDate,a=F("average_duration",{signedId:t,startDate:n,endDate:i}),l=a.data,s=a.isLoading,c=F("total_duration",{signedId:t,startDate:n,endDate:i}),u=c.data,d=c.isLoading;return(0,r.jsxs)("div",{className:"mb-8 grid grid-cols-1 gap-6 md:grid-cols-2",children:[(0,r.jsx)(Z.O,{title:(0,o.t)([m,"analytics.metrics.average_duration.title"]),value:V(null!=l?l:0),tooltip:(0,o.t)([m,"analytics.metrics.average_duration.tooltip"]),className:"w-full",isLoading:s}),(0,r.jsx)(Z.O,{title:(0,o.t)([m,"analytics.metrics.total_duration.title"]),value:V(null!=u?u:0),tooltip:(0,o.t)([m,"analytics.metrics.total_duration.tooltip"]),className:"w-full",isLoading:d})]})},G=function(e){var t=S("viewers_timeline",{signedId:e.signedId,startDate:e.startDate,endDate:e.endDate,dateGrouping:e.dateGrouping}),n=t.data,i=t.isLoading,a=(0,l.useMemo)(function(){return n&&0!==n.length?n.map(function(e){return{id:e.date_period,label:e.date_period,views:e.views,unique_viewers:e.unique_viewers}}):[]},[n]);return(0,r.jsx)("div",{className:"mb-8",children:(0,r.jsx)(p.D,{title:(0,o.t)([m,"analytics.chart.views_timeline.title"]),tooltip:(0,o.t)([m,"analytics.chart.views_timeline.tooltip"]),data:a,indexBy:"label",seriesKeys:g,colors:j,rootLocale:[m,"analytics.chart.views_timeline.lines"],className:"w-full",isLoading:i})})};function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Q=function(e){var t=e.signedId,n=J((0,l.useState)((0,d.WU)((0,f.W)(new Date,3),"yyyy-MM-dd")),2),o=n[0],i=n[1],a=J((0,l.useState)((0,d.WU)(new Date,"yyyy-MM-dd")),2),s=a[0],c=a[1],u=J((0,l.useState)("weekly"),2),p=u[0],m=u[1];return(0,r.jsxs)("div",{className:"mx-auto w-full p-3 md:w-5/6 md:p-6",children:[(0,r.jsx)(B,{onChange:function(e,t,n){i(e),c(t),m(n)}}),(0,r.jsx)(z,{signedId:t,startDate:o,endDate:s}),(0,r.jsx)(G,{signedId:t,startDate:o,endDate:s,dateGrouping:p}),(0,r.jsx)(k,{signedId:t,startDate:o,endDate:s,dateGrouping:p}),(0,r.jsx)(W,{signedId:t,startDate:o,endDate:s})]})},$=n(244289);function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Y=function(e,t){var n=((function(e){if(Array.isArray(e))return K(e)})(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return K(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).sort(function(e,t){return e.start_time-t.start_time}),r=n.map(function(e,r){var o,i=n[r+1],a=X(e.start_time),l=X(null!=(o=null==i?void 0:i.start_time)?o:t);return"".concat(r+1,"\n").concat(a," --\x3e ").concat(l,"\n").concat(e.title)}).join("\n\n");return"WEBVTT\n\n".concat(r,"\n")},X=function(e){var t=Math.floor(e/3600),n=Math.floor(e%3600/60),r=Math.floor(e%60),o=Math.round(e%1*1e3),i=t.toString().padStart(2,"0"),a=n.toString().padStart(2,"0"),l=r.toString().padStart(2,"0"),s=o.toString().padStart(3,"0");return"".concat(i,":").concat(a,":").concat(l,".").concat(s)},ee=n(645391),et=n(132361),en=n(189713),er=n(621191),eo=n(200417);function ei(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ea(e){if(Array.isArray(e))return e}function el(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){n(e);return}l.done?t(s):Promise.resolve(s).then(r,o)}function es(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function ec(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function eu(e,t){if(e){if("string"==typeof e)return ei(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ei(e,t)}}var ed=function(e){var t=new eo.WebVTTParser().parse(e);return t.errors.length&&console.warn("VTT parsing errors:",t.errors),t.cues.reduce(function(e,t){var n,r,o=ef(t.text);if(!o)return e;var i=o.imageUrl,a=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(o,["imageUrl"]);return{cues:((function(e){if(Array.isArray(e))return ei(e)})(n=e.cues)||es(n)||eu(n)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat([function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({startTime:t.startTime,endTime:t.endTime},a)]),imageUrl:null!=(r=e.imageUrl)?r:i.split("#")[0]}},{cues:[],imageUrl:null})},ef=function(e){var t,n=e.replace(/<[^>]*>/g,"").trim().match(/^(.+)#xywh=(\d+),(\d+),(\d+),(\d+)$/);if(!n)return null;var r=ea(n)||es(n)||eu(n)||ec(),o=r[1],i=(t=r.slice(2).map(function(e){return parseInt(e,10)}),ea(t)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),i.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(t,4)||eu(t,4)||ec());return{imageUrl:o,x:i[0],y:i[1],width:i[2],height:i[3]}},ep=function(e){var t,n=e.cues,r=e.time,o=e.thumbnailUrl;return(t=function(){var e,t;return function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(s){var c=[l,s];if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}(this,function(i){switch(i.label){case 0:if(!(e=em(n,r)))return[2,null];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,eb(e,o)];case 2:return[2,i.sent()];case 3:return t=i.sent(),console.error("Failed to extract thumbnail for chapter at ".concat(r,":"),t),[2,null];case 4:return[2]}})},function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(e){el(i,r,o,a,l,"next",e)}function l(e){el(i,r,o,a,l,"throw",e)}a(void 0)})})()},em=function(e,t){var n;return null!=(n=e.find(function(e){return t>=e.startTime&&t<e.endTime}))?n:null},eb=function(e,t){return new Promise(function(n,r){var o=new Image;o.crossOrigin="anonymous",o.onload=function(){try{var t,i=document.createElement("canvas");i.width=e.width,i.height=e.height;var a=i.getContext("2d");if(!a)throw Error("Failed to get canvas context");a.drawImage(o,e.x,e.y,e.width,e.height,0,0,e.width,e.height),n(i.toDataURL())}catch(e){r((null!=(t=Error)&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t)?e:Error(String(e)))}},o.onerror=function(){r(Error("Failed to load sprite image: ".concat(t)))},o.src=t})};function eh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ey(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){n(e);return}l.done?t(s):Promise.resolve(s).then(r,o)}function ev(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){ey(i,r,o,a,l,"next",e)}function l(e){ey(i,r,o,a,l,"throw",e)}a(void 0)})}}function eg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return eh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eh(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ex(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(s){var c=[l,s];if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}var ej=function(e){var t=e.chapters,n=e.previewThumbnailsUrl,r=eg((0,l.useState)(!0),2),o=r[0],i=r[1],a=eg((0,l.useState)({}),2),s=a[0],c=a[1],u=(0,er.N)({previewThumbnailsUrl:n}),d=u.vttContent,f=u.isLoading,p=(0,l.useMemo)(function(){return d?ed(d):null},[d]);return(0,l.useEffect)(function(){var e=!0;if(!f){if(!(null==p?void 0:p.cues.length)||!(null==p?void 0:p.imageUrl))return void i(!1);var n=p.cues,r=p.imageUrl;return ev(function(){var o,a;return ex(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,Promise.all(t.map(function(e){return ev(function(){var t;return ex(this,function(o){switch(o.label){case 0:return[4,ep({cues:n,time:e.start_time,thumbnailUrl:r})];case 1:return t=o.sent(),[2,[String(e.start_time),t]]}})})()}))];case 1:return o=l.sent(),e&&(c(Object.fromEntries(o)),i(!1)),[3,3];case 2:var s;return a=l.sent(),e&&(null!=(s=Error)&&"undefined"!=typeof Symbol&&s[Symbol.hasInstance]?!!s[Symbol.hasInstance](a):a instanceof s)&&(console.error("Failed to extract chapter thumbnails:",a),i(!1)),[3,3];case 3:return[2]}})})(),function(){e=!1}}},[f,p,t]),{chapterThumbnails:s,isLoading:o}},e_=n(583972),eC=n(527804),ew=n(870879),eO=function(e){var t=Math.floor(e/60),n=Math.floor(e%60),r=t.toString().padStart(2,"0"),o=n.toString().padStart(2,"0");return"".concat(r,":").concat(o)};function eS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ek=function(e){var t,n=e.className,i=e.chapters,a=e.currentTime,s=e.duration,c=e.onChapterAdd,u=(t=(0,l.useState)(!1),function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),i.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return eS(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eS(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=u[0],f=u[1],p=i.length,b=p>=100,h=Math.floor(a)===Math.floor(s),y=0===p?0:a,v=(0,l.useMemo)(function(){return i.some(function(e){return Math.floor(e.start_time)===Math.floor(y)})},[i,y]),g=(0,l.useMemo)(function(){return b?(0,o.t)("".concat(m,".chapters.chapter_limit_reached_tooltip"),{max_chapters_count:100}):v?(0,o.t)("".concat(m,".chapters.duplicate_timestamp_tooltip"),{timestamp:eO(a)}):h?(0,o.t)("".concat(m,".chapters.video_end_reached_tooltip")):""},[b,v,h,a]);(0,l.useEffect)(function(){var e=setTimeout(function(){return f(!1)},1e3);return function(){return clearTimeout(e)}},[d]);var x=b||v||h,j=x&&!d;return(0,r.jsx)(eC.T,{content:g,enabled:j,children:(0,r.jsxs)(ew.z,{className:(0,ee.A)("flex gap-1",n),type:"button",variant:"secondary",onClick:function(){f(!0),c()},disabled:x,children:[(0,r.jsx)(e_.JO,{type:"plus-v2",size:16,className:"!size-4"}),(0,r.jsx)(en.Z.LabelXs,{weight:"medium",children:(0,o.t)("".concat(m,".chapters.add_at"),{timestamp:eO(a)})})]})})},eP=n(263229),eA=n(102965),eE=n(844527);function eL(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var eN=function(e){var t,n=e.chapter,i=e.isEditing,a=e.isNew,s=e.onEditEnd,c=e.onEditStart,u=e.onRemove,d=e.onUpdate,f=e.thumbnailUrl,p=e.onJumpToChapter,b=(t=(0,l.useState)(n.title),function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),i.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return eL(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eL(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),h=b[0],y=b[1],v=(0,l.useRef)(null),g=(0,l.useRef)(!1);(0,l.useEffect)(function(){v.current&&i&&(v.current.focus(),v.current.select())},[v,i]);var x=function(e){null==e||e.preventDefault();var t,r,o=h.trim()||n.title;o!==n.title&&d((t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},n),r=r={title:o},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}),t)),y(o),s()},j=function(){a?u():y(n.title),s()};return(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"bg-tertiary h-16 w-28 shrink-0",children:f?(0,r.jsx)("button",{className:"bg-transparent",type:"button",onClick:function(){return null==p?void 0:p(n.start_time)},children:(0,r.jsx)("img",{src:f,alt:n.title,className:"size-full object-fill",loading:"lazy"})}):(0,r.jsx)("div",{className:"bg-tertiary size-full"})}),(0,r.jsxs)("div",{className:"flex flex-1 flex-col gap-1",children:[i?(0,r.jsxs)("div",{className:"flex flex-1 items-center gap-2 border-b border-transparent",children:[(0,r.jsx)("input",{ref:v,name:"title",className:"bg-primary border-input focus:border-secondary placeholder:text-light -my-1.5 w-full rounded-sm border px-2 py-1 text-sm placeholder:opacity-100 focus:outline-none",placeholder:(0,o.t)("".concat(m,".chapters.title_placeholder")),value:h,onChange:function(e){return y(e.target.value)},onKeyDown:function(e){"Enter"===e.key?(e.preventDefault(),x()):"Escape"===e.key&&(e.preventDefault(),j())},onBlur:function(){if(g.current){g.current=!1;return}x()},maxLength:50}),(0,r.jsx)(eE.h,{type:"submit",name:"16-check",className:"!border-v2-success border",iconClassName:"!text-v2-success",ariaLabel:(0,o.t)("save_and_close"),onClick:x,onMouseDown:function(){return g.current=!0}}),(0,r.jsx)(eE.h,{type:"button",name:"16-close",className:"border-secondary border",ariaLabel:(0,o.t)("close"),onClick:j,onMouseDown:function(){return g.current=!0}})]}):(0,r.jsx)("span",{children:(0,r.jsx)("button",{type:"button",className:"focus-visible:!outline-secondary hover:border-dark max-w-full cursor-pointer truncate rounded-sm border-b border-dashed border-transparent text-left focus-visible:!outline focus-visible:!outline-2 focus-visible:!outline-offset-2",onClick:c,children:(0,r.jsx)(en.Z.LabelSm,{weight:"semibold",children:h})})}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{type:"button",className:"bg-transparent",onClick:function(){return null==p?void 0:p(n.start_time)},children:(0,r.jsx)(eP.g,{className:"!bg-circle-button !text-circle-button !border-circle-button",label:eO(n.start_time),square:!0})})})]}),(0,r.jsxs)(eA.Lt,{menuButtonEl:"div",button:(0,r.jsx)(eE.h,{name:"16-menu-dots-horizontal",ariaLabel:(0,o.t)("".concat(m,".chapters.actions.title"))}),size:"small",children:[(0,r.jsx)(eA.Lt.ItemWithLink,{onClick:c,linkType:"button",children:(0,o.t)("".concat(m,".chapters.actions.rename"))}),(0,r.jsx)(eA.Lt.ItemWithLink,{onClick:u,linkType:"button",hasDanger:!0,children:(0,o.t)("".concat(m,".chapters.actions.delete"))})]})]})};function eI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function eM(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(e,t)||eT(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eT(e,t){if(e){if("string"==typeof e)return eI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eI(e,t)}}var eD=function(e){var t=e.currentTime,n=e.duration,i=e.mediaSettings,a=e.onChapterAdd,s=e.onChapterJump,c=eM((0,l.useState)(null),2),u=c[0],d=c[1],f=eM((0,l.useState)(null),2),p=f[0],b=f[1],h=(0,l.useRef)(null),y=(0,$.Gc)(),v=y.control,g=y.getValues,x=(0,$.Dq)({control:v,name:"chapters"}),j=x.fields,_=x.append,C=x.update,w=x.remove,O=(0,l.useMemo)(function(){return((function(e){if(Array.isArray(e))return eI(e)})(j)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(j)||eT(j)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).sort(function(e,t){return e.start_time-t.start_time})},[j]),S=0!==j.length,k=ej({chapters:j,previewThumbnailsUrl:i.preview_thumbnails_url}),P=k.chapterThumbnails,A=k.isLoading,E=function(){var e=0===j.length?0:t;null==a||a(e),_({title:(0,o.t)("".concat(m,".chapters.untitled")),start_time:e}),d(j.length),b(j.length)};return(0,r.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)(en.Z.LabelMd,{weight:"semibold",children:(0,o.t)("".concat(m,".chapters_section"))}),(0,r.jsx)("div",{className:"flex-1"}),(0,r.jsx)(ek,{className:(0,ee.A)({invisible:!S}),chapters:j,currentTime:t,duration:n,onChapterAdd:E})]}),S?(0,r.jsx)("div",{ref:h,className:"flex flex-col gap-3",children:O.map(function(e){var t,n=j.findIndex(function(t){return t.id===e.id}),o=g("chapters.".concat(n));if(!o)return null;var a=A?void 0:null!=(t=P[String(o.start_time)])?t:i.default_thumbnail_url;return(0,r.jsx)(eN,{chapter:o,isNew:u===n,isEditing:p===n,onEditStart:function(){return b(n)},onEditEnd:function(){d(null),b(null)},onJumpToChapter:s,onUpdate:function(e){return C(n,e)},onRemove:function(){return w(n)},thumbnailUrl:a},e.id)})}):(0,r.jsx)(et.u,{header:(0,o.t)("".concat(m,".chapters.empty_state.title")),description:(0,o.t)("".concat(m,".chapters.empty_state.description")),primaryLabel:(0,o.t)("".concat(m,".chapters.empty_state.primary_label")),onPrimaryClick:E})]})},eR=n(929775),eU=function(e){var t,n,o,i=e.mediaSettings,a=e.chaptersUrl,l=e.onTimeUpdate,s=e.onLoadedMetadata,c=e.onPlayerReady;return(0,r.jsx)(eR.Y,{src:i.blob_url,contentType:i.blob_content_type,mediaTranscoding:i.transcoding,mediaTranscriptId:null!=(n=null==(t=i.transcript)?void 0:t.id)?n:void 0,downloadUrl:i.blob_url,downloadable:i.make_downloadable,settingsEnabled:!1,isVideoAnalyticsEnabled:!1,posterUrl:null!=(o=i.custom_thumbnail_url)?o:i.default_thumbnail_url,chaptersUrl:a,previewThumbnailsUrl:i.preview_thumbnails_url,variants:i.video_variants,signedId:i.blob_signed_id,onTimeUpdate:l,onLoadedMetadata:s,onPlayerReady:c,preload:"metadata"})},eH=n(953149),eB=function(){return(0,r.jsxs)("div",{className:"bg-secondary border-primary flex aspect-video w-full flex-col items-center justify-center gap-2 rounded-md border border-dashed",children:[(0,r.jsx)(c.a,{className:"!p-0"}),(0,r.jsxs)(en.Z.LabelXs,{children:[(0,o.t)("uploading"),"..."]})]})},eZ=function(e){var t=e.imageAlt,n=e.imageUrl,i=e.onChange,a=e.onDelete;return(0,r.jsxs)("div",{className:"bg-secondary group relative aspect-video w-full rounded-md",children:[(0,r.jsx)("img",{className:"size-full rounded-md",src:n,alt:t,loading:"lazy"}),(0,r.jsxs)("div",{className:"invisible absolute bottom-1/2 right-1/2 flex translate-x-1/2 translate-y-1/2 gap-4 group-hover:visible",children:[(0,r.jsx)(ew.z,{variant:"secondary",type:"button",onClick:i,children:(0,o.t)("change")}),(0,r.jsx)(ew.z,{variant:"secondary",type:"button",onClick:a,children:(0,o.t)("remove")})]})]})},eF=n(62263),ez=function(e){var t=e.description,n=e.onUpload;return(0,r.jsx)("div",{className:"bg-secondary border-primary aspect-video w-full rounded-md border border-dashed",children:(0,r.jsxs)("button",{type:"button",className:"text-dark flex size-full flex-col items-center justify-center gap-2 px-4 py-5 text-center",onClick:n,children:[(0,r.jsx)("div",{className:"bg-tertiary flex size-8 items-center justify-center rounded-full",children:(0,r.jsx)(e_.JO,{type:"plus",viewBox:"0 0 20 20"})}),(0,r.jsx)("span",{className:"mt-0.5 text-xs",children:(0,r.jsx)(eF.w,{content:t})})]})})},eV=function(e){var t=e.name,n=e.title,o=e.description,i=e.imageAlt,a=void 0===i?n:i,l=e.aspectRatio,s=e.hideUnsplash,c=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["name","title","description","imageAlt","aspectRatio","hideUnsplash"]);return(0,r.jsx)(eH.a,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({name:t,title:n,aspectRatio:void 0===l?16/9:l,hideUnsplash:void 0===s||s,renderer:function(e){var t=e.handleChangeCoverClick,n=e.handleDelete,i=e.imageUrl,l=e.processing,s=e.value;return l?(0,r.jsx)(eB,{}):s?(0,r.jsx)(eZ,{imageUrl:i,imageAlt:a,onChange:t,onDelete:n}):(0,r.jsx)(ez,{description:o,onUpload:t})}},c))},eW=n(190920),eG=n(713719),eq=n(214813);function eJ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var eQ=function(e){var t,n=e.name,o=e.placeholder,i=e.errorMessage,s=e.onChange,c=(0,a.pm)().error,u=(t=(0,l.useState)(null),function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),i.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return eJ(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eJ(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=u[0],f=u[1],p=(0,l.useRef)(null);return(0,l.useEffect)(function(){i&&c(i)},[i]),(0,r.jsx)("div",{children:(0,r.jsxs)("label",{className:(0,ee.A)("bg-primary flex cursor-pointer rounded-md border border-gray-600 px-2 py-1.5 text-sm",{"hover:bg-selector-active justify-center":!d,"border-red-500":i}),children:[!d&&(0,r.jsx)("span",{children:o}),d&&(0,r.jsxs)("span",{className:"flex gap-2",children:[(0,r.jsx)(e_.JO,{type:"20-attach",size:20,className:"shrink-0"}),(0,r.jsx)("span",{className:"grow",children:(0,eq.truncate)(d,{length:17,omission:"..."})}),(0,r.jsx)(e_.JO,{type:"16-close",size:16,className:"shrink-0",onClick:function(e){e.preventDefault(),e.stopPropagation(),p.current&&(p.current.value=""),f(null),s("")}})]}),(0,r.jsx)("input",{className:"hidden",type:"file",name:n,itemType:"text/vtt",accept:".vtt",onChange:function(e){var t,n=null==(t=e.target.files)?void 0:t[0];if(n){var r=new FileReader;r.onload=function(){s(r.result)},r.readAsDataURL(n),f(n.name)}},ref:p})]})})},e$=function(e){var t=e.name,n=e.rules,o=e.placeholder,i=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["name","rules","placeholder"]),a=(0,$.Gc)(),l=a.control,s=a.formState.errors,c=(0,eq.get)(s,t),u="string"==typeof(null==c?void 0:c.message)?c.message:"";return(0,r.jsx)($.Qr,{control:l,name:t,rules:n,render:function(e){var n=e.field.onChange;return(0,r.jsx)(eQ,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({name:t,onChange:n,errorMessage:u,placeholder:o},i))}})},eK=n(719952),eY=function(e){if(!e)return!0;var t,n=(0,eK.H)(e),r=new eo.WebVTTParser().parse(n);return!(null==r||null==(t=r.errors)?void 0:t.length)},eX=function(e){var t=e.onChange,n=e.value,i=e.supportsAi,a=e.aiFileDownloadUrl;return(0,r.jsx)(eW.E,{className:"w-full",name:"file_type",value:n,onChange:t,children:(0,r.jsxs)("div",{className:(0,ee.A)("flex flex-col items-stretch gap-3",{"flex-col-reverse":!i}),children:[(0,r.jsxs)(eG.R,{className:"py-4",value:"ai",children:[(0,r.jsx)(eW.E.Label,{as:"span",className:"text-darkest block text-sm font-medium",children:(0,o.t)("".concat(m,".transcript.file_type.ai"))}),(0,r.jsxs)(eW.E.Description,{as:"span",className:"text-default mt-1 flex flex-col justify-center gap-1 text-sm",children:[(0,o.t)("".concat(m,".transcript.file_type.ai_description")),"ai"===n&&!i&&!a&&(0,r.jsx)(ew.z,{variant:"circle",onClick:function(e){e.preventDefault(),window.open((0,O.xn)(),"_blank")},children:(0,o.t)("".concat(m,".transcript.file_type.upgrade_label"))}),"ai"===n&&!!a&&(0,r.jsxs)(ew.z,{variant:"secondary",onClick:function(e){e.preventDefault(),window.open(a,"_blank")},children:[(0,r.jsx)(e_.JO,{type:"16-download",className:"mr-1.5",size:16}),(0,o.t)("".concat(m,".transcript.file_type.download_vtt_label"))]})]})]}),(0,r.jsxs)(eG.R,{className:"py-4",value:"user",children:[(0,r.jsx)(eW.E.Label,{as:"span",className:"text-darkest block text-sm font-medium",children:(0,o.t)("".concat(m,".transcript.file_type.user"))}),(0,r.jsxs)(eW.E.Description,{as:"div",className:"text-default mt-1 flex flex-col justify-center gap-1 text-sm",children:[(0,o.t)("".concat(m,".transcript.file_type.user_description")),"user"===n&&(0,r.jsx)(e$,{name:"transcript.user_webvtt_file",rules:{validate:function(e){return!!eY(e)||(0,o.t)("".concat(m,".transcript.file_type.user_file_error"))}},placeholder:(0,o.t)("".concat(m,".transcript.file_type.user_file"))})]})]})]})})},e0=function(e){var t=e.name,n=e.rules,o=e.supportsAi,i=e.aiFileDownloadUrl,a=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["name","rules","supportsAi","aiFileDownloadUrl"]),l=(0,$.Gc)().control;return(0,r.jsx)($.Qr,{control:l,name:t,rules:n,render:function(e){var t=e.field,n=t.onChange,l=t.value;return(0,r.jsx)(eX,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({onChange:n,value:l,supportsAi:o,aiFileDownloadUrl:i},a))}})},e1=function(e){var t,n,i,a,l=e.mediaSettings,s=e.onCustomThumbnailUrlChange,c=(0,$.qo)({name:"transcript.enabled"}),d=null!=(i=null==(t=l.transcript)?void 0:t.supports_ai)&&i,f=null!=(a=null==(n=l.transcript)?void 0:n.webvtt_file_url)?a:void 0,p=function(e){return"ai"!==e||!!d||(0,o.t)("".concat(m,".transcript.file_type.ai_unsupported_error"))};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"px-6 py-5",children:(0,r.jsx)(u.l.Item,{name:"custom_thumbnail",translationRoot:m,hideBorder:!0,hideDescription:!0,fullWidth:!0,className:"!p-0",labelClassName:"!mb-3 !text-md",children:(0,r.jsx)(eV,{name:"custom_thumbnail",title:(0,o.t)("".concat(m,".thumbnail")),description:(0,o.t)("".concat(m,".thumbnail_description")),onImageAttachSuccess:s,onDelete:function(){return s(null)}})})}),(0,r.jsx)("div",{className:"border-primary border-t"}),(0,r.jsxs)("div",{className:"flex flex-col gap-4 px-6 py-5",children:[(0,r.jsx)(en.Z.LabelMd,{weight:"semibold",children:(0,o.t)("".concat(m,".settings_section"))}),(0,r.jsx)(u.l.Item,{name:"make_downloadable",translationRoot:m,hideBorder:!0,fullWidth:!0,inline:!0,className:"!p-0",children:(0,r.jsx)(u.l.ToggleSwitch,{variant:"small",name:"make_downloadable"})}),(0,r.jsx)(u.l.Item,{name:"transcript.enabled",translationRoot:m,hideBorder:!0,fullWidth:!0,inline:!0,className:"!p-0",label:(0,o.t)("".concat(m,".enable_transcription")),description:(0,o.t)("".concat(m,".enable_transcription_description")),children:(0,r.jsx)(u.l.ToggleSwitch,{variant:"small",name:"transcript.enabled"})}),c&&(0,r.jsx)(u.l.Item,{name:"transcript.selected_file",hideBorder:!0,fullWidth:!0,inline:!0,hideLabel:!0,hideDescription:!0,rules:{validate:p},className:"flex flex-col !p-0",children:(0,r.jsx)(e0,{name:"transcript.selected_file",rules:{validate:p},supportsAi:d,aiFileDownloadUrl:f})})]})]})};function e2(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function e3(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return e2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e2(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var e5=function(e){var t=e.customThumbnailUrl,n=e.mediaSettings,o=e.onCustomThumbnailUrlChange,i=(0,$.Gc)().watch,a=e3((0,l.useState)(0),2),s=a[0],c=a[1],u=e3((0,l.useState)(0),2),d=u[0],f=u[1],p=(0,l.useRef)(null),m=i("make_downloadable"),b=i("chapters"),h=(0,l.useMemo)(function(){var e,r;return e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},n),r=r={custom_thumbnail_url:t,make_downloadable:m},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}),e},[n,t,m]),y=(0,l.useMemo)(function(){if(b&&0!==b.length){var e=new Blob([Y(b,d)],{type:"text/vtt"});return URL.createObjectURL(e)}},[b,d]),v=(0,l.useCallback)(function(e){var t,n=Math.min(Math.floor(e)+10,d);null==(t=p.current)||t.setCustomPlaybackRestoreTime(n)},[d]);return(0,r.jsxs)("div",{className:"flex h-full",children:[(0,r.jsx)("div",{className:"flex w-full flex-col overflow-auto md:w-96",children:(0,r.jsx)(e1,{mediaSettings:n,onCustomThumbnailUrlChange:o})}),(0,r.jsx)("div",{className:"border-primary hidden flex-1 overflow-auto border-l md:flex md:justify-center",children:(0,r.jsx)("div",{className:"flex w-full max-w-2xl flex-col gap-8 2xl:max-w-4xl",children:(0,r.jsxs)("div",{className:"flex flex-col gap-8 p-8",children:[(0,r.jsx)(eU,{mediaSettings:h,chaptersUrl:y,onTimeUpdate:c,onLoadedMetadata:function(e){return f(e.duration)},onPlayerReady:function(e){p.current=e}}),(0,r.jsx)(eD,{currentTime:s,duration:d,mediaSettings:h,onChapterAdd:v,onChapterJump:function(e){var t;null==(t=p.current)||t.seek(e)}})]})})})]})};function e4(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function e6(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){n(e);return}l.done?t(s):Promise.resolve(s).then(r,o)}var e8=function(e){var t,n,r,o,i;return{custom_thumbnail:e.custom_thumbnail_signed_id,make_downloadable:e.make_downloadable,transcript:{enabled:null!=(r=null==(t=e.transcript)?void 0:t.enabled)&&r,selected_file:null!=(o=null==(n=e.transcript)?void 0:n.selected_file)?o:"user"},chapters:null!=(i=e.chapters)?i:[]}},e9=function(e){var t,n=e.mediaSettings,o=e.onSubmit,i=e.selectedTab,a=e.signedId,s=e.onChaptersUpdated,c=(t=(0,l.useState)(n.custom_thumbnail_url),function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),i.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return e4(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e4(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=c[0],f=c[1];return(0,r.jsxs)(u.l,{id:b,className:"h-full",formClassName:"h-full",defaultValues:e8(n),onSubmit:function(e,t){var n,r=t.reset;return(n=function(){var t;return function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(s){var c=[l,s];if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}(this,function(n){switch(n.label){case 0:return[4,o(e)];case 1:return f((t=n.sent()).custom_thumbnail_url),r(e8(t)),null==s||s(t),[2]}})},function(){var e=this,t=arguments;return new Promise(function(r,o){var i=n.apply(e,t);function a(e){e6(i,r,o,a,l,"next",e)}function l(e){e6(i,r,o,a,l,"throw",e)}a(void 0)})})()},children:["analytics"===i&&(0,r.jsx)(Q,{signedId:a}),"edit"===i&&(0,r.jsx)(e5,{mediaSettings:n,customThumbnailUrl:d,onCustomThumbnailUrlChange:f})]})},e7=function(e){if(e){var t=document.createElement("a");t.href=e,t.download="",t.target="_blank",t.rel="noopener noreferrer",document.body.appendChild(t),t.click(),document.body.removeChild(t)}},te=function(e){var t=e.isSubmitDisabled,n=e.downloadUrl;return(0,r.jsxs)("div",{className:"flex w-full justify-end gap-4",children:[(0,r.jsx)(ew.z,{type:"button",variant:"secondary",onClick:function(){return e7(n)},children:(0,o.t)("".concat(m,".download_file"))}),(0,r.jsx)(ew.z,{type:"submit",form:b,variant:"circle",disabled:t,children:(0,o.t)("save")})]})},tt=n(745481),tn=n(106309),tr=n(270571),to=function(e){var t=e.isSubmitDisabled,n=e.onClose,i=e.selectedTab,a=e.setSelectedTab,l=e.downloadUrl,s=[{label:(0,o.t)("".concat(m,".modal.tabs.edit")),value:"edit"},{label:(0,o.t)("".concat(m,".modal.tabs.analytics")),value:"analytics"}];return(0,r.jsxs)("div",{className:"flex w-full flex-col gap-4",children:[(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("div",{className:"flex w-2/3 items-center md:w-1/3",children:(0,r.jsx)(en.Z.TitleSm,{weight:"semibold",color:"text-darkest",children:(0,o.t)("".concat(m,".modal.title"))})}),(0,r.jsx)("div",{className:"hidden w-1/3 items-center justify-center md:flex",children:(0,r.jsx)(tn.S,{value:i,onChange:function(e){return a(e)},options:s})}),"edit"===i&&(0,r.jsxs)("div",{className:"hidden w-1/3 items-center justify-end gap-4 md:flex",children:[(0,r.jsx)(ew.z,{type:"button",variant:"secondary",onClick:function(){return e7(l)},children:(0,o.t)("".concat(m,".download_file"))}),(0,r.jsx)(ew.z,{type:"submit",form:b,variant:"circle",disabled:t,children:(0,o.t)("save")})]}),(0,r.jsx)("div",{className:"flex w-1/3 items-center justify-end md:hidden",children:(0,r.jsx)(tt.o,{onClick:n})})]}),(0,r.jsx)("div",{className:"flex flex-col md:hidden",children:(0,r.jsx)(tr.O.Group,{selectedIndex:s.findIndex(function(e){return e.value===i}),onChange:function(e){return a(s[e].value)},children:(0,r.jsx)(tr.O.List,{children:s.map(function(e){return(0,r.jsx)(tr.O,{children:e.label},e.value)})})})})]})};function ti(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ta=function(e){var t,n=e.isOpen,o=e.isSubmitting,i=e.mediaSettings,a=e.onChaptersUpdated,u=e.onClose,d=e.onSubmit,f=e.initialTab,p=(t=(0,l.useState)(f||"edit"),function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),i.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return ti(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ti(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),m=p[0],b=p[1],h=o||!i;return(0,r.jsxs)(s.x,{isOpen:n,onClose:u,shouldShowCloseButton:!0,children:[(0,r.jsx)(s.x.Header,{className:"!pb-0 !pt-4 md:!py-5",children:(0,r.jsx)(to,{isSubmitDisabled:h,onClose:u,selectedTab:m,setSelectedTab:b,downloadUrl:null==i?void 0:i.blob_url})}),(0,r.jsx)(s.x.Body,{wrapperClassName:"h-full",children:i?(0,r.jsx)(e9,{mediaSettings:i,onSubmit:d,selectedTab:m,signedId:i.blob_signed_id,onChaptersUpdated:a}):(0,r.jsx)(c.a,{center:!0})}),"edit"===m&&(0,r.jsx)(s.x.Footer,{className:"md:hidden",children:(0,r.jsx)(te,{isSubmitDisabled:h,downloadUrl:null==i?void 0:i.blob_url})})]})},tl=n(309785),ts=n(217725),tc=function(e){var t=e.signedId,n=(0,C.useQueryClient)(),r=["mediaSettings",t],o=(0,C.useQuery)({queryKey:r,queryFn:function(){return tl.Ss.show(t)}});return(0,ts.k)({enabled:!!o.data&&!o.data.preview_thumbnails_url,signedId:t,onSuccess:function(e){var t=e.previewThumbnailsUrl;t&&n.setQueryData(r,function(e){var n,r;return e?(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e),r=r={preview_thumbnails_url:t},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(r)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}),n):e})}}),o},tu=function(e){var t=e.onError,n=e.onSuccess,r=e.signedId,o=(0,C.useQueryClient)();return(0,C.useMutation)({mutationFn:function(e){return tl.Ss.update(r,e)},onSuccess:function(e){null==n||n(e),o.invalidateQueries(["mediaSettings",r]);var t,i=null==(t=e.transcript)?void 0:t.id;i&&(o.invalidateQueries(["mediaTranscript",i]),o.invalidateQueries(["mediaTranscript","webvtt",i]))},onError:t})},td=function(e){var t=e.signedId,n=e.initialTab,l=e.onChaptersUpdated,s=(0,i.dd)(),c=(0,a.pm)(),u=tc({signedId:t}).data,d=tu({signedId:t,onSuccess:function(){return c.success((0,o.t)("".concat(m,".update.success")))},onError:function(){return c.error((0,o.t)("".concat(m,".update.error")))}}),f=d.mutateAsync,p=d.isLoading;return(0,r.jsx)(ta,{isOpen:s.visible,isSubmitting:p,mediaSettings:u,onSubmit:f,onClose:s.hide,initialTab:n,onChaptersUpdated:l})},tf=i.gk.create(function(e){return(0,r.jsx)(td,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e))}),tp=function(){return(0,i.dd)(tf)}},447193:function(e,t,n){n.d(t,{T:()=>o});var r=n(818329),o=function(e){var t,n,o,i=e.isDownloadable,a=e.mediaTranscriptId,l=e.posterUrl,s=e.signedId,c=(0,r.E)(s,!1).mediaSettings;return{mediaTranscriptId:c&&null!=(n=null==(t=c.transcript)?void 0:t.id)?n:a,isDownloadable:c?c.make_downloadable:i,posterUrl:c?null!=(o=c.custom_thumbnail_url)?o:c.default_thumbnail_url:l}}},621191:function(e,t,n){n.d(t,{N:()=>l});var r=n(314121),o=n(714844);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){n(e);return}l.done?t(s):Promise.resolve(s).then(r,o)}var l=function(e){var t,n=e.previewThumbnailsUrl,l=(t=(0,r.useState)(),function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),i.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return i(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=l[0],c=l[1],u=(0,o.useQuery)({queryKey:["mediaPlayer","videoPreviewThumbnails",n],queryFn:function(){var e;return(e=function(){var e;return function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(s){var c=[l,s];if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}(this,function(t){switch(t.label){case 0:if(!n)return[2];return[4,fetch(n)];case 1:if(!(e=t.sent()).ok)throw Error("Failed to fetch video preview thumbnails VTT: ".concat(e.status," ").concat(e.statusText));return[2,e.text()]}})},function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function l(e){a(i,r,o,l,s,"next",e)}function s(e){a(i,r,o,l,s,"throw",e)}l(void 0)})})()},enabled:!!n,staleTime:1/0,cacheTime:1/0}),d=u.data,f=u.isLoading;return(0,r.useEffect)(function(){if(d){var e=new Blob([d],{type:"text/vtt"}),t=URL.createObjectURL(e);return c(t),function(){return URL.revokeObjectURL(t)}}},[d]),{vttContent:d,blobUrl:s,isLoading:f}}},929775:function(e,t,n){n.d(t,{Y:()=>X});var r=n(683551),o=n(314121),i=n(645391),a=n(886674),l=n(529449),s=n(100334),c=n(722024),u=n(276011),d=n(583972),f=n(527804),p=n(803429),m=function(e){var t,n=e.signedId,o=e.onChaptersUpdated,i=e.onOpen,a=(0,c.wh)().currentCommunityMember,l=(0,u.vb)(a),m=!!(null==(t=window.webview)?void 0:t.isInsideMobileWebview),b=(0,p.O)();return!l||m?null:(0,r.jsx)("div",{className:"invisible absolute right-4 top-4 z-10 flex group-hover:visible",children:(0,r.jsx)(f.T,{content:(0,s.t)("".concat("media_player.settings.overlay",".customize_video")),arrow:!1,interactive:!1,children:(0,r.jsx)("button",{type:"button",onClick:function(){null==i||i(),b.show({signedId:n,onChaptersUpdated:o})},className:"bg-primary text-dark border-tertiary hover:bg-secondary flex size-8 cursor-pointer items-center justify-center rounded-full border",children:(0,r.jsx)(d.JO,{type:"20-settings-slider",size:20})})})})},b=n(206378),h=n(135152);function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var v=function(e){var t,n=e.videoRef,r=(t=(0,o.useState)(null),function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),i.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return y(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=r[0],a=r[1];(0,o.useEffect)(function(){var e=n.current,t=null;if(e){var r,o,i=e.closest("media-theme");t=null!=(o=null==i||null==(r=i.shadowRoot)?void 0:r.querySelector("media-controller"))?o:null}return a(t),function(){a(null)}},[n]);var l=(0,o.useCallback)(function(e){i&&i.dispatchEvent(new CustomEvent(e,{bubbles:!0,composed:!0}))},[i]);return{controller:i,dispatchMediaEvent:l}},g=n(489232),x=function(e){var t=e.controller,n=e.dispatchMediaEvent;return{handleVideoClick:(0,o.useCallback)(function(e){2===e.detail&&t&&n(t.hasAttribute("mediaisfullscreen")?g.Kb.MEDIA_EXIT_FULLSCREEN_REQUEST:g.Kb.MEDIA_ENTER_FULLSCREEN_REQUEST)},[t,n])}},j=n(621191),_=n(214813);function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var w=function(e){var t,n=e.videoRef,r=e.onTimeUpdate,i=e.onLoadedMetadata,a=(t=(0,o.useState)(0),function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),i.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return C(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=a[0],s=a[1];return(0,o.useEffect)(function(){var e=n.current;if(e){var t=(0,_.throttle)(function(){s(e.currentTime),null==r||r(e.currentTime)},500);return e.addEventListener("timeupdate",t),function(){e.removeEventListener("timeupdate",t),t.cancel()}}},[r,n]),(0,o.useEffect)(function(){var e=n.current;if(e){var t=function(){return null==i?void 0:i({duration:e.duration})};return e.addEventListener("loadedmetadata",t),function(){e.removeEventListener("loadedmetadata",t)}}},[i,n]),{currentTime:l}},O=n(920255),S=n(198435);function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var P=(0,O.Ue)()((0,S.tJ)(function(e,t){return{blobs:[],saveProgress:function(t,n){e(function(e){var r;return{blobs:[{signedId:t,progress:n}].concat(function(e){if(Array.isArray(e))return k(e)}(r=e.blobs.filter(function(e){return e.signedId!==t}).slice(0,99))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return k(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}}(r)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}})},getProgress:function(e){var n,r;return null!=(r=null==(n=t().blobs.find(function(t){return t.signedId===e}))?void 0:n.progress)?r:0},deleteProgress:function(t){e(function(e){return{blobs:e.blobs.filter(function(e){return e.signedId!==t})}})}}},{name:"media-progress",version:1}));function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var E=function(e){var t,n=e.currentTime,r=e.signedId,i=e.videoRef,a=P(function(e){return e.getProgress}),l=P(function(e){return e.saveProgress}),s=P(function(e){return e.deleteProgress}),c=a(r),u=(t=(0,o.useState)(!1),function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),i.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return A(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=u[0],f=u[1];return(0,o.useEffect)(function(){n&&l(r,n)},[n,r,l]),(0,o.useEffect)(function(){var e=i.current;if(e&&c&&!d){var t=function(){e&&e.duration&&!d&&(e.currentTime=c,f(!0))};return e.addEventListener("play",t,{once:!0}),function(){null==e||e.removeEventListener("play",t)}}},[i,c,d]),{clearStoredProgress:(0,o.useCallback)(function(){return s(r)},[s,r])}},L="thumbnails",N=function(e){var t=e.className,n=e.src,o=e.contentType,a=e.captionsUrl,l=e.chaptersUrl,c=e.previewThumbnailsUrl,u=e.preload,d=void 0===u?"none":u,f=e.poster,p=e.signedId,m=e.isHls,y=e.isVideoAnalyticsEnabled,g=e.onLoadedMetadata,_=e.onTimeUpdate,C=e.videoRef,O=E({currentTime:w({onTimeUpdate:_,onLoadedMetadata:g,videoRef:C}).currentTime,signedId:p,videoRef:C}).clearStoredProgress;(0,h.p)(C,p,void 0===y||y);var S=v({videoRef:C}),k=x({controller:S.controller,dispatchMediaEvent:S.dispatchMediaEvent}).handleVideoClick,P=(0,j.N)({previewThumbnailsUrl:c}).blobUrl;return void 0!==m&&m?(0,r.jsxs)(b.Z,{ref:C,className:t,slot:"media",src:n,poster:f,preload:d,onClick:k,onEnded:O,onContextMenu:function(e){return e.preventDefault()},playsInline:!0,children:[a&&(0,r.jsx)("track",{kind:"captions",label:(0,s.t)("default"),src:a,srcLang:"en",default:!0},a),l&&(0,r.jsx)("track",{kind:"chapters",src:l,default:!0}),P&&(0,r.jsx)("track",{kind:"metadata",label:L,src:P,default:!0})]}):(0,r.jsxs)("video",{ref:C,className:(0,i.A)("[&::-webkit-media-text-track-container]:[transform:var(--media-webkit-text-track-transform)]",t),slot:"media",poster:f,preload:d,onClick:k,onEnded:O,onContextMenu:function(e){return e.preventDefault()},playsInline:!0,children:[(0,r.jsx)("source",{src:n,type:o}),a&&(0,r.jsx)("track",{kind:"captions",label:(0,s.t)("default"),src:a,srcLang:"en",default:!0},a),l&&(0,r.jsx)("track",{kind:"chapters",src:l,default:!0}),P&&(0,r.jsx)("track",{kind:"metadata",label:L,src:P,default:!0})]})};n(204056);var I=n(615813);n(254800);var M="media_player.template.messages",T=function(e){var t,n,o=e.playbackRates,i=e.downloadable,a=e.downloadUrl,l=e.fullHeight,c=e.children;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("template",{id:"media-theme-default",dangerouslySetInnerHTML:{__html:'\n<style>\n  media-controller {\n    font-size: 13px;\n    font-family: Roboto, Arial, sans-serif;\n    --media-font-family: Roboto, helvetica neue, segoe ui, arial, sans-serif;\n    -webkit-font-smoothing: antialiased;\n    --media-secondary-color: transparent;\n    --media-menu-background: rgba(28, 28, 28, 0.9);\n    --media-control-hover-background: var(--media-secondary-color);\n    --media-range-track-height: 3px;\n    --media-range-thumb-height: 13px;\n    --media-range-thumb-width: 13px;\n    --media-range-thumb-border-radius: 13px;\n    --media-preview-thumbnail-border: 2px solid #fff;\n    --media-preview-thumbnail-border-radius: 2px;\n    --media-tooltip-display: none;\n  }\n\n  media-controller[mediaisfullscreen] {\n    font-size: 17px;\n    --media-range-thumb-height: 20px;\n    --media-range-thumb-width: 20px;\n    --media-range-thumb-border-radius: 10px;\n    --media-range-track-height: 4px;\n  }\n\n  .control-button {\n    position: relative;\n    display: inline-block;\n    width: 36px;\n    padding: 0 2px;\n    height: 100%;\n    opacity: 0.9;\n    transition: opacity 0.1s cubic-bezier(0.4, 0, 1, 1);\n  }\n\n  [breakpointmd] .control-button {\n    width: 48px;\n  }\n\n  [mediaisfullscreen] .control-button {\n    width: 54px;\n  }\n\n  .control-button svg {\n    height: 100%;\n    width: 100%;\n    fill: var(--media-primary-color, #fff);\n    fill-rule: evenodd;\n  }\n\n  .svg-shadow {\n    stroke: #000;\n    stroke-opacity: 0.15;\n    stroke-width: 2px;\n    fill: none;\n  }\n</style>\n<media-controller breakpoints="md:480" defaultstreamtype="on-demand">\n  <slot name="media" slot="media"></slot>\n  <slot name="poster" slot="poster"></slot>\n  <slot name="centered-chrome" slot="centered-chrome"></slot>\n  <media-error-dialog slot="dialog"></media-error-dialog>\n\n  <style>\n    .gradient-bottom {\n      padding-top: 37px;\n      position: absolute;\n      width: 100%;\n      height: 170px;\n      bottom: 0;\n      pointer-events: none;\n      background-position: bottom;\n      background-repeat: repeat-x;\n      background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAACqCAYAAABsziWkAAAAAXNSR0IArs4c6QAAAQVJREFUOE9lyNdHBQAAhfHb3nvvuu2997jNe29TJJEkkkgSSSSJJJJEEkkiifRH5jsP56Xz8PM5gcC/xfDEmjhKxEOCSaREEiSbFEqkQppJpzJMJiWyINvkUCIX8kw+JQqg0BRRxaaEEqVQZsopUQGVpooS1VBjglStqaNEPTSYRko0QbNpoUQrtJl2qsN0UqILuk0PJXqhz/RTYgAGzRA1bEYoMQpjZpwSExAyk5SYgmkzQ82aOUqEIWKilJiHBbNIiSVYhhVYhTVYhw3YhC3Yhh3YhT3YhwM4hCM4hhM4hTM4hwu4hCu4hhu4hTu4hwd4hCd4hhd4hTd4hw/4hC/4hh/4/QM2/id28uIEJAAAAABJRU5ErkJggg==\');\n    }\n  </style>\n  <div class="gradient-bottom"></div>\n\n  <style>\n    media-settings-menu {\n      position: absolute;\n      border-radius: 12px;\n      right: 12px;\n      bottom: 61px;\n      z-index: 70;\n      will-change: width, height;\n      text-shadow: 0 0 2px rgba(0, 0, 0, 0.5);\n      transition: opacity 0.1s cubic-bezier(0, 0, 0.2, 1);\n      user-select: none;\n      --media-settings-menu-min-width: 220px;\n    }\n\n    [mediaisfullscreen] media-settings-menu {\n      --media-settings-menu-min-width: 320px;\n      right: 24px;\n      bottom: 70px;\n    }\n\n    media-settings-menu-item {\n      height: 40px;\n      font-size: 13px;\n      font-weight: 500;\n      padding-top: 0;\n      padding-bottom: 0;\n    }\n\n    [mediaisfullscreen] media-settings-menu-item {\n      font-size: 20px;\n      height: 50px;\n    }\n\n    media-settings-menu-item[submenusize=\'0\'] {\n      display: none;\n    }\n\n    .quality-settings[submenusize=\'1\'] {\n      display: none;\n    }\n  </style>\n  <media-settings-menu hidden anchor="auto">\n    <media-settings-menu-item>\n      {{playbackspeedlabel ?? \'Playback speed\'}}\n      <media-playback-rate-menu rates="{{rates}}" slot="submenu" hidden>\n        <div slot="title">{{playbackspeedlabel ?? \'Playback speed\'}}</div>\n      </media-playback-rate-menu>\n    </media-settings-menu-item>\n    <media-settings-menu-item class="quality-settings">\n      {{qualitylabel ?? \'Quality\'}}\n      <media-rendition-menu slot="submenu" hidden>\n        <div slot="title">{{qualitylabel ?? \'Quality\'}}</div>\n      </media-rendition-menu>\n    </media-settings-menu-item>\n    <media-settings-menu-item>\n      {{subtitleslabel ?? \'Subtitles/CC\'}}\n      <media-captions-menu slot="submenu" hidden>\n        <div slot="title">{{subtitleslabel ?? \'Subtitles/CC\'}}</div>\n      </media-captions-menu>\n    </media-settings-menu-item>\n  </media-settings-menu>\n\n  <style>\n    media-time-range {\n      position: absolute;\n      overflow-x: clip;\n      bottom: 36px;\n      width: 100%;\n      height: 5px;\n      --media-range-track-background: rgba(255, 255, 255, 0.2);\n      --media-range-track-pointer-background: rgba(255, 255, 255, 0.5);\n      --media-time-range-buffered-color: rgba(255, 255, 255, 0.4);\n      --media-range-bar-color: var(--media-accent-color, rgb(229, 9, 20));\n      --media-range-thumb-border-radius: 13px;\n      --media-range-thumb-background: var(--media-accent-color, #f00);\n      --media-range-thumb-transition: transform 0.1s linear;\n      --media-range-thumb-transform: scale(0) translate(0%, 0%);\n    }\n\n    media-time-range:hover {\n      --media-range-track-height: 5px;\n      --media-range-thumb-transform: scale(1) translate(0%, 0%);\n    }\n\n    [breakpointmd] media-time-range {\n      bottom: 47px;\n    }\n\n    [mediaisfullscreen] media-time-range {\n      bottom: 52.5px;\n      height: 8px;\n    }\n\n    [mediaisfullscreen] media-time-range:hover {\n      --media-range-track-height: 8px;\n    }\n\n    media-preview-thumbnail {\n      margin-bottom: 5px;\n    }\n\n    media-preview-chapter-display {\n      padding-block: 0;\n    }\n\n    media-preview-time-display {\n      padding-top: 0;\n    }\n  </style>\n  <media-time-range>\n    <media-preview-thumbnail slot="preview"></media-preview-thumbnail>\n    <media-preview-chapter-display slot="preview"></media-preview-chapter-display>\n    <media-preview-time-display slot="preview"></media-preview-time-display>\n  </media-time-range>\n\n  <style>\n    media-control-bar {\n      position: absolute;\n      height: 36px;\n      line-height: 36px;\n      bottom: 0;\n      left: 12px;\n      right: 12px;\n    }\n\n    [breakpointmd] media-control-bar {\n      height: 48px;\n      line-height: 48px;\n    }\n\n    [mediaisfullscreen] media-control-bar {\n      height: 54px;\n      line-height: 54px;\n    }\n  </style>\n  <media-control-bar>\n    <style>\n      media-play-button {\n        --media-button-icon-width: 30px;\n        padding: 6px 10px;\n      }\n\n      media-play-button #icon-play,\n      media-play-button #icon-pause {\n        filter: drop-shadow(0 0 2px #00000080);\n      }\n\n      media-play-button :is(#play-p1, #play-p2, #pause-p1, #pause-p2) {\n        transition: clip-path 0.25s ease-in;\n      }\n\n      media-play-button:not([mediapaused]) #play-p2,\n      media-play-button:not([mediapaused]) #play-p2 {\n        transition: clip-path 0.35s ease-in;\n      }\n\n      media-play-button :is(#pause-p1, #pause-p2),\n      media-play-button[mediapaused] :is(#play-p1, #play-p2) {\n        clip-path: inset(0);\n      }\n\n      media-play-button #play-p1 {\n        clip-path: inset(0 100% 0 0);\n      }\n\n      media-play-button #play-p2 {\n        clip-path: inset(0 20% 0 100%);\n      }\n\n      media-play-button[mediapaused] #pause-p1 {\n        clip-path: inset(50% 0 50% 0);\n      }\n\n      media-play-button[mediapaused] #pause-p2 {\n        clip-path: inset(50% 0 50% 0);\n      }\n    </style>\n    <media-play-button mediapaused class="control-button">\n      <svg slot="icon" viewBox="0 0 36 36">\n        <g id="icon-play">\n        <g id="play-icon">\n          <path id="play-p1" d="M18.5 14L12 10V26L18.5 22V14Z" />\n          <path id="play-p2" d="M18 13.6953L25 18L18 22.3086V13.6953Z" />\n        </g>\n        <g id="pause-icon">\n          <path id="pause-p1" d="M16 10H12V26H16V10Z" />\n          <path id="pause-p2" d="M21 10H25V26H21V10Z" />\n        </g>\n        </g>\n      </svg>\n    </media-play-button>\n\n    <style>\n      media-mute-button :is(#icon-muted, #icon-volume) {\n        transition: clip-path 0.3s ease-out;\n      }\n\n      media-mute-button #icon-muted {\n        clip-path: inset(0 0 100% 0);\n      }\n\n      media-mute-button[mediavolumelevel=\'off\'] #icon-muted {\n        clip-path: inset(0);\n      }\n\n      media-mute-button #icon-volume {\n        clip-path: inset(0);\n      }\n\n      media-mute-button[mediavolumelevel=\'off\'] #icon-volume {\n        clip-path: inset(100% 0 0 0);\n      }\n\n      media-mute-button #volume-high,\n      media-mute-button[mediavolumelevel=\'off\'] #volume-high {\n        opacity: 1;\n        transition: opacity 0.3s;\n      }\n\n      media-mute-button[mediavolumelevel=\'low\'] #volume-high,\n      media-mute-button[mediavolumelevel=\'medium\'] #volume-high {\n        opacity: 0.2;\n      }\n\n      media-volume-range {\n        height: 36px;\n        --media-range-track-background: rgba(255, 255, 255, 0.2);\n      }\n\n      media-mute-button + media-volume-range {\n        width: 0;\n        overflow: hidden;\n        transition: width 0.2s ease-in;\n      }\n\n      media-mute-button:hover + media-volume-range,\n      media-mute-button:focus + media-volume-range,\n      media-mute-button:focus-within + media-volume-range,\n      media-volume-range:hover,\n      media-volume-range:focus,\n      media-volume-range:focus-within {\n        width: 70px;\n      }\n    </style>\n    <media-mute-button class="control-button">\n      <svg slot="icon" viewBox="0 0 36 36">\n        <use class="svg-shadow" xlink:href="#icon-volume"></use>\n        <g id="icon-volume">\n          <path id="speaker" d="M13 15H9V21H13L18 26V10L13 15Z" />\n          <path\n            id="volume-low"\n            d="M20 22.0323C21.4818 21.2959 22.5 19.7669 22.5 18C22.5 16.2332 21.4818 14.7041 20 13.9678V22.0323Z"\n          />\n          <path\n            id="volume-high"\n            d="M20 9.22302V11.2899C22.8915 12.1505 25 14.829 25 18C25 21.171 22.8915 23.8495 20 24.7101V26.777C24.008 25.8675 27 22.2832 27 18C27 13.7168 24.008 10.1325 20 9.22302Z"\n          />\n        </g>\n        <g id="icon-muted">\n          <path\n            d="M10.2207 8.80817L8.80762 10.2213L13.2929 14.7065L13 14.9995H9V20.9995H13L18 25.9995V19.4136L22.1922 23.6058C21.5401 24.0942 20.8 24.4715 20 24.7096V26.7764C21.3453 26.4712 22.5761 25.8646 23.6177 25.0314L25.7782 27.1918L27.1924 25.7776L27.1913 25.7766L27.1902 25.7776L10.2207 8.80817Z"\n          />\n          <path\n            d="M25.8817 22.3478C26.5944 21.0589 27 19.5766 27 17.9995C27 13.7163 24.008 10.132 20 9.22247V11.2894C22.8915 12.1499 25 14.8284 25 17.9995C25 19.0177 24.7826 19.9851 24.3917 20.8578L25.8817 22.3478Z"\n          />\n          <path\n            d="M22.4139 18.88C22.4704 18.5952 22.5 18.3008 22.5 17.9995C22.5 16.2326 21.4818 14.7036 20 13.9672V16.4661L22.4139 18.88Z"\n          />\n          <path d="M18 14.4661V9.99945L15.7667 12.2328L18 14.4661Z" />\n        </g>\n      </svg>\n    </media-mute-button>\n\n    <media-volume-range></media-volume-range>\n\n    <style>\n      media-time-display {\n        padding-top: 6px;\n        padding-bottom: 6px;\n        font-size: 13px;\n        white-space: nowrap;\n      }\n\n      [mediaisfullscreen] media-time-display {\n        font-size: 20px;\n      }\n    </style>\n    <media-time-display showduration></media-time-display>\n\n    <style>\n      .control-spacer {\n        flex-grow: 1;\n      }\n    </style>\n    <span class="control-spacer"></span>\n\n    <style>\n      media-captions-button {\n        position: relative;\n      }\n\n      media-captions-button:not([mediasubtitleslist]) svg {\n        opacity: 0.3;\n      }\n\n      media-captions-button[mediasubtitleslist]:after {\n        content: \'\';\n        display: block;\n        position: absolute;\n        width: 0;\n        height: 3px;\n        border-radius: 3px;\n        background-color: var(--media-accent-color, #f00);\n        bottom: 19%;\n        left: 50%;\n        transition:\n          all 0.1s cubic-bezier(0, 0, 0.2, 1),\n          width 0.1s cubic-bezier(0, 0, 0.2, 1);\n      }\n\n      media-captions-button[mediasubtitleslist][aria-checked=\'true\']:after {\n        left: 25%;\n        width: 50%;\n        transition:\n          left 0.25s cubic-bezier(0, 0, 0.2, 1),\n          width 0.25s cubic-bezier(0, 0, 0.2, 1);\n      }\n\n      media-captions-button[mediasubtitleslist][aria-checked=\'true\']:after {\n        left: 25%;\n        width: 50%;\n\n        transition:\n          left 0.25s cubic-bezier(0, 0, 0.2, 1),\n          width 0.25s cubic-bezier(0, 0, 0.2, 1);\n      }\n    </style>\n    <media-captions-button class="control-button">\n      <svg slot="icon" viewBox="0 0 36 36">\n        <use class="svg-shadow" xlink:href="#cc-icon"></use>\n        <path\n          id="cc-icon"\n          d="M9 13.4124C9 12.0801 10.0801 11 11.4124 11H24.5876C25.9199 11 27 12.0801 27 13.4124V22.5876C27 23.9199 25.9199 25 24.5876 25H11.4124C10.0801 25 9 23.9199 9 22.5876V13.4124ZM12 16.1134C12 15.4985 12.4985 15 13.1134 15H15.8866C16.5015 15 17 15.4985 17 16.1134V19.8866C17 20.5015 16.5015 21 15.8866 21H13.1134C12.4985 21 12 20.5015 12 19.8866V16.1134ZM13.5517 16.4545H15.4483V19.5455H13.5517V16.4545ZM17 17H15.4483V19H17V17ZM20.1134 15C19.4985 15 19 15.4985 19 16.1134V19.8866C19 20.5015 19.4985 21 20.1134 21H22.8866C23.5015 21 24 20.5015 24 19.8866V16.1134C24 15.4985 23.5015 15 22.8866 15H20.1134ZM22.4483 16.4545H20.5517V19.5455H22.4483V16.4545ZM22.4483 17H24V19H22.4483V17Z"\n        />\n      </svg>\n    </media-captions-button>\n\n    <style>\n      media-settings-menu-button svg {\n        transition: transform 0.1s cubic-bezier(0.4, 0, 1, 1);\n        transform: rotateZ(0deg);\n      }\n\n      media-settings-menu-button[aria-expanded=\'true\'] svg {\n        transform: rotateZ(30deg);\n      }\n    </style>\n    <media-settings-menu-button class="control-button">\n      <svg slot="icon" viewBox="0 0 36 36">\n        <use class="svg-shadow" xlink:href="#settings-icon"></use>\n        <path\n          id="settings-icon"\n          d="M11.8153 12.0477L14.2235 12.9602C14.6231 12.6567 15.0599 12.3996 15.5258 12.1971L15.9379 9.66561C16.5985 9.50273 17.2891 9.41632 18 9.41632C18.7109 9.41632 19.4016 9.50275 20.0622 9.66566L20.4676 12.1555C20.9584 12.3591 21.418 12.6227 21.8372 12.9372L24.1846 12.0477C25.1391 13.0392 25.8574 14.2597 26.249 15.6186L24.3196 17.1948C24.3531 17.4585 24.3704 17.7272 24.3704 18C24.3704 18.2727 24.3531 18.5415 24.3196 18.8051L26.249 20.3814C25.8574 21.7403 25.1391 22.9607 24.1846 23.9522L21.8372 23.0628C21.4179 23.3772 20.9584 23.6408 20.4676 23.8445L20.0622 26.3343C19.4016 26.4972 18.7109 26.5836 18 26.5836C17.2891 26.5836 16.5985 26.4972 15.9379 26.3344L15.5258 23.8029C15.0599 23.6003 14.6231 23.3433 14.2236 23.0398L11.8154 23.9523C10.8609 22.9608 10.1426 21.7404 9.75098 20.3815L11.7633 18.7375C11.7352 18.4955 11.7208 18.2495 11.7208 18C11.7208 17.7505 11.7352 17.5044 11.7633 17.2625L9.75098 15.6185C10.1426 14.2596 10.8609 13.0392 11.8153 12.0477ZM18 20.75C19.5188 20.75 20.75 19.5188 20.75 18C20.75 16.4812 19.5188 15.25 18 15.25C16.4812 15.25 15.25 16.4812 15.25 18C15.25 19.5188 16.4812 20.75 18 20.75Z"\n        />\n      </svg>\n    </media-settings-menu-button>\n\n    <media-pip-button class="control-button">\n      <svg slot="icon" viewBox="0 0 36 36">\n        <use class="svg-shadow" xlink:href="#pip-icon"></use>\n        <path d="M25 17H17V23H25V17Z" />\n        <path\n          id="pip-icon"\n          d="M7 11C7 9.89543 7.89545 9 9 9H27.0161C28.1207 9 29.0161 9.89543 29.0161 11V24.8837C29.0161 25.9883 28.1207 26.8837 27.0162 26.8837H9C7.89545 26.8837 7 25.9883 7 24.8837V11ZM9 11H27V25H9V11Z"\n        />\n      </svg>\n    </media-pip-button>\n\n    <template if="downloadable">\n      <style>\n        [mediaisfullscreen] .download-button {\n          display: none;\n        }\n\n        .download-button:focus-visible {\n          box-shadow: inset 0 0 0 2px rgb(27 127 204 / .9);\n          outline: 0;\n        }\n      }\n      </style>\n      <a\n        class="download-button control-button"\n        href="{{downloadurl}}"\n        target="_blank"\n        rel="noreferrer"\n        download\n        aria-label="download"\n      >\n        <svg viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg">\n          <path d="M18 22L13 17L14.4 15.55L17 18.15V10H19V18.15L21.6 15.55L23 17L18 22ZM12 26C11.45 26 10.9792 25.8042 10.5875 25.4125C10.1958 25.0208 10 24.55 10 24V21H12V24H24V21H26V24C26 24.55 25.8042 25.0208 25.4125 25.4125C25.0208 25.8042 24.55 26 24 26H12Z" />\n        </svg>\n      </a>\n    </template>\n\n    <style>\n      media-fullscreen-button path {\n        translate: 0% 0%;\n      }\n\n      media-fullscreen-button:hover path {\n        animation: 0.35s up-left-bounce cubic-bezier(0.34, 1.56, 0.64, 1);\n      }\n\n      media-fullscreen-button:hover .up-right-bounce {\n        animation-name: up-right-bounce;\n      }\n\n      media-fullscreen-button:hover .down-left-bounce {\n        animation-name: down-left-bounce;\n      }\n\n      media-fullscreen-button:hover .down-right-bounce {\n        animation-name: down-right-bounce;\n      }\n\n      @keyframes up-left-bounce {\n        0% {\n          translate: 0 0;\n        }\n        50% {\n          translate: -4% -4%;\n        }\n      }\n\n      @keyframes up-right-bounce {\n        0% {\n          translate: 0 0;\n        }\n        50% {\n          translate: 4% -4%;\n        }\n      }\n\n      @keyframes down-left-bounce {\n        0% {\n          translate: 0 0;\n        }\n        50% {\n          translate: -4% 4%;\n        }\n      }\n\n      @keyframes down-right-bounce {\n        0% {\n          translate: 0 0;\n        }\n        50% {\n          translate: 4% 4%;\n        }\n      }\n    </style>\n    <media-fullscreen-button class="control-button">\n      <svg slot="enter" viewBox="0 0 36 36">\n        <use class="svg-shadow" xlink:href="#fs-enter-paths"></use>\n        <g id="fs-enter-paths">\n          <path class="up-left-bounce" d="M11 15H9V9H15V11H11V15Z" />\n          <path class="up-right-bounce" d="M21 11L21 9L27 9L27 15L25 15L25 11L21 11Z" />\n          <path class="down-left-bounce" d="M15 25L15 27L9 27L9 21L11 21L11 25L15 25Z" />\n          <path class="down-right-bounce" d="M25 21L27 21L27 27L21 27L21 25L25 25L25 21Z" />\n        </g>\n      </svg>\n      <svg slot="exit" viewBox="0 0 36 36">\n        <use class="svg-shadow" xlink:href="#fs-exit-paths"></use>\n        <g id="fs-exit-paths">\n          <path class="down-right-bounce" d="M14 9L16 9L16 16L9 16L9 14L14 14L14 9Z" />\n          <path class="down-left-bounce" d="M27 14L27 16L20 16L20 9L22 9L22 14L27 14Z" />\n          <path class="up-right-bounce" d="M9 22L9 20L16 20L16 27L14 27L14 22L9 22Z" />\n          <path class="up-left-bounce" d="M22 27H20V20H27V22H22V27Z" />\n        </g>\n      </svg>\n    </media-fullscreen-button>\n  </media-control-bar>\n\n  <style>\n    media-controller[mediacurrenttime^=\'0\'] .desktop-centered-animation svg {\n      display: none !important;\n      animation-name: none !important;\n      opacity: 0 !important;\n    }\n\n    @media (width <= 768px) {\n      .desktop-centered-animation {\n        display: none;\n      }\n    }\n\n    .desktop-centered-animation media-play-button {\n      width: 48px;\n      height: 48px;\n      position: relative;\n    }\n\n    .desktop-centered-animation media-play-button > svg {\n      width: 3rem;\n      height: 3rem;\n      opacity: 0;\n      transform: scale(1);\n      pointer-events: none;\n      display: none;\n      animation: none !important;\n    }\n\n    media-controller:not([mediacurrenttime^=\'0\']) .desktop-centered-animation media-play-button > svg[slot=\'play\'],\n    media-controller:not([mediacurrenttime^=\'0\']) .desktop-centered-animation media-play-button > svg[slot=\'pause\'] {\n      display: block;\n      animation: fadeScale 1s ease-out forwards;\n    }\n\n    @keyframes fadeScale {\n      0% {\n        opacity: 1;\n        transform: scale(1);\n      }\n      100% {\n        opacity: 0;\n        transform: scale(2);\n      }\n    }\n\n    .mobile-centered-controls {\n      display: flex;\n      align-self: stretch;\n      align-items: center;\n      flex-flow: row nowrap;\n      justify-content: center;\n      margin: -5% auto 0;\n      width: 100%;\n      gap: 1rem;\n    }\n\n    .mobile-centered-controls [role=\'button\'] {\n      --media-icon-color: var(--media-primary-color, #fff);\n      background: rgba(0, 0, 0, 0.5);\n      --media-button-icon-width: 36px;\n      --media-button-icon-height: 36px;\n      border-radius: 50%;\n      user-select: none;\n      aspect-ratio: 1;\n    }\n\n    .mobile-centered-controls media-play-button {\n      width: 5rem;\n    }\n\n    .mobile-centered-controls :is(media-seek-backward-button, media-seek-forward-button) {\n      width: 3rem;\n      padding: 0.5rem;\n    }\n\n    @media (width >= 768px) {\n      .mobile-centered-controls {\n        display: none;\n      }\n    }\n  </style>\n  <div class="mobile-centered-controls" slot="centered-chrome">\n    <media-seek-backward-button></media-seek-backward-button>\n    <media-play-button></media-play-button>\n    <media-seek-forward-button></media-seek-forward-button>\n  </div>\n</media-controller>'}}),(0,r.jsx)(I.W,{template:"media-theme-default",style:(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({width:"100%"},void 0!==l&&l?{height:"100%"}:{maxHeight:"calc(100vh - 16rem)",aspectRatio:"16/9"}),n=n={"--media-webkit-text-track-transform":"translateY(-60px)"},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t),rates:void 0===o?"0.5 0.75 1 1.25 1.5 1.75 2":o,downloadable:void 0!==i&&i,downloadUrl:a,playbackSpeedLabel:(0,s.t)([M,"playback_speed"]),qualityLabel:(0,s.t)([M,"quality"]),subtitlesLabel:(0,s.t)([M,"subtitles"]),children:c})]})};function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var U=function(e){var t=e.currentTime,n=e.key,r=e.seek,i=R((0,o.useState)(null),2),a=i[0],l=i[1],s=R((0,o.useState)(null),2),c=s[0],u=s[1],d=(0,o.useRef)(0);return(0,o.useEffect)(function(){d.current=t},[t]),(0,o.useEffect)(function(){n&&0!==d.current&&!a&&u(d.current)},[n,a]),{setCustomPlaybackRestoreTime:l,restorePlaybackPosition:function(){var e=a||c;e&&(d.current=e,l(null),u(null),r(e))}}},H=function(e){var t=e.videoRef;return{seek:(0,o.useCallback)(function(e){t.current&&(t.current.currentTime=e)},[t]),pause:(0,o.useCallback)(function(){t.current&&t.current.pause()},[t])}},B=function(){var e,t=(0,o.useRef)(null),n=H({videoRef:t}),r=n.pause,i=n.seek,a=(null==t||null==(e=t.current)?void 0:e.duration)||0;return{videoRef:t,pause:r,seek:i,duration:a}};function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var z=function(e){var t=F((0,o.useState)(e),2),n=t[0],r=t[1],i=F((0,o.useState)(null),2),a=i[0],l=i[1];(0,o.useEffect)(function(){r(e),l(null)},[e]);var s=(0,o.useCallback)(function(e){r(null!=e?e:void 0),e?l(Date.now()):l(null)},[]);return{versionedChaptersUrl:(0,o.useMemo)(function(){if(n){if(!a)return n;var e=n.includes("?")?"&":"?";return"".concat(n).concat(e,"v=").concat(a)}},[n,a]),updateChaptersUrl:s,chaptersRenderKey:(0,o.useMemo)(function(){var e=null!=n?n:"no-chapters";return"".concat(e,":").concat(null!=a?a:0)},[n,a])}},V=n(217725);function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var q=function(e){var t,n=e.mediaTranscoding,r=e.signedId,i=e.src,a=e.sourceVariants,l=e.sourcePreviewThumbnailsUrl,s=G((0,o.useState)(null!=(t=null==a?void 0:a.hls)?t:i),2),c=s[0],u=s[1],d=G((0,o.useState)(l),2),f=d[0],p=d[1],m=c.endsWith(".m3u8");return(0,V.k)({enabled:!m||!f,signedId:r,mediaTranscoding:n,onSuccess:function(e){var t=e.hlsUrl,n=e.previewThumbnailsUrl;t&&!m&&u(t),n&&p(n)}}),{playbackSrc:c,previewThumbnailsUrl:f,isHls:m}},J=n(249745);function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var K=function(e){var t=e.mediaTranscriptId,n=$((0,o.useState)(),2),r=n[0],i=n[1],a=$((0,o.useState)(t),2),l=a[0],s=a[1],d=(0,c.wh)().currentCommunityMember,f=(0,J.q)(null!=l?l:null),p=f.webvtt,m=f.parsedWebvtt,b=f.mediaTranscript,h=f.refetch,y=!!b&&b.enabled&&b.is_ready,v=!t&&(0,u.vb)(d);return(0,o.useEffect)(function(){if(!p||!y)return void i(void 0);var e=new Blob([p],{type:"text/vtt"}),t=URL.createObjectURL(e);return i(t),function(){return URL.revokeObjectURL(t)}},[p,y]),{mediaTranscript:b,captionsUrl:r,cues:(0,o.useMemo)(function(){return(null==m?void 0:m.cues)||[]},[m]),shouldDisplayTranscript:y,shouldDisplayNotification:v,updateMediaTranscript:(0,o.useCallback)(function(e){l!==e?s(e):h()},[l,h])}};function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var X=function(e){var t,n=e.chaptersUrl,s=e.className,c=e.contentType,u=e.downloadable,d=void 0!==u&&u,f=e.downloadUrl,p=e.isVideoAnalyticsEnabled,b=e.mediaTranscoding,h=e.mediaTranscriptId,y=e.onProgress,v=e.onTimeUpdate,g=e.onLoadedMetadata,x=e.onPlayerReady,j=e.posterUrl,_=e.preload,C=void 0===_?"metadata":_,w=e.previewThumbnailsUrl,O=e.settingsEnabled,S=e.signedId,k=e.src,P=q({mediaTranscoding:b,signedId:S,src:k,sourceVariants:e.variants,sourcePreviewThumbnailsUrl:w}),A=P.playbackSrc,E=P.previewThumbnailsUrl,L=P.isHls,I=K({mediaTranscriptId:h}),M=I.mediaTranscript,D=I.captionsUrl,R=I.cues,H=I.shouldDisplayTranscript,Z=I.shouldDisplayNotification,F=I.updateMediaTranscript,V=B(),W=B(),G=(t=(0,o.useState)(0),function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),i.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return Y(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),J=G[0],Q=G[1],$=z(n),X=$.versionedChaptersUrl,ee=$.updateChaptersUrl,et=$.chaptersRenderKey,en=U({key:et,seek:V.seek,currentTime:J}),er=en.restorePlaybackPosition,eo=en.setCustomPlaybackRestoreTime;(0,o.useEffect)(function(){null==y||y({currentTime:J,duration:V.duration})},[y,J,V]),(0,o.useEffect)(function(){x&&x({seek:V.seek,setCustomPlaybackRestoreTime:eo})},[x,V.seek,eo]);var ei=function(e){null==v||v(e),Q(e)},ea=function(e){null==g||g(e),er()},el=function(e){var t=e.videoRef,n=e.fullHeight;return(0,r.jsx)(T,{downloadable:d,downloadUrl:f,fullHeight:void 0!==n&&n,children:(0,r.jsx)(N,{className:"max-h-full min-h-full min-w-full max-w-full object-contain object-center",src:A,contentType:c,captionsUrl:D,chaptersUrl:X,previewThumbnailsUrl:E,preload:C,poster:j,isHls:L,isVideoAnalyticsEnabled:p,signedId:S,onTimeUpdate:ei,onLoadedMetadata:ea,videoRef:t})},et)};return(0,r.jsxs)("div",{className:(0,i.A)("group relative flex flex-col",s),children:[el(V),(void 0===O||O)&&(0,r.jsx)(m,{signedId:S,onChaptersUpdated:function(e){var t;ee(null!=(t=e.chapters_url)?t:void 0)},onOpen:function(){V.pause()}}),H&&(0,r.jsx)(l.Y,{onSeek:V.seek,renderFullscreenPlayer:function(){return el({videoRef:W.videoRef,fullHeight:!0})},onFullscreenSeek:W.seek,onFullscreenToggle:function(){V.pause(),V.seek(J)},cues:R,currentTime:J}),Z&&(0,r.jsx)(a.D,{url:k,onNewMediaTranscript:F,onMediaTranscriptUpdated:F,mediaTranscript:M,isLoading:!1})]})}},530598:function(e,t,n){n.d(t,{N:()=>A});var r=n(683551),o=n(714844),i=n(100334),a=n(112e3),l=n(169530),s=n(873059),c=n(314121),u=n(429538),d=n(214813),f=n(37745),p=n(435534),m=n(757977),b=n(844651),h=n(244289),y=n(860524),v=n(189713),g="settings.connect_audience.connect_modal",x=function(e){var t,n,o=e.recipient,a=(null!=(t=(0,h.qo)({name:"note"}))?t:"").length;return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"bg-secondary flex items-center gap-3 rounded-lg px-4 py-3",children:[(0,r.jsx)("div",{className:"flex size-10 items-center justify-center rounded-full",children:(0,r.jsx)(b.s,{isFullRounded:!0,name:null!=(n=o.name)?n:"",src:o.avatar_url,size:"10"})}),(0,r.jsxs)("div",{className:"flex flex-col gap-[0.5]",children:[(0,r.jsx)(v.Z.LabelSm,{weight:"medium",color:"text-primary",children:o.name}),(0,r.jsxs)(v.Z.BodyXs,{color:"text-secondary",children:[o.headline?"".concat(o.headline,"  "):"",o.profile_confirmed_at?(0,i.t)([g,"joined"],{date:(0,y.TF)(o.profile_confirmed_at)}):""]})]})]}),(0,r.jsxs)("div",{className:"",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(v.Z.LabelMd,{color:"text-primary",weight:"semibold",children:(0,i.t)([g,"add_note"])}),(0,r.jsx)(v.Z.BodySm,{color:"text-secondary",children:(0,i.t)([g,"add_note_description"])})]}),(0,r.jsx)(p.l.Item,{name:"note",className:"!pt-3",hideLabel:!0,hideDescription:!0,hideBorder:!0,placeholder:(0,i.t)([g,"add_note_placeholder"]),children:(0,r.jsx)(p.l.TextArea,{name:"note",rows:3,maxLength:300})}),(0,r.jsx)("div",{className:"flex justify-end pt-1",children:(0,r.jsx)(v.Z.BodyXs,{color:"text-secondary",children:(0,i.t)([g,"add_note_max_length"],{character_count:a})})})]})]})},j="settings.connect_audience.connect_modal",_=function(e){var t=e.onConnect,n=e.recipient,o=e.isLoading,a=(0,c.useRef)((0,d.uniqueId)("connect_modal_")).current,l=(0,u.dd)();return n?(0,r.jsx)(f.c,{formId:a,isOpen:l.visible,onClose:l.hide,title:(0,i.t)([j,"title"],{name:null==n?void 0:n.first_name}),confirmVariant:"circle",confirmText:(0,i.t)([j,"send_request_button"]),disabled:void 0!==o&&o,children:(0,r.jsx)(p.l,{id:a,mode:"onChange",onSubmit:function(e){t(e.note),l.hide()},defaultValues:{note:""},children:(0,r.jsx)(x,{recipient:n})})}):null};_.displayName="ConnectModalComponent";var C=m.gk.create(function(e){var t=e.onConnect,n=e.recipient,o=e.isLoading;return(0,r.jsx)(_,{onConnect:t,recipient:n,isLoading:o})}),w=n(583972),O=n(870879),S=n(645391),k=n(471465);function P(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){n(e);return}l.done?t(s):Promise.resolve(s).then(r,o)}var A=function(e){var t=e.variant,n=e.recipient,c=e.recommendationId,d=e.isFullWidth,f=(0,l.pm)(),p=(0,o.useQueryClient)(),m=(0,u.dd)(C),b=(0,s.s)({onSuccess:function(){var e;return(e=function(){var e;return function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(s){var c=[l,s];if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}(this,function(t){switch(t.label){case 0:return[4,(0,a._)(p,null!=(e=n.public_uid)?e:"")];case 1:return t.sent(),f.success((0,i.t)("profile_drawer.connect_banner.messages.connection_created")),[2]}})},function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){P(i,r,o,a,l,"next",e)}function l(e){P(i,r,o,a,l,"throw",e)}a(void 0)})})()},onError:function(e){e&&(void 0===e?"undefined":e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e)=="object"&&"message"in e?f.error(String(e.message)):f.error((0,i.t)("profile_drawer.connect_banner.messages.connection_creation_error"))}}),h=b.mutate,y=b.isLoading,g=function(e){h({memberId:n.id,note:e,recommendationId:c})},x=function(){m.show({recipient:n,onConnect:g})},j=(0,k.D)();return(0,r.jsx)(O.z,{variant:void 0===t?"secondary":t,onClick:function(e){e.preventDefault(),e.stopPropagation(),x()},"aria-label":(0,i.t)("connect"),"data-testid":"connect-button",large:!0,className:(0,S.A)("!border-primary !h-8 gap-2 !px-4 !font-medium !pr-6 !py-0",j?"!pr-6 mt-2":"",void 0!==d&&d?"w-full":"w-30"),disabled:y,children:y?(0,r.jsx)(w.JO,{type:"loader"}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(w.JO,{type:"16-plus-v2",size:16,useWithFillCurrentColor:!0}),(0,r.jsx)(v.Z.LabelSm,{color:"text-primary",weight:"font-medium",children:(0,i.t)("connect")})]})})}},722113:function(e,t,n){n.d(t,{N:()=>i});var r=n(408569),o=n(696459),i=function(e){var t=(0,o.xJ)(),n=e&&(e.status===r.Q.DETACHED||e.status===r.Q.WITHDRAWN),i=e&&e.status===r.Q.IGNORED,a=e&&e.status===r.Q.PENDING&&e.initiator.user_id===(null==t?void 0:t.id),l=e&&e.status===r.Q.PENDING&&e.initiator.user_id!==(null==t?void 0:t.id);return{isEmpty:!e||n||i,isActive:(null==e?void 0:e.status)===r.Q.ACTIVE,isCurrentUserSentConnection:a,isOtherUserSentConnection:l}}},325128:function(e,t,n){n.d(t,{Js:()=>d});var r=n(683551),o=n(314121),i=n(379600),a=n.n(i),l=n(286638),s=n(854769),c=n(535929),u=n(583972),d=function(e){var t=e.children,n=e.show,i=e.fullscreen,c=e.className,u=e.innerClassName,d=e.closeOnEscape,f=void 0!==d&&d,p=e.closeOnOutsideClick,m=void 0!==p&&p,b=e.onClose,h=e.trixMode,y=(0,o.useRef)(null);if((0,s.h)(function(){f&&n&&(null==b||b())}),(0,l.Z)(y,function(){m&&n&&(null==b||b())}),!n)return null;var v=a()("modal__box ".concat(h),c,{modal__fullscreen:void 0!==i&&i});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:v,children:(0,r.jsx)("div",{ref:y,className:a()("modal__inner",u),children:t})}),(0,r.jsx)("div",{className:"modal-background !bg-gray-900/50"})]})};d.Header=function(e){var t=e.onClose,n=e.children;return(0,r.jsxs)("div",{className:"modal__header",children:[n,(0,r.jsx)(c.If,{condition:!!t,children:(0,r.jsx)("a",{href:"#close",onClick:function(e){e.preventDefault(),null==t||t(e)},className:"modal__close",children:(0,r.jsx)(u.JO,{type:"close"})})})]})},d.Body=function(e){var t=e.title,n=e.children,o=e.className;return(0,r.jsxs)("div",{className:a()("modal__body",o),children:[(0,r.jsx)(c.If,{condition:!!t,children:(0,r.jsxs)("h2",{className:"modal__title",children:["$",t]})}),(0,r.jsx)("div",{className:"modal__description",children:n})]})}},37745:function(e,t,n){n.d(t,{c:()=>f});var r=n(683551),o=n(379600),i=n.n(o),a=n(338664),l=n.n(a),s=n(100334),c=n(310927),u=n(870879),d=n(263285),f=function(e){var t=e.cancelText,n=void 0===t?(0,s.t)("cancel"):t,o=e.children,a=e.confirmText,f=void 0===a?(0,s.t)("confirm"):a,p=e.confirmVariant,m=e.contentPortalId,b=e.disabled,h=e.formId,y=e.isOpen,v=e.onCancel,g=e.onClose,x=e.onConfirm,j=e.size,_=e.title,C=e.titleSize,w=e.dataTestId,O=e.headerClassName,S=e.footerClassName,k=e.initialFocusRef,P=(0,c.v)().isMobileWebNewSpaceCustomizationUIEnabled;return(0,r.jsxs)(d.u_,{isOpen:void 0!==y&&y,onClose:function(){l()(g)&&g()},contentPortalId:void 0===m?"":m,initialFocus:k,children:[(0,r.jsx)(d.u_.Overlay,{}),(0,r.jsxs)(d.u_.Content,{size:void 0===j?"lg":j,wrapperClassName:"!h-full",children:[(0,r.jsxs)(d.u_.Header,{className:void 0===O?"":O,children:[(0,r.jsx)(d.u_.Title,{size:void 0===C?"sm":C,children:_}),(0,r.jsx)(d.u_.HeaderActions,{children:l()(g)&&(0,r.jsx)(d.u_.CloseButton,{onClick:function(){g()}})})]}),(0,r.jsx)(d.u_.Body,{className:i()({"!px-5":P}),children:o}),(0,r.jsx)(d.u_.Footer,{className:void 0===S?"":S,children:(0,r.jsxs)("div",{className:"flex items-stretch justify-end space-x-4",children:[(l()(v)||l()(g))&&(0,r.jsx)(u.z,{type:"button",variant:"secondary",onClick:function(){return l()(v)?v():l()(g)?g():void 0},children:n}),(0,r.jsx)(u.z,{type:h?"submit":"button",form:h,variant:void 0===p?"primary":p,disabled:void 0!==b&&b,onClick:function(){l()(x)&&x()},"data-testid":w,children:f})]})})]})]})}},639891:function(e,t,n){n.d(t,{K:()=>l});var r=n(683551),o=n(645391),i=n(870879),a=n(189713);function l(e){var t,n,l=e.children,s=e.iconEl,c=e.className,u=e.compressedCTA,d=void 0!==u&&u,f=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["children","iconEl","className","compressedCTA"]),p=d?a.Z.LabelXs:a.Z.LabelMd;return(0,r.jsx)(i.z,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({variant:"secondary",className:(0,o.A)("mx-auto w-max",c),large:!0},f),n=n={children:(0,r.jsxs)("div",{className:(0,o.A)("text-darkest flex gap-x-2",d&&"min-w-[156px] justify-center px-3 py-2.5"),children:[s,(0,r.jsx)(p,{weight:"semibold",color:"text-darkest",children:l})]})},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}},843848:function(e,t,n){n.d(t,{X:()=>a});var r=n(683551),o=n(100334),i=n(189713);function a(e){var t=e.children,n=e.title,a=void 0===n?(0,o.t)("momentum_modal.share_broadcast.title"):n,l=e.description,s=void 0===l?(0,o.t)("momentum_modal.share_broadcast.description"):l;return(0,r.jsxs)("div",{className:"bg-secondary flex flex-col gap-y-7 rounded-lg p-6 text-center",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-y-2 text-pretty px-4",children:[(0,r.jsx)(i.Z.LabelMd,{weight:"semibold",children:a}),(0,r.jsx)(i.Z.BodySm,{color:"text-default",children:s})]}),t]})}},6872:function(e,t,n){n.d(t,{o:()=>s});var r=n(683551),o=n(645391),i=n(357382),a=n(263285),l=n(189713);function s(e){var t,n,s=e.title,c=e.description,u=e.onClose,d=e.children,f=e.isLoading,p=e.multiCTASectionLayout,m=void 0!==p&&p,b=e.headerClassName,h=e.bodyClassName,y=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["title","description","onClose","children","isLoading","multiCTASectionLayout","headerClassName","bodyClassName"]);return(0,r.jsxs)(a.u_,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({onClose:u},y),n=n={children:[(0,r.jsx)(a.u_.Overlay,{}),(0,r.jsxs)(a.u_.Content,{size:m?"lg":void 0,className:"!rounded-xl",children:[f&&(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,r.jsx)(i.a,{"aria-live":"polite","aria-busy":"true"})}),(0,r.jsx)(a.u_.Header,{className:(0,o.A)("!justify-end",b),children:(0,r.jsx)(a.u_.HeaderActions,{children:(0,r.jsx)(a.u_.CloseButton,{iconClassName:"!text-default",onClick:u})})}),(0,r.jsx)(a.u_.Body,{className:(0,o.A)("px-8 pb-12",m&&"pb-8"),children:(0,r.jsxs)("div",{className:(0,o.A)("flex flex-col gap-y-10",h),children:[(0,r.jsxs)("div",{className:"flex flex-col gap-y-3 text-pretty px-4 text-center",children:[(0,r.jsx)(a.u_.Title,{children:s}),(0,r.jsx)(l.Z.BodyMd,{color:"text-default",children:c})]}),(0,r.jsx)("div",{className:"flex w-full flex-col items-center",children:d})]})})]})]},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}},538075:function(e,t,n){n.d(t,{r:()=>m});var r=n(683551),o=n(314121),i=n(100334),a=n(870879),l=function(e){var t=e.status,n=e.i18nRoot,o=e.isApproving,l=e.onReject,s=e.onApprove,c=e.contentType;return(0,r.jsxs)("div",{className:"flex items-center justify-end gap-4",children:[(null===t||"rejected"===t)&&(0,r.jsx)(a.z,{variant:"secondary",onClick:s,disabled:o,children:(0,i.t)([n,"approve_".concat(c)])}),(null===t||"approved"===t)&&(0,r.jsx)(a.z,{variant:"danger",onClick:l,children:(0,i.t)([n,"reject_".concat(c)])})]})},s=n(435534),c=n(244289),u=function(e){var t=e.i18nRoot,n=e.onReasonChange,a=(0,(0,c.Gc)().watch)("reason");return(0,o.useEffect)(function(){n(a)},[a,n]),(0,r.jsx)(s.l.TextArea,{autoFocus:!0,name:"reason",className:"mt-2 w-full",rows:3,placeholder:(0,i.t)([t,"rejection_note_placeholder"])})};function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var f=function(e){var t,n=e.i18nRoot,l=e.onReject,c=e.isRejecting,f=e.contentType,p=(t=(0,o.useState)(),function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),i.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return d(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),m=p[0],b=p[1];return(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)(s.l,{onSubmit:function(){return l(m||null)},children:(0,r.jsx)(s.l.Item,{name:"reason",label:(0,i.t)([n,"moderation_note"]),className:"w-full !p-0",hideDescription:!0,hideBorder:!0,children:(0,r.jsx)(u,{i18nRoot:n,onReasonChange:b})})}),(0,r.jsx)("div",{className:"mt-6 flex justify-end gap-4",children:(0,r.jsx)(a.z,{variant:"danger",onClick:function(){return l(m||null)},disabled:c,children:(0,i.t)([n,"reject_".concat(f)])})})]})};function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var m=function(e){var t,n=e.contentType,i=e.status,a=e.i18nRoot,s=e.isApproving,c=e.isRejecting,u=e.onApprove,d=e.onReject,m=(t=(0,o.useState)("approved"===i),function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),i.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return p(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),b=m[0],h=m[1];return(0,r.jsx)("div",{className:"border-t px-8 py-6",children:b?(0,r.jsx)(f,{i18nRoot:a,isRejecting:c,onReject:d,contentType:n}):(0,r.jsx)(l,{i18nRoot:a,isApproving:s,onApprove:u,onReject:function(){return h(!0)},status:i,contentType:n})})}},128146:function(e,t,n){n.d(t,{Z:()=>a});var r=n(683551),o=n(314121),i=n(583972),a=function(e){var t=e.fetchNewPage,n=e.footerDistanceFromBottom,a=void 0===n?-1e3:n,l=e.componentId,s=e.onEvent,c=void 0===s?"scrollDown":s,u=e.messageId,d=e.isLoading,f=(0,o.useRef)(null);return(0,o.useEffect)(function(){var e=document.getElementById(l||"");if(e){var n=function(){if(!d){var n=!1;if("scrollUp"===c)n=e.scrollTop<20;else{var r,o=null==f||null==(r=f.current)?void 0:r.getBoundingClientRect();n=e.clientHeight-((null==o?void 0:o.top)||0)>a}n&&t(u)}};return e.addEventListener("scroll",n),function(){e.removeEventListener("scroll",n)}}},[u,d,l]),(0,r.jsx)("div",{ref:f,className:"flex justify-center",children:d&&(0,r.jsx)(i.JO,{type:"loader"})})}},149959:function(e,t,n){n.d(t,{Y:()=>a});var r=n(683551),o=n(357382),i=n(128146),a=function(e){var t=e.children,n=e.shouldShowPrevLoader,a=e.shouldShowNextLoader,l=e.hasNextPage,s=e.hasPrevPage,c=e.onPrevPage,u=e.onNextPage,d=e.firstItemId,f=e.lastItemId,p=e.componentId,m=e.isLoading;return(0,r.jsxs)("div",{id:p,className:"overflow-auto pt-2",children:[m?(void 0===n||n)&&(0,r.jsx)(o.a,{center:!0}):s&&(0,r.jsx)(i.Z,{componentId:p,fetchNewPage:c,onEvent:"scrollUp",messageId:d,isLoading:m}),t,m?(void 0===a||a)&&(0,r.jsx)(o.a,{center:!0}):l&&(0,r.jsx)(i.Z,{componentId:p,fetchNewPage:u,messageId:f,footerDistanceFromBottom:-500,isLoading:m})]})}},188285:function(e,t,n){n.d(t,{D:()=>p});var r=n(683551),o=n(379600),i=n.n(o),a=n(100334),l=n(208291),s=n(694832),c=n(870879),u=n(189713),d=n(132975),f=function(e){var t=e.avatar_url,n=e.name;return(0,r.jsxs)("div",{className:"grid",children:[t&&(0,r.jsx)("img",{loading:"lazy",alt:"",className:"z-0 col-start-1 row-start-1 size-10 rounded-md object-cover",src:t}),(0,r.jsx)("div",{className:"col-start-1 row-start-1 flex size-10 items-center justify-center rounded-md",style:{backgroundColor:(0,d.D)(n)},children:(0,r.jsx)(u.Z.LabelLg,{children:(0,r.jsx)("div",{className:"text-c-sidebar-badge-text",children:(0,d.Q)(n)})})})]})},p=function(e){var t=e.customer,n=e.onRemove,o=e.setSearchQuery,d=e.shouldOpenAdminMemberEdit,p=e.infoClassName,m=(0,l.H)().showMemberProfileEdit,b=(0,a.t)("settings.paywalls_admin_dashboard.shared.deactivated_member"),h=t.name?t.name:b,y=t.deleted_at?b:"",v=!!t.public_uid&&d,g=function(){d&&m({member:t})};return(0,r.jsxs)("div",{className:i()("group inline-flex items-center gap-4","focus-visible:ring-secondary focus-visible:rounded-md focus-visible:ring-2 focus-visible:ring-offset-2",{"cursor-pointer":!!v}),onClick:g,onKeyPress:g,tabIndex:0,role:"button",children:[(0,r.jsx)(f,{avatar_url:t.avatar_url,name:h}),(0,r.jsxs)("div",{className:i()("grid pr-4",p),children:[(0,r.jsx)(s.Y,{children:(0,r.jsx)(u.Z.LabelSm,{weight:"semibold",children:"".concat(h).concat(y)})}),(0,r.jsx)(s.Y,{children:(0,r.jsx)(u.Z.LabelSm,{color:"text-default",children:t.email})})]}),n&&(0,r.jsx)(u.Z.LabelSm,{weight:"medium",children:(0,r.jsx)("div",{className:"invisible group-hover:visible",children:(0,r.jsx)(c.z,{type:"button",variant:"plain",className:"text-v2-danger",onClick:function(){o&&o(""),n()},children:(0,a.t)("remove")})})})]})}},501327:function(e,t,n){n.d(t,{q:()=>A});var r=n(683551),o=n(757977),i=n(214813),a=n(100334),l=n(75040),s=n(435534),c=n(15921),u=n(378751),d=n(188285),f=n(189713),p="settings.paywalls_admin_dashboard.charges",m=function(e){var t=e.charge,n=new Date(t.created_at),o=(0,u.w)({dateTime:n,format:"long_date_short_time"});return(0,r.jsxs)("div",{children:[t.community_member&&(0,r.jsx)("div",{className:"border-b-2 pb-4",children:(0,r.jsx)(d.D,{customer:t.community_member,shouldOpenAdminMemberEdit:!1})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-y-3 py-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{children:(0,r.jsx)(f.Z.LabelSm,{weight:"semibold",children:(0,a.t)("".concat(p,".charge_details_modal.details_labels.transaction_date"))})}),(0,r.jsx)(f.Z.LabelSm,{children:o})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{children:(0,r.jsx)(f.Z.LabelSm,{weight:"semibold",children:(0,a.t)("".concat(p,".charge_details_modal.details_labels.amount_paid"))})}),(0,r.jsx)(f.Z.LabelSm,{children:t.display_amount_with_currency})]}),(0,c.ac)(t)&&(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{children:(0,r.jsx)(f.Z.LabelSm,{weight:"semibold",children:(0,a.t)("".concat(p,".charge_details_modal.details_labels.amount_refunded"))})}),(0,r.jsx)(f.Z.LabelSm,{children:t.display_refunded_amount_with_currency})]})]})]})},b=n(944696),h="refund-charge_form",y="settings.paywalls_admin_dashboard.charges.refund_modal",v=n(107094),g=function(e){var t=e.charge,n=t.amount_to_refund_raw,r=function(e){return e.replace(/\D/g,"")};return{transformValueIntoCurrency:function(e){var n=Number(r(e));if(!isNaN(n))return(0,v.I)(t.currency,n,{includeCurrencyCode:!1,forceMaxFractionDigits:!0})},minAmountToRefund:function(e){return Number(r(e))>=1||(0,a.t)("".concat(y,".refund_form.alerts.minimun_amount_required"),{value:(0,v.I)(t.currency,1)})},maxAmountToRefund:function(e){return Number(r(e))<=n||(0,a.t)("".concat(y,".refund_form.alerts.maximum_amount_required"),{value:(0,v.I)(t.currency,n)})}}},x=function(e){var t=e.charge,n=g({charge:t}),o=n.transformValueIntoCurrency,i=n.minAmountToRefund,l=n.maxAmountToRefund,c=t.currency;return(0,r.jsxs)("div",{className:"flex flex-col space-y-2 pt-2",children:[(0,r.jsx)(s.l.Item,{className:"border-0",labelClassName:"text-sm font-semibold",name:"amount",translationRoot:"".concat(y,".refund_form"),hidePlaceholder:!0,hideDescription:!0,hiddenField:!0,id:h,transformValue:o,rules:{required:!0,validate:{minAmountToRefund:i,maxAmountToRefund:l}},children:(0,r.jsx)(b.a,{currency:c})}),(0,r.jsx)(s.l.Item,{className:"border-0",labelClassName:"text-sm font-semibold",name:"reason_details",translationRoot:"".concat(y,".refund_form"),hideDescription:!0,hiddenField:!0,id:h,rules:{required:(0,a.t)("".concat(y,".refund_form.alerts.reason_details_required")),maxLength:{value:255,message:(0,a.t)("".concat(y,".refund_form.alerts.reason_details_max_length"))}},children:(0,r.jsx)(s.l.Input,{name:"reason_details",variant:"textarea"})})]})},j=n(714844),_=n(884214),C=n(169530),w=_.W.refundCharge,O=function(e){var t=e.charge,n=e.callback,r=t.amount_to_refund_raw,o=(0,C.pm)(),i=o.success,l=o.error,s=(0,a.t)("settings.paywalls_admin_dashboard.charges.refund_modal.alerts.error.default_message");return{refundMutation:(0,j.useMutation)(function(e){return w({chargeProcessorId:t.processor_id,params:e})},{onSuccess:function(e,t){var o=t.amount===r?(0,a.t)("settings.paywalls_admin_dashboard.charges.refund_modal.alerts.success.refund_succeed"):(0,a.t)("settings.paywalls_admin_dashboard.charges.refund_modal.alerts.success.partial_refund_succeed");n.refundCharge.onSuccess(),i(o)},onError:function(e){n.refundCharge.onError();var t,r=null!=(t=e.message)?t:s;console.error(r),l(r,{duration:"long"})}})}},S=function(e){var t=e.charge,n=e.onSuccess,r=(0,o.dd)(),a={amount:(0,v.I)(t.currency,t.amount_to_refund_raw,{includeCurrencyCode:!1,forceMaxFractionDigits:!0})},l=O({charge:t,callback:{refundCharge:{onSuccess:function(){r.hide(),n&&n()},onError:i.noop}}}).refundMutation;return{defaultValues:a,handleSubmit:function(e){e.amount=Number(e.amount.replace(/\D/g,"")),l.mutate(e)},modal:r,isSubmitting:l.isLoading,onClose:function(){return!l.isLoading&&r.hide()}}},k=function(e){var t=e.charge,n=S({charge:t,onSuccess:e.onSuccess}),o=n.defaultValues,c=n.handleSubmit,u=n.modal,d=n.isSubmitting,f=n.onClose;return(0,r.jsx)(l.W,{title:(0,a.t)("settings.paywalls_admin_dashboard.charges.refund_modal.title"),isOpen:u.visible,onClose:f,onAction:i.noop,disabled:d,actionText:(0,a.t)("".concat("settings.paywalls_admin_dashboard.charges",".refund_modal.refund_button_label")),formId:h,actionVariant:"circle",children:(0,r.jsx)(s.l,{onSubmit:c,defaultValues:o,id:h,children:(0,r.jsxs)("div",{className:"pt-4",children:[(0,r.jsx)(m,{charge:t}),(0,r.jsx)(x,{charge:t})]})})})},P=o.gk.create(function(e){return(0,r.jsx)(k,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e))}),A=function(){return(0,o.dd)(P)}},384707:function(e,t,n){n.d(t,{s:()=>O});var r,o,i=n(683551),a=n(100334),l=n(722024),s=n(276011),c=n(583972),u=n(527804),d=n(189713),f=function(e){var t=e.title,n=e.icon,r=e.text,o=e.isHidden,l=e.dataTestId;return(0,i.jsxs)("div",{className:"grid gap-2","data-testid":l,children:[t&&(0,i.jsxs)("div",{className:"flex items-center gap-x-1",children:[(0,i.jsx)(d.Z.LabelSm,{weight:"semibold",children:t}),o&&(0,i.jsx)(u.T,{className:"text-light inline-flex",content:(0,a.t)("profile_fields.hidden"),"aria-label":(0,a.t)("profile_fields.hidden"),children:(0,i.jsx)(c.JO,{type:"16-eye-closed",size:14,"aria-hidden":!0,useWithFillCurrentColor:!0})})]}),(0,i.jsxs)("div",{className:"text-dark flex items-center gap-3 whitespace-pre-line break-words",style:{wordBreak:"break-word"},children:[n&&(0,i.jsx)(c.JO,{type:n,size:16}),r&&(0,i.jsx)(d.Z.LabelSm,{children:r})]})]})},p=n(800007),m=n(714517),b=n(826795);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){var t=e.community_member_profile_field,n=(null!=t?t:{}).text;return(null==n?void 0:n.trim())===""?null:n},v=function(e){var t=e.community_member_profile_field;if(null===t)return null;var n=t.community_member_choices,r=void 0===n?[]:n;return r.length?r.map(function(e){return e.profile_field_choice.value}).join(", "):null},g=(h(r={},b.Z9.TEXT,y),h(r,b.Z9.LINK,function(e){var t=e.community_member_profile_field,n=(null!=t?t:{}).text;return n&&(null==n?void 0:n.trim())!==""?(0,i.jsx)("a",{href:n,target:"_blank",rel:"noopener noreferrer",children:n}):null}),h(r,b.Z9.TEXTAREA,function(e){var t=e.community_member_profile_field,n=y({community_member_profile_field:{text:(null!=t?t:{}).textarea}});return n?(0,i.jsx)(m.X,{lines:8,seeMoreClassName:"text-sm",children:n}):null}),h(r,b.Z9.NUMBER,function(e){var t=e.community_member_profile_field,n=e.number_options,r=(null!=t?t:{}).text;return(null==r?void 0:r.trim())?(0,p.k)(parseFloat(r),n):null}),h(r,b.Z9.SELECT,v),h(r,b.Z9.CHECKBOX,v),h(r,b.Z9.LOCATION,y),r),x=n(168039),j=n(521081);function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=function(e){var t=e.format,n=e.position,r=e.text;return t!==x.av.CUSTOM?{prefix:"",suffix:""}:{prefix:"left"===n?"".concat(r," "):"",suffix:"right"===n?" ".concat(r):""}},w=(_(o={},x.Z9.TEXT,function(){return"-"}),_(o,x.Z9.LINK,function(){return(0,a.t)("profile_fields.form.default_link")}),_(o,x.Z9.SELECT,function(){return(0,a.t)("profile_fields.form.default_select_option")}),_(o,x.Z9.NUMBER,function(e){var t=e.number_options,n=(0,j.S)({numberOptions:t}),r=t.format===x.av.PERCENT?"%":"",o=C(t),i=o.prefix,a=o.suffix;return"".concat(i).concat(n).concat(r).concat(a)}),_(o,x.Z9.CHECKBOX,function(e){var t=e.choices;return(0,i.jsx)("span",{className:"flex flex-col gap-y-2",children:t.map(function(e){return(0,i.jsx)("span",{children:e.value},e.id)})})}),_(o,x.Z9.TEXTAREA,function(){return"-"}),_(o,x.Z9.LOCATION,function(){return"-"}),o),O=function(e){var t=e.fields,n=e.isPreview,r=e.isHidden,o=(0,l.wh)().currentCommunityMember,c=(0,s.vb)(o);return(0,i.jsx)("div",{className:"grid gap-6",children:null==t?void 0:t.map(function(e){var t=e.id,o=e.label,l=e.field_type,s=w[l](e)||null;return(!n&&(s=g[l](e)||null,c&&null==s&&(s=(0,i.jsx)("span",{className:"opacity-60",children:(0,a.t)("profile_fields.empty")}))),c||null!=s)?(0,i.jsx)(f,{title:o,text:s,isHidden:r,dataTestId:"user-profile-field"},t):null})})}},922834:function(e,t,n){n.d(t,{I:()=>g});var r=n(683551),o=n(564514),i=n(100334),a=n(543512),l=n(673047),s=n(722024),c=n(358181),u=n(904812),d=n(294757),f=n(809556),p=n(657735),m=n(554956),b=n(684785),h=n(357382);function y(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){n(e);return}l.done?t(s):Promise.resolve(s).then(r,o)}var v=["profile_fields.upgrade_flow.button_labels.add_birthday","profile_fields.upgrade_flow.button_labels.add_profession","profile_fields.upgrade_flow.button_labels.add_skills"],g=function(e){var t=e.showPlanTrial,n=void 0!==t&&t,g=e.source,x=(0,p.w)(),j=(0,a.K)(),_=(0,o.k6)(),C=(0,d.E)().changePlanModalParams,w=(0,l.c)(),O=C(g===m.fe.PROFILE_FIELDS_ANALYTICS_FILTER_CHIP?c.Gb.enterprise:c.Gb.business),S=O.planTier,k=O.planId,P=(0,s.wh)(),A=P.refetch,E=P.currentCommunity,L=(null!=E?E:{}).current_plan_tier,N=L&&(0,c.FZ)(L)||void 0,I=(0,b.R)({planTier:S,planId:k?String(k):void 0}),M=I.plan,T=I.isPlanLoading,D=N!==c.Gb.enterprise&&g===m.fe.PROFILE_FIELDS_ANALYTICS_FILTER_CHIP?"pricing_plans.upgrade_modal.subheadings.analytics_filters_from_profile_fields_below_business":"pricing_plans.upgrade_modal.subheadings.analytics_filters",R=g===m.fe.PROFILE_FIELDS_ANALYTICS_FILTER_CHIP?"pricing_plans.upgrade_modal.actions.go_to_analytics":"profile_fields.upgrade_flow.button_labels.go_to_profile_fields",U=function(){var e;return(e=function(){return function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(s){var c=[l,s];if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}(this,function(e){switch(e.label){case 0:if(g!=m.fe.PROFILE_FIELDS_ANALYTICS_FILTER_CHIP)return[3,2];return[4,A()];case 1:return e.sent(),[3,3];case 2:_.push(u.Gp.profileFieldList()),e.label=3;case 3:return[4,x.hide()];case 4:return e.sent(),[2]}})},function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){y(i,r,o,a,l,"next",e)}function l(e){y(i,r,o,a,l,"throw",e)}a(void 0)})})()},H=function(){n&&w?j.show({planTier:c.Gb.business,trialType:"business_thirty_day",onConfirm:function(){_.push(u.Gp.profileFieldList())}}):M&&x.show({planId:M.id,subheading:(0,i.t)(D),onSuccess:U,successButtonLabel:(0,i.t)(R),source:g,showPlanDetails:!0})};return T?(0,r.jsx)(h.a,{}):(0,r.jsx)("div",{className:"grid grid-cols-1 gap-y-4 py-1",children:v.map(function(e){return(0,r.jsx)("button",{type:"button",className:"cursor-pointer",onClick:H,children:(0,r.jsx)(f.G,{children:(0,i.t)(e)})},e)})})}},122975:function(e,t,n){n.d(t,{R:()=>i,a:()=>o});var r=n(722024),o=function(){var e=(0,r.wh)(),t=e.currentCommunity;return!!(!e.isLoading&&(null==t?void 0:t.profile_fields_feature_flag_enabled))};function i(){var e=(0,r.wh)(),t=e.currentCommunitySettings,n=e.currentCommunityMember,i=null==t?void 0:t.upgrade_flows_for_profile_fields_enabled,a=o(),l=null==n?void 0:n.is_admin;return!!(i&&!a&&l)}},190181:function(e,t,n){n.d(t,{d:()=>l});var r=n(683551),o=n(379600),i=n.n(o),a=n(100334),l=function(e){var t=e.wrapperClassName;return(0,r.jsxs)("div",{className:i()("flex flex-1 flex-col items-center justify-center p-4 text-center",t),children:[(0,r.jsx)("h2",{className:"text-lg font-bold",children:(0,a.t)("profile_deleted_message")}),(0,r.jsx)("p",{className:"text-sm",children:(0,a.t)("profile_deleted_description")})]})}},687123:function(e,t,n){n.d(t,{Z:()=>d});var r=n(683551),o=n(379600),i=n.n(o),a=n(250822),l=n(189713),s=function(e){var t=e.children,n=e.hideFooter,o=e.className,a=e.containerClassName;return n?null:(0,r.jsx)("div",{className:i()("bg-primary border-primary bottom-0 left-0 w-full justify-center border-t",void 0===o?"absolute":o),children:(0,r.jsx)("div",{className:i()("mx-auto max-w-screen-md px-6 py-4",a),children:t})})},c=n(870879);function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}var d=Object.assign({},{Root:function(e){var t=e.title,n=e.children,o=e.rightSideContent,a=e.titleClassName;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:i()("px-5 pt-6 md:p-6 lg:py-8",void 0===a?"":a,{"flex justify-between":o}),children:[(0,r.jsx)(l.Z.TitleMd,{weight:"font-bold",color:"text-very-dark",children:t}),o&&(0,r.jsx)("div",{children:o})]}),n]})},Body:function(e){var t=e.title,n=e.children,o=e.className,s=(0,a.kK)()?l.Z.TitleSm:l.Z.TitleMd;return(0,r.jsxs)("div",{className:i()("text-dark flex flex-col gap-y-3 px-5 pb-10 pt-0 md:px-6 md:pt-2",o),children:[t&&(0,r.jsx)(s,{weight:"font-bold",children:t}),n]})},Footer:s,FooterForm:function(e){var t=e.showFooter,n=e.description,o=void 0===n?"":n,a=e.primaryButtonProps,d=e.secondaryButtonProps,f=e.buttonsWrapperClassName,p=e.className,m=e.containerClassName;return(0,r.jsx)(s,{hideFooter:!(void 0!==t&&t),className:void 0===p?"absolute z-[1]":p,containerClassName:m,children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[o&&(0,r.jsx)("div",{className:"w-full",children:(0,r.jsx)(l.Z.LabelSm,{weight:"semibold",children:o})}),(0,r.jsxs)("div",{className:i()("flex w-full flex-row gap-x-4",void 0===f?"justify-end":f),children:[d&&(0,r.jsx)(c.z,u({},d)),(0,r.jsx)(c.z,u({},a))]})]})})}})},593356:function(e,t,n){n.d(t,{$k:()=>l,Z2:()=>r.Z,d8:()=>s.d});var r=n(687123),o=n(683551),i=n(244289),a=n(100334),l=function(e){var t,n,l=e.formId,s=e.footerContainerClassName,c=e.onClose,u=(0,i.Gc)().formState;return(0,o.jsx)(r.Z.FooterForm,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},u.isDirty&&{description:(0,a.t)("unsaved_changes")}),n=n={containerClassName:s,showFooter:!0,primaryButtonProps:{type:"submit",variant:"circle",form:l,children:(0,a.t)("save_changes"),disabled:u.isSubmitting},secondaryButtonProps:{type:"button",variant:"secondary",onClick:c,children:(0,a.t)("cancel")}},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))},s=n(190181)},422118:function(e,t,n){n.d(t,{Q:()=>b});var r=n(683551),o=n(314121),i=n(214813),a=n(100334),l=n(645391),s="slow-2g",c=function(e){return"connection"in e&&void 0!==e.connection},u=function(){var e=c(navigator)?navigator.connection:void 0;if(!e)return!0;var t=e.effectiveType;return"2g"!==t&&t!==s&&"3g"!==t},d=function(e,t,n){if(!t)return n;var r=c(navigator)?navigator.connection:void 0,o=null==r?void 0:r.effectiveType;return"2g"===o||o===s?(null==t?void 0:t.thumbnail)||n:"3g"===o?t?e<=640?t.small:e<=1024?t.medium:t.large:n:t&&e>=640?t.large:n};function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var m={threshold:.01,rootMargin:"50px"},b=function(e){var t=e.src,n=e.srcVariants,s=e.alt,c=void 0===s?(0,a.t)("post.cover_image_alt"):s,f=e.className,b=void 0===f?"":f,h=e.showShimmer,y=e.aspectRatio,v=e.loading,g=void 0===v?"lazy":v,x=e.imageClassName,j=(0,i.isEmpty)(n)?t:u()?d("undefined"!=typeof window?window.innerWidth:1920,n,t):(null==n?void 0:n.thumbnail)||t,_=u(),C=p((0,o.useState)(j),2),w=C[0],O=C[1],S=p((0,o.useState)(!0),2),k=S[0],P=S[1],A=p((0,o.useState)(!0),2),E=A[0],L=A[1],N=p((0,o.useState)(!1),2),I=N[0],M=N[1],T=p((0,o.useState)(null),2),D=T[0],R=T[1],U=p((0,o.useState)(!1),2),H=U[0],B=U[1],Z=(0,o.useRef)(null),F=(0,o.useRef)(null),z=(0,o.useRef)(j),V=(0,o.useRef)(null),W=(0,i.isEmpty)(n),G=k&&E&&!I&&!_,q=(0,o.useCallback)(function(e){return W?t:d(e,n,t)},[W,t,n]),J=(0,o.useCallback)(function(e){if(e!==z.current&&!I){V.current&&(V.current.onload=null,V.current.onerror=null,V.current.src="");var n=new Image;V.current=n,n.src=e,n.onload=function(){E?(O(e),P(!1),L(!1)):(R(e),B(!1)),z.current=e,V.current=null},n.onerror=function(){M(!0),P(!1),O(t),V.current=null}}},[I,t,E]),Q=(0,o.useCallback)(function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0)if(o.value.isIntersecting){var a=window.innerWidth,l=q(a);l!==z.current&&J(l)}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}},[q,J]);return((0,o.useEffect)(function(){return function(){V.current&&(V.current.onload=null,V.current.onerror=null,V.current.src="")}},[]),(0,o.useEffect)(function(){if(D&&H){var e=setTimeout(function(){O(D),R(null),B(!1)},50);return function(){return clearTimeout(e)}}},[D,H]),(0,o.useEffect)(function(){if(!W&&Z.current)return F.current=new IntersectionObserver(Q,m),F.current.observe(Z.current),function(){var e;null==(e=F.current)||e.disconnect()}},[Q,W]),W)?(0,r.jsx)("img",{loading:g,src:t,alt:c,className:b}):(0,r.jsxs)("div",{className:(0,l.A)("relative overflow-hidden",b),style:y?{aspectRatio:y}:void 0,children:[G&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"bg-secondary absolute inset-0"}),(void 0===h||h)&&(0,r.jsx)("div",{className:"animate-shimmer absolute inset-0 bg-gradient-to-r from-transparent via-white/40 to-transparent bg-[length:1000px_100%] bg-no-repeat"}),(0,r.jsx)("img",{loading:g,src:(null==n?void 0:n.thumbnail)||t,alt:c,className:(0,l.A)("absolute inset-0 size-full scale-110 blur-md",x),"aria-hidden":"true"})]}),(0,r.jsx)("img",{loading:g,ref:Z,src:w,onLoad:function(){P(!1),L(!1)},onError:function(){M(!0),P(!1),O(t)},alt:c,className:(0,l.A)("size-full transition-opacity duration-500",x,{"opacity-0":k||H,"opacity-100":!k&&!D&&!H})}),D&&(0,r.jsx)("img",{loading:g,src:D,alt:c,className:(0,l.A)("absolute inset-0 size-full transition-opacity duration-500",x,{"opacity-0":!H,"opacity-100":H}),onLoad:function(){B(!0)}})]})}},387711:function(e,t,n){n.d(t,{S:()=>f});var r=n(683551),o=n(314121),i=n(645391),a=n(583972),l=n(189713),s=function(e){var t=e.isChecked,n=void 0!==t&&t,o=e.hasRadioCheckmarks,i=e.radioCheckmarksCheckedIcon,l=e.radioCheckmarksUncheckedIcon;return void 0!==o&&o?n?(0,r.jsx)("span",{className:"text-selector-active flex",children:(0,r.jsx)(a.JO,{size:24,type:void 0===i?"24-radio-checked":i})}):(0,r.jsx)("span",{className:"text-lightest flex",children:(0,r.jsx)(a.JO,{size:24,type:void 0===l?"24-radio-unchecked":l})}):n?(0,r.jsx)("span",{className:"text-selector-active flex",children:(0,r.jsx)(a.JO,{size:16,type:"16-check-circle"})}):null};function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(e){var t,n,o,u=e.label,d=e.name,f=e.id,p=e.isChecked,m=e.onChange,b=e.value,h=e.size,y=e.hasRadioCheckmarks,v=e.icon,g=e.iconSize,x=e.image,j=e.radioCheckmarksCheckedIcon,_=e.radioCheckmarksUncheckedIcon,C=e.labelClassName,w=e.contentWrapperClassName,O=e.iconWrapperClassName,S=e.checkedOptionClassName,k=e.uncheckedOptionClassName,P=e.hasCheckedIcon,A=void 0===P||P,E=e.disabled,L=void 0!==E&&E,N=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["label","name","id","isChecked","onChange","value","size","hasRadioCheckmarks","icon","iconSize","image","radioCheckmarksCheckedIcon","radioCheckmarksUncheckedIcon","labelClassName","contentWrapperClassName","iconWrapperClassName","checkedOptionClassName","uncheckedOptionClassName","hasCheckedIcon","disabled"]),I=v&&g;return(0,r.jsxs)("label",(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){c(e,t,n[t])})}return e}({htmlFor:f},N),n=n={className:(0,i.A)("m-0 flex w-full items-center justify-between border",(c(o={"hover:bg-tertiary":!L,"bg-selector-active border-secondary text-selector-active drop-shadow":p,"bg-primary border-selector-inactive text-default":!p&&!L,"rounded-md px-3.5 py-2.5":"sm"===h,"rounded-lg px-5 py-4":"md"===h},void 0===S?"":S,p&&!L),c(o,void 0===k?"":k,!p&&!L),c(o,"bg-primary border-disabled text-disabled cursor-not-allowed",L),o),void 0===C?"":C),children:[(0,r.jsxs)("div",{className:(0,i.A)("mb-0 w-full",{"flex-1":!I,"flex items-center gap-3":I},void 0===w?"":w),children:[x,I&&(0,r.jsx)("span",{className:void 0===O?"":O,children:(0,r.jsx)(a.JO,{type:v,size:g,className:(0,i.A)({"!h-4 !w-4":16===g,"!h-5 !w-5":20===g,"text-darkest":p})})}),"string"==typeof u?(0,r.jsx)(l.Z.LabelSm,{weight:"medium",children:(0,r.jsxs)("span",{className:(0,i.A)({"text-selector-active":p,"text-default":!p},A&&x?"flex justify-center items-center gap-2 py-1":""),children:[A&&x&&(0,r.jsx)(s,{isChecked:p,hasRadioCheckmarks:y,radioCheckmarksCheckedIcon:j,radioCheckmarksUncheckedIcon:_}),u]})}):u]}),A&&!x&&(0,r.jsx)(s,{isChecked:p,hasRadioCheckmarks:y}),(0,r.jsx)("input",{className:"hidden",type:"radio",name:d,id:f,onChange:function(e){return m(e.target.checked?b:null)},disabled:L})]},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))};function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var f=function(e){var t,n=e.name,a=e.options,l=e.defaultChecked,s=e.onChange,c=e.size,f=void 0===c?"md":c,p=e.hasRadioCheckmarks,m=void 0!==p&&p,b=e.radioCheckmarksCheckedIcon,h=e.radioCheckmarksUncheckedIcon,y=e.hasCheckedIcon,v=void 0===y||y,g=e.shouldShowInlineOptions,x=void 0!==g&&g,j=e.checkedOptionClassName,_=void 0===j?"":j,C=e.uncheckedOptionClassName,w=void 0===C?"":C,O=e.Separator,S=e.wrapperClassName,k=(t=(0,o.useState)(l),function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),i.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return d(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),P=k[0],A=k[1];return(0,o.useEffect)(function(){P&&s&&s(P)},[s,P]),(0,r.jsx)("div",{className:(0,i.A)("flex",{"flex-col gap-3":!x,"flex-row justify-center gap-4 text-center":x},S),children:a.map(function(e,t){var i=e.value,l=e.label,s=e.icon,c=e.image,d=e.iconSize,p=e.disabled,y=e.iconWrapperClassName,g=e.contentWrapperClassName,x=e.labelClassName;return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(u,{"data-testid":"radio-button-group-".concat(t),isChecked:i===P,onChange:A,label:l,name:n,id:"".concat(n,"-").concat(t),value:i,size:f,hasRadioCheckmarks:m,hasCheckedIcon:v,icon:s,image:c,iconSize:d,checkedOptionClassName:_,uncheckedOptionClassName:w,disabled:!!p,iconWrapperClassName:y,contentWrapperClassName:g,labelClassName:x,radioCheckmarksCheckedIcon:b,radioCheckmarksUncheckedIcon:h}),t<a.length-1&&O]},i)})})}},526863:function(e,t,n){n.d(t,{D:()=>P});var r=n(683551),o=n(314121),i=n(100334),a=n(870879),l=n(834515),s=n(435534),c=n(263285),u=n(169530),d=n(244289),f=n(640494),p=n(543109),m=n(40297),b=n(161154),h=(0,n(920255).Ue)(function(e){return{isDirty:!1,setIsDirty:function(t){return e({isDirty:t})}}}),y=n(363228),v=n(379600),g=n.n(v),x=n(711866),j=(0,i.t)("dynamic_vars_groups.event"),_=[{group:(0,i.t)("dynamic_vars_groups.community"),label:"{{community.name}}",value:"{{community.name}}"},{group:j,label:"{{event.name}}",value:"{{event.name}}"},{group:j,label:"{{event.date}}",value:"{{event.date}}"},{group:j,label:"{{event.time}}",value:"{{event.time}}"},{group:j,label:"{{event.url}}",value:"{{event.url}}"},{group:j,label:"{{event.location}}",value:"{{event.location}}"}];function C(e){var t=e.editor,n=e.isEditorFocused,o=e.portalId;if(!t)return null;var i=g()(n?"text-default dark:text-dark":"text-lightest dark:text-default");return(0,r.jsx)(y.h,{selectorQuery:"#".concat(o),children:(0,r.jsx)(x.m,{wrapperClassName:"w-80 pt-3",optionsClassName:"bottom-8",className:i,variables:_,editor:t,tooltipPlacement:"top"})})}var w=[{label:(0,i.t)("scheduled_emails.form.going"),value:"going"},{label:(0,i.t)("scheduled_emails.form.not_going"),value:"not_going"},{label:(0,i.t)("scheduled_emails.form.invited"),value:"invited"}],O=function(e){var t=e.isDateDisabled,n=e.maxDate,a=e.minDate,l=h().setIsDirty,c=(0,d.Gc)(),u=c.formState.isDirty,y=c.setError,v=c.clearErrors;(0,o.useEffect)(function(){l(u)},[l,u]);var g=function(e){if(e)return void v("email_body");y("email_body",{type:"Invalid input",message:(0,i.t)("scheduled_emails.form.email_body_required_error")})};return(0,r.jsxs)("div",{className:"mt-2 flex flex-col gap-6",children:[(0,r.jsx)(s.l.Item,{hideBorder:!0,name:"scheduled_at",hideLabel:!0,rules:{required:(0,i.t)("scheduled_emails.form.reminder_date_required_error")},className:"!p-0",errorClassName:"text-v2-danger",children:(0,r.jsx)(m.x,{className:"flex-col gap-6 md:flex-row",classNameDate:"w-full",classNameTime:"w-full",labelDate:(0,i.t)("scheduled_emails.form.reminder_date_title"),labelTime:(0,i.t)("scheduled_emails.form.reminder_time_title"),name:"scheduled_at",datePlaceholder:(0,i.t)("scheduled_emails.form.reminder_date_placeholder"),timePlaceholder:(0,i.t)("scheduled_emails.form.reminder_time_placeholder"),minDate:a,maxDate:n,disabled:void 0!==t&&t})}),(0,r.jsx)(s.l.Item,{name:"metadata.send_to",label:(0,i.t)("scheduled_emails.form.send_to"),labelClassName:"text-sm",className:"!p-0",hideDescription:!0,hideBorder:!0,errorClassName:"text-v2-danger",children:(0,r.jsx)(b.i,{name:"metadata.send_to",fullWidth:!0,options:w})}),(0,r.jsx)(s.l.Item,{name:"subject",label:(0,i.t)("scheduled_emails.form.subject"),labelClassName:"text-sm",className:"!p-0",hideBorder:!0,hideDescription:!0,placeholder:(0,i.t)("scheduled_emails.form.subject_placeholder"),rules:{required:(0,i.t)("scheduled_emails.form.subject_required_error")},errorClassName:"text-v2-danger",children:(0,r.jsx)(s.l.Input,{type:"text"})}),(0,r.jsx)(s.l.Item,{name:"email_body",label:(0,i.t)("scheduled_emails.form.message_body"),labelClassName:"text-sm",className:"flex h-full grow flex-col !p-0",hideBorder:!0,hideDescription:!0,errorClassName:"text-v2-danger",children:(0,r.jsxs)("div",{className:"form-control relative h-full grow py-3",children:[(0,r.jsx)(p.$,{className:"h-full overflow-y-scroll",editorClassName:"h-full overflow-y-scroll",placeholder:(0,i.t)("scheduled_emails.form.message_body"),name:"email_body[body]",disabledExtensions:["mention","poll","cta"],disabledSlashMenuCategories:["Embed"],shouldPreviewFilesAsLinks:!0,shouldShowTextModifiersMenu:!1,toolbars:[{portalId:"drip-email-notification-variables-toolbar",component:C}],onChangeCallback:function(e){g((0,f.NU)({body:e}))}}),(0,r.jsx)("div",{id:"drip-email-notification-variables-toolbar"})]})})]})},S=n(608303);function k(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){n(e);return}l.done?t(s):Promise.resolve(s).then(r,o)}var P=function(e){var t=e.isDateDisabled,n=e.scheduledEmail,d=e.isOpen,f=e.onClose,p=e.maxDate,m=e.minDate,b=(0,o.useRef)(null),y=(0,o.useRef)(null),v=(0,u.pm)().error,g=h(),x=g.isDirty,j=g.setIsDirty,_=(0,S.T)(),C=_.saveScheduledEmail,w=_.isLoading,P=n.id||"",A=function(){(!x||confirm((0,i.t)("prevent_accidental_leave_message")))&&f()};return(0,r.jsx)(s.l,{id:"edit-scheduled-email-".concat(P),onSubmit:function(e){var t;return(t=function(){return function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(s){var c=[l,s];if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,C(e)];case 1:return t.sent(),j(!1),f(),[3,3];case 2:return console.error(t.sent()),[3,3];case 3:return[2]}})},function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(e){k(i,r,o,a,l,"next",e)}function l(e){k(i,r,o,a,l,"throw",e)}a(void 0)})})()},defaultValues:n,shouldStopPropagation:!0,triggerFormSubmitRef:y,children:(0,r.jsxs)(c.u_,{isOpen:d,onClose:A,contentPortalId:"scheduled-email-type-picker-portal",initialFocus:b,className:"!h-full",children:[(0,r.jsx)(c.u_.Overlay,{}),(0,r.jsxs)(c.u_.Content,{size:"lg",children:[(0,r.jsxs)(c.u_.Header,{children:[(0,r.jsx)(c.u_.Title,{size:"md",children:(0,i.t)("scheduled_emails.form.title")}),(0,r.jsx)(c.u_.HeaderActions,{children:(0,r.jsx)(c.u_.CloseButton,{onClick:A})})]}),(0,r.jsx)(c.u_.Body,{children:(0,r.jsx)(O,{isDateDisabled:void 0!==t&&t,maxDate:p,minDate:m})}),(0,r.jsxs)(c.u_.Footer,{className:"flex justify-end",children:[!w&&(0,r.jsx)(a.z,{type:"button",variant:"secondary",className:"mr-2",onClick:A,children:(0,i.t)("cancel")}),(0,r.jsxs)(l._,{type:"button",variant:"circle",isDisabled:w,onClick:function(){var e;null==(e=y.current)||e.call(y).catch(function(){v((0,i.t)("events.scheduled_email_save_error"))})},children:[!w&&(0,i.t)("save"),w&&(0,i.t)("saving")]})]})]})]})})}},608303:function(e,t,n){n.d(t,{T:()=>u});var r=n(714844),o=n(100334),i=n(547550),a=n(904812),l=n(169530);function s(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){n(e);return}l.done?t(s):Promise.resolve(s).then(r,o)}var c=function(e){var t;return(null==e?void 0:e.errorDetails)||(null==e||null==(t=e.body)?void 0:t.error_details)||(0,o.t)("request_failure_message")},u=function(){var e=(0,l.pm)(),t=(0,r.useMutation)(function(e){return(0,i.Cu)(a.av.scheduledEmails.create({}),e)},{onSuccess:function(){e.success((0,o.t)("changes_saved"))},onError:function(t){e.error(c(t))}}),n=t.mutateAsync,u=t.isLoading,d=(0,r.useMutation)(function(e){return(0,i.aU)(a.av.scheduledEmails.update({id:e.id}),e)},{onSuccess:function(){e.success((0,o.t)("changes_saved"))},onError:function(t){e.error(c(t))}}),f=d.mutateAsync,p=d.isLoading,m=(0,r.useMutation)(function(e){return(0,i.pC)(a.av.scheduledEmails.destroy({id:e.id}),e)},{onSuccess:function(){e.success((0,o.t)("scheduled_emails.delete.record_deleted"))},onError:function(t){e.error(c(t))}});return{createScheduledEmail:n,getScheduledEmailList:function(e){return(0,i.UT)(a.av.scheduledEmails.index(e))},updateScheduledEmail:f,destroyScheduledEmail:m.mutateAsync,isLoading:u||p,isDestroyLoading:m.isLoading,saveScheduledEmail:function(e){var t;return(t=function(){return function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(s){var c=[l,s];if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}(this,function(t){switch(t.label){case 0:if(!(null==e?void 0:e.id))return[3,2];return[4,f(e)];case 1:return t.sent(),[3,4];case 2:return[4,n(e)];case 3:t.sent(),t.label=4;case 4:return[2]}})},function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(e){s(i,r,o,a,l,"next",e)}function l(e){s(i,r,o,a,l,"throw",e)}a(void 0)})})()}}}},701764:function(e,t,n){n.d(t,{N:()=>d,h:()=>p});var r=n(683551),o=n(338664),i=n.n(o),a=n(100334),l=n(583972),s=n(527804),c=n(102965),u=c.Lt.ItemWithLink,d={DESKTOP:"desktop",TABLET:"tablet",MOBILE:"mobile"},f=[{label:(0,a.t)("desktop"),value:d.DESKTOP,icon:"16-desktop",selectedIcon:"20-desktop"},{label:(0,a.t)("tablet"),value:d.TABLET,icon:"16-tablet",selectedIcon:"20-tablet"},{label:(0,a.t)("mobile"),value:d.MOBILE,icon:"16-mobile",selectedIcon:"20-mobile"}],p=function(e){var t=e.selected,n=void 0===t?d.DESKTOP:t,o=e.onSelect,p=f.find(function(e){return e.value===n})||f[0],m=p.label,b=p.selectedIcon;return(0,r.jsx)(c.Lt,{buttonWrapperClassName:"flex items-center",button:(0,r.jsx)(s.T,{content:(0,a.t)("change_preview"),popperOptions:{placement:"bottom"},children:(0,r.jsxs)("div",{className:"text-dark flex size-7 items-center p-1",children:[(0,r.jsx)(l.JO,{size:20,type:b}),(0,r.jsx)("span",{className:"sr-only",children:m})]})}),children:f.map(function(e){return(0,r.jsx)(u,{value:e.value,onClick:function(){i()(o)&&o(e.value)},linkType:"button",children:(0,r.jsxs)("div",{className:"text-dark flex items-center justify-between",children:[(0,r.jsxs)("span",{children:[(0,r.jsx)(l.JO,{size:16,type:e.icon,className:"mr-2.5 !w-4"}),e.label]}),e.value===n&&(0,r.jsx)(l.JO,{size:12,type:"12-check-circle",className:"!w-3"})]})},e.value)})})}},867566:function(e,t,n){n.d(t,{h:()=>a});var r=n(683551),o=n(379600),i=n.n(o),a=function(e){var t,n,o=e.className,a=e.children,l=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["className","children"]);return(0,r.jsx)("button",(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({type:"button",className:i()("hover:bg-secondary size-5 items-center justify-center rounded-sm transition-colors",o)},l),n=n={children:a},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}},374204:function(e,t,n){n.d(t,{M:()=>O});var r=n(683551),o=n(314121),i=n(214813),a=n(244289),l=n(379600),s=n.n(l),c=n(100334),u=n(101329),d=n(241394),f=n(903431),p=n(583972),m=n(189713),b=function(e){var t=e.selectedSpace,n=e.toggleDropdown,o=e.shouldShowEmoji,i=e.value,a=e.shouldDisplayHomepage,l=e.defaultLabel,u=void 0===l?(0,c.t)("search_space"):l,b=(null==t?void 0:t.name)||"",h=a&&0===i?(0,c.t)("feed"):"",y=(0,d.TC)().currentAppearance;return(0,r.jsxs)("button",{type:"button",className:"react-space-selector__space-btn",onClick:n,children:[(0,r.jsxs)("div",{className:s()("react-space-selector__space-name",{"flex gap-2.5":o}),children:[o&&t&&(0,r.jsx)(f.S,{className:"flex !h-5 !w-5 items-center justify-center",emoji:t.emoji,appearance:y,customEmojiUrl:t.custom_emoji_url,customEmojiDarkUrl:t.custom_emoji_dark_url}),(0,r.jsx)(m.Z.LabelMd,{children:b||h||u})]})," ",(0,r.jsx)("div",{className:"text-dark flex",children:(0,r.jsx)(p.JO,{type:"20-chevron-down-sm",size:20})})]})},h=n(369296),y=n.n(h),v=n(886120),g=function(){return(0,r.jsx)("div",{className:"mt-4 px-5 py-2",children:(0,r.jsx)(m.Z.LabelSm,{color:"text-light",children:(0,c.t)("no_matches_found")})})},x=function(e){var t=e.spaces,n=e.handleSpace,o=(0,d.TC)().currentAppearance;return(0,r.jsx)("ul",{className:"react-space-selector-dropdown__list",children:t.map(function(e){var t;return(0,r.jsx)("li",{children:(0,r.jsxs)("button",{type:"button",className:"w-full text-left",onClick:function(t){return n(t,e.id)},children:[(0,r.jsx)(f.S,{className:"react-space-selector-dropdown__icon",emoji:null!=(t=e.emoji)?t:"",appearance:o,customEmojiUrl:e.custom_emoji_url,customEmojiDarkUrl:e.custom_emoji_dark_url}),(0,r.jsx)("span",{className:"react-space-selector-dropdown__name",children:e.name})]})},e.id)})})};function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var C=function(e){var t=e.open,n=e.handleClose,a=e.onChange,l=e.spaces,d=void 0===l?[]:l,f=e.shouldDisplayHomepage,m=e.className,b=e.placeholder,h=void 0===b?(0,c.t)("search_space_placeholder"):b,j=(0,v.k)([t]),C=_((0,o.useState)(""),2),w=C[0],O=C[1],S=function(e,t){null==a||a(t),null==n||n()},k=d;w&&(k=y().go(w,d,{keys:["name","space_group_name"]}).map(function(e){return e.obj}));var P=(0,i.groupBy)(k,"space_group_name");return(0,r.jsxs)(u.o,{open:t,handleClose:n,className:s()("react-space-selector-dropdown__wrapper",m),children:[(0,r.jsx)("div",{className:"p-4 pb-0",children:(0,r.jsx)("input",{id:"space-search",type:"text","aria-label":(0,c.t)("search_space"),ref:j,className:"react-space-selector-dropdown__input placeholder:text-light placeholder:opacity-100",placeholder:h,onChange:function(e){O((0,i.trim)(e.target.value))}})}),f&&(0,r.jsx)("ul",{className:"react-space-selector-dropdown__list mt-4",children:(0,r.jsx)("li",{className:"!p-0",children:(0,r.jsxs)("button",{type:"button",className:"flex w-full items-center gap-2 px-5 py-2",onClick:function(e){return S(e,0)},children:[(0,r.jsx)(p.JO,{type:"20-feed-v3",size:20}),(0,r.jsx)("span",{className:"react-space-selector-dropdown__name",children:(0,c.t)("feed")})]})})}),(0,i.map)(Object.entries(P),function(e){var t=_(e,2),n=t[0],o=t[1];return(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"react-space-selector-dropdown__category",children:n}),(0,r.jsx)(x,{spaces:o,handleSpace:S})]},n)}),0===k.length&&(0,r.jsx)(g,{})]})},w=function(e){var t=e.spaces,n=e.onChange,o=e.value,a=e.variant,l=e.containerClassname,d=e.dropdownClassName,f=e.shouldShowEmoji,p=e.defaultButtonLabel,m=void 0===p?(0,c.t)("select_space"):p,h=e.placeholder,y=void 0===h?(0,c.t)("search_space_placeholder"):h,v=e.customButton,g=e.shouldDisplayHomepage,x=(0,u.x)(!1),j=x.open,_=x.toggleDropdown,w=x.handleClose,O=null!=o?(0,i.find)(t,{id:o}):void 0,S=s()("react-space-selector",{"form-control":"form-input"===a,"react-space-selector--open":j},l);return(0,r.jsxs)("div",{className:S,"data-testid":"space-selector",children:[(0,r.jsx)(v||b,{selectedSpace:O,toggleDropdown:_,shouldShowEmoji:f,defaultLabel:m,variant:a,shouldDisplayHomepage:g,value:null!=o?o:void 0}),(0,r.jsx)(C,{placeholder:y,handleClose:w,open:j,onChange:n,spaces:t,className:d,shouldDisplayHomepage:g})]})},O=function(e){var t=e.name,n=void 0===t?"":t,l=e.rules,s=e.defaultValue,c=e.onChange,u=void 0===c?i.noop:c,d=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["name","rules","defaultValue","onChange"]),f=(0,a.Gc)(),p=f.control,m=f.setValue;return(0,o.useEffect)(function(){s&&m(n,s)},[s]),(0,r.jsx)(a.Qr,{control:p,name:n,rules:void 0===l?{}:l,defaultValue:s,render:function(e){var t,o,i=e.field;return(0,r.jsx)(w,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},d),o=o={value:i.value,onChange:function(e){i.onChange(e),null==u||u(),m(n,e,{shouldDirty:!0,shouldTouch:!0,shouldValidate:!0})}},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(o)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}),t))}})}},680482:function(e,t,n){n.d(t,{l:()=>s});var r=n(683551),o=n(214813),i=n(100334),a=n(551674),l=n(304021),s=function(e){var t,n,s=e.options,c=e.onSelect,u=void 0===c?o.noop:c,d=e.placeholder,f=void 0===d?(0,i.t)("select_an_option"):d,p=e.emptyMessage,m=void 0===p?(0,i.t)("no_options"):p,b=e.filterBy,h=void 0===b?l.fv:b,y=e.groupBy,v=e.displayValue,g=void 0===v?function(e){return(null==e?void 0:e.label)||""}:v,x=e.children,j=e.buttonRef,_=e.optionsClassName,C=e.shouldRenderPortal,w=(0,l.eq)({options:void 0===s?[]:s,onChange:u,filterBy:h,placeholder:f,optionsClassName:_,displayValue:g,groupByValue:void 0===y?void 0:y}),O=w.dropdownProps,S=w.searchResults,k=w.hasNoResults,P=w.groupedSearchResults,A=w.hasGroups;return(0,r.jsxs)(l.NH,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},O),n=n={buttonRef:j,button:x,shouldRenderPortal:void 0!==C&&C,children:[k&&(0,r.jsx)(l.NH.EmptyOption,{label:m}),!k&&!A&&(0,r.jsx)(a.EH,{options:S}),!k&&A&&(0,r.jsx)(a.jE,{groupedOptions:P})]},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))};n(583972),n(189713)},256636:function(e,t,n){n.d(t,{$B:()=>y,B7:()=>L,Bb:()=>d,Bg:()=>a,EK:()=>f,Ee:()=>v,Ey:()=>I,Hw:()=>C,Q3:()=>p,V6:()=>m,Xt:()=>s,Z8:()=>T,aV:()=>l,cx:()=>h,dy:()=>u,eC:()=>E,fG:()=>_,hx:()=>x,iz:()=>b,mE:()=>M,mr:()=>k,nF:()=>j,nk:()=>g,oW:()=>N,pf:()=>c,s1:()=>P,tL:()=>A,tV:()=>w,uD:()=>S,yF:()=>O});var r=n(683551),o=n(682240),i=function(e){var t=e.width,n=e.height,o=e.viewBox,i=e.children,a=e.dOne,l=e.dTwo,s=e.dThree,c=e.dFour,u=e.dFive,d=e.dSix;return(0,r.jsxs)("svg",{width:t,height:n,viewBox:o,fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[[a,l,s,c,u,d].map(function(e,t){if(e)return(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:e,fill:"#8D9CAE"},t)}),i]})},a=function(){return(0,r.jsx)(i,{width:"20",height:"26",viewBox:"0 0 20 26",dOne:"M0 0H6.41485V1.06838H5.42198C4.805 1.06838 4.30484 1.56854 4.30484 2.18551V6.42305H10.7187V2.18551C10.7187 1.56854 10.2185 1.06838 9.60157 1.06838H8.58509V0H15V1.06838H13.9945C13.3775 1.06838 12.8774 1.56854 12.8774 2.18551V12.8037C12.8774 13.4206 13.3775 13.9208 13.9945 13.9208H15V15H8.58509V13.9208H9.60157C10.2185 13.9208 10.7187 13.4206 10.7187 12.8037V7.5H4.30484V12.8037C4.30484 13.4206 4.805 13.9208 5.42198 13.9208H6.41485V15H0V13.9208H1.031C1.64798 13.9208 2.14814 13.4206 2.14814 12.8037V2.18552C2.14814 1.56854 1.64798 1.06838 1.031 1.06838H0V0ZM19.1 19.5C19.5971 19.5 20 19.9029 20 20.4C20 20.8971 19.5971 21.3 19.1 21.3H0.899999C0.402943 21.3 0 20.8971 0 20.4C0 19.9029 0.402944 19.5 0.9 19.5H19.1ZM17 24.9C17 24.4029 16.5971 24 16.1 24H0.9C0.402944 24 0 24.4029 0 24.9C0 25.3971 0.402943 25.8 0.899999 25.8H16.1C16.5971 25.8 17 25.3971 17 24.9Z",dTwo:"M16 14.1774H16.37C16.6351 14.1774 16.85 13.9625 16.85 13.6974V10.835C16.85 10.5699 16.6351 10.355 16.37 10.355H16.0171V9.5L18.185 9.5V13.6974C18.185 13.9625 18.3999 14.1774 18.665 14.1774H19V15H16V14.1774Z"})},l=function(){return(0,r.jsxs)(i,{width:"22",height:"24",viewBox:"0 0 22 24",dOne:"M21.0392 0.693359C21.5363 0.693359 21.9392 1.0963 21.9392 1.59336C21.9392 2.05218 21.5959 2.43081 21.1521 2.48635L21.0392 2.49336H10.8968C10.4015 2.49336 10 2.09186 10 1.59658V1.59658C10 1.10153 10.4012 0.700117 10.8962 0.699802L21.0392 0.693359Z",dTwo:"M21.0392 16.6934C21.5363 16.6934 21.9392 17.0963 21.9392 17.5934C21.9392 18.0522 21.5959 18.4308 21.1521 18.4863L21.0392 18.4934H10.8968C10.4015 18.4934 10 18.0919 10 17.5966V17.5966C10 17.1015 10.4012 16.7001 10.8962 16.6998L21.0392 16.6934Z",dThree:"M18.1032 21C18.5985 21 19 21.4015 19 21.8968V21.8968C19 22.3919 18.5989 22.7933 18.1039 22.7937L10.9004 22.7993C10.4032 22.7997 10 22.3968 10 21.8996V21.8996C10 21.4028 10.4028 21 10.8996 21H18.1032Z",dFour:"M18.1032 5C18.5985 5 19 5.40153 19 5.89684V5.89684C19 6.39188 18.5989 6.7933 18.1039 6.79369L10.9004 6.7993C10.4032 6.79969 10 6.39679 10 5.89965V5.89965C10 5.40279 10.4028 5 10.8996 5H18.1032Z",children:[(0,r.jsx)("circle",{cx:"3.5",cy:"3.80005",r:"3.5",fill:"#8A94A6"}),(0,r.jsx)("circle",{cx:"3.5",cy:"19.8",r:"3.5",fill:"#8A94A6"})]})},s=function(){return(0,r.jsx)(i,{width:"22",height:"24",viewBox:"0 0 22 24",dOne:"M21.0392 0.693115C21.5363 0.693115 21.9392 1.09606 21.9392 1.59312C21.9392 2.05194 21.5959 2.43057 21.1521 2.4861L21.0392 2.49312H9.89676C9.40149 2.49312 9 2.09162 9 1.59636V1.59636C9 1.1013 9.40117 0.699894 9.89623 0.699605L21.0392 0.693115Z",dTwo:"M21.0392 16.6931C21.5363 16.6931 21.9392 17.0961 21.9392 17.5931C21.9392 18.0519 21.5959 18.4306 21.1521 18.4861L21.0392 18.4931H9.89676C9.40149 18.4931 9 18.0916 9 17.5964V17.5964C9 17.1013 9.40117 16.6999 9.89623 16.6996L21.0392 16.6931Z",dThree:"M18.1032 21C18.5985 21 19 21.4015 19 21.8968V21.8968C19 22.3919 18.5989 22.7933 18.1038 22.7936L9.90032 22.7994C9.40319 22.7997 9 22.3968 9 21.8997V21.8997C9 21.4028 9.4028 21 9.89968 21H18.1032Z",dFour:"M18.1032 5C18.5985 5 19 5.40151 19 5.89681V5.89681C19 6.39186 18.5989 6.79327 18.1038 6.79362L9.90032 6.79937C9.40319 6.79972 9 6.39681 9 5.89968V5.89968C9 5.4028 9.4028 5 9.89968 5H18.1032Z",dFive:"M1 6.9032H2.15C2.42614 6.9032 2.65 6.67934 2.65 6.4032V1.45979L1.02848 1.13999L1.18513 0H4.40443V6.4032C4.40443 6.67934 4.62829 6.9032 4.90443 6.9032H6V8H1V6.9032Z",dSix:"M0.089531 24V22.7416L1.80483 20.9675C3.09664 19.6414 3.64661 19.1002 3.64661 18.3289C3.64661 17.8282 3.41639 17.4629 2.73851 17.4629C2.03363 17.4629 1.73946 17.7064 1.73946 18.6672L0 18.5048C0.0127901 16.3533 1.5604 16 2.90336 16C4.88726 16 5.59072 16.8931 5.59072 18.1665C5.59072 19.4385 4.75936 20.2774 3.82568 21.2246L2.37897 22.6875H4.26054C4.38844 22.6875 4.4396 22.6604 4.46518 22.5251L4.64424 21.4561H6V24H0.089531V24Z"})},c=function(){return(0,r.jsx)(i,{width:"20",height:"26",viewBox:"0 0 20 26",dOne:"M7.9 0.699951C12.1807 0.699951 15.6662 4.10469 15.7962 8.35389L15.8 8.59995V9.76662C15.8 11.3376 14.5265 12.6111 12.9556 12.6111C12.0828 12.6111 11.3019 12.218 10.7801 11.5993L10.687 11.483L10.6695 11.5015C9.99454 12.1459 9.09501 12.5573 8.10019 12.6062L7.9 12.6111C5.68472 12.6111 3.88889 10.8152 3.88889 8.59995C3.88889 6.38468 5.68472 4.58884 7.9 4.58884C10.0481 4.58884 11.8019 6.27749 11.9062 8.39976L11.9111 8.59995V9.76662C11.9111 10.3434 12.3787 10.8111 12.9556 10.8111C13.4939 10.8111 13.9372 10.4037 13.9939 9.88042L14 9.76662V8.59995C14 5.23101 11.2689 2.49995 7.9 2.49995C4.53106 2.49995 1.8 5.23101 1.8 8.59995C1.8 10.6372 2.81705 12.54 4.51097 13.6719C6.20489 14.8038 8.35205 15.0153 10.2321 14.2366C10.635 14.0685 11.0187 13.8575 11.3764 13.6072C11.7837 13.3222 12.3448 13.4214 12.6298 13.8287C12.9147 14.236 12.8155 14.7971 12.4083 15.0821C11.9446 15.4064 11.4474 15.6799 10.9231 15.8987C8.48545 16.9083 5.7047 16.6344 3.51093 15.1685C1.31716 13.7027 0 11.2384 0 8.59995C0 4.2369 3.53695 0.699951 7.9 0.699951ZM7.9 6.38884C6.67884 6.38884 5.68889 7.37879 5.68889 8.59995C5.68889 9.82111 6.67884 10.8111 7.9 10.8111C9.06807 10.8111 10.0246 9.90532 10.1056 8.75786L10.1111 8.59995L10.1056 8.44204C10.0246 7.29458 9.06807 6.38884 7.9 6.38884ZM19.1 20.7C19.5971 20.7 20 21.1029 20 21.6C20 22.097 19.5971 22.5 19.1 22.5H0.899999C0.402943 22.5 0 22.097 0 21.6C0 21.1029 0.402944 20.7 0.9 20.7H19.1ZM16.1 25.2C16.5971 25.2 17 25.6029 17 26.1C17 26.597 16.5971 27 16.1 27H0.899999C0.402943 27 0 26.597 0 26.1C0 25.6029 0.402944 25.2 0.9 25.2H16.1Z"})},u=function(){return(0,r.jsxs)(i,{width:"20",height:"26",viewBox:"0 0 20 26",dOne:"M20.1 21.7C20.5971 21.7 21 22.1029 21 22.6V22.6C21 23.097 20.5971 23.5 20.1 23.5H1.9C1.40294 23.5 1 23.097 1 22.6V22.6C1 22.1029 1.40294 21.7 1.9 21.7L20.1 21.7Z",dTwo:"M17.1 26.2C17.5971 26.2 18 26.6029 18 27.1V27.1C18 27.597 17.5971 28 17.1 28H1.9C1.40294 28 1 27.597 1 27.1V27.1C1 26.6029 1.40294 26.2 1.9 26.2H17.1Z",children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17 9C17 13.4182 13.4182 17 9 17C4.58182 17 1 13.4182 1 9C1 4.58182 4.58182 1 9 1C13.4182 1 17 4.58182 17 9V9Z",stroke:"#8A94A6",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M6.09082 10.4546C6.09082 12.0611 7.39337 13.3637 8.99991 13.3637C10.6065 13.3637 11.909 12.0611 11.909 10.4546",stroke:"#8A94A6",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("circle",{cx:"6.09961",cy:"6.8999",r:"1.5",fill:"#8A94A6"}),(0,r.jsx)("circle",{cx:"11.9004",cy:"6.8999",r:"1.5",fill:"#8A94A6"})]})},d=function(){return(0,r.jsx)(i,{width:"20",height:"26",viewBox:"0 0 20 26",dOne:"M11.5311 0H4.71154C2.10943 0 0 2.05325 0 4.58606V21.3618C0 23.8855 2.09494 25.935 4.68772 25.9478L15.2646 25.9998C17.7964 26.0123 19.8718 24.0787 19.9943 21.6413L20 21.4138V8.84039C20 7.94918 19.665 7.08876 19.0582 6.42136L14.3394 1.23111C13.6276 0.448238 12.6051 0 11.5311 0ZM4.71154 1.68467H11.5311C12.1094 1.68467 12.66 1.92603 13.0432 2.34758L17.7621 7.53784C18.0889 7.8972 18.2692 8.3605 18.2692 8.84039L18.2692 21.4285C18.2609 23.0309 16.9196 24.3233 15.2734 24.3152L4.69647 24.2631C3.05614 24.255 1.73077 22.9584 1.73077 21.3618V4.58606C1.73077 2.98367 3.0653 1.68467 4.71154 1.68467ZM12.1569 9.15367C12.654 9.15367 13.0569 9.55661 13.0569 10.0537C13.0569 10.5125 12.7136 10.8911 12.2698 10.9467L12.1569 10.9537H11.2949L11.2953 16.5248C11.2953 16.5436 11.2948 16.5624 11.2936 16.5809C11.2964 16.6215 11.2979 16.6625 11.2979 16.7037C11.2979 17.7972 10.2905 18.6837 9.04786 18.6837C7.80522 18.6837 6.79786 17.7972 6.79786 16.7037C6.79786 15.6102 7.80522 14.7237 9.04786 14.7237C9.20108 14.7237 9.35072 14.7372 9.49533 14.7628V10.0537C9.49533 9.59484 9.83867 9.21621 10.2824 9.16068L10.3953 9.15367H12.1569Z"})},f=function(){return(0,r.jsx)(i,{width:"20",height:"26",viewBox:"0 0 20 26",dOne:"M4.71154 0H11.5311C12.6051 0 13.6276 0.448238 14.3394 1.23111L19.0582 6.42136C19.665 7.08876 20 7.94918 20 8.84039V21.4138L19.9943 21.6413C19.8718 24.0787 17.7964 26.0123 15.2646 25.9998L4.68772 25.9478C2.09494 25.935 0 23.8855 0 21.3618V4.58606C0 2.05325 2.10943 0 4.71154 0ZM11.5311 1.68467H4.71154C3.0653 1.68467 1.73077 2.98367 1.73077 4.58606V21.3618C1.73077 22.9584 3.05614 24.255 4.69647 24.2631L15.2734 24.3152C16.9196 24.3233 18.2609 23.0309 18.2692 21.4285L18.2692 8.84039C18.2692 8.3605 18.0889 7.8972 17.7621 7.53784L13.0432 2.34758C12.66 1.92603 12.1094 1.68467 11.5311 1.68467ZM7.465 12.1714C7.81214 11.8157 8.38195 11.8087 8.7377 12.1559C9.0638 12.4741 9.09684 12.9794 8.83269 13.3354L8.75328 13.4286L7.0579 15.166L8.75328 16.9044C9.0715 17.2305 9.09215 17.7365 8.81937 18.0859L8.7377 18.1771C8.4116 18.4953 7.90562 18.516 7.55617 18.2432L7.465 18.1615L5.15576 15.795C4.84304 15.4746 4.81699 14.9791 5.07758 14.6294L5.15576 14.5379L7.465 12.1714ZM11.1715 12.1559C11.5272 11.8087 12.097 11.8157 12.4442 12.1714L14.7534 14.5379L14.8316 14.6294C15.0922 14.9791 15.0661 15.4746 14.7534 15.795L12.4442 18.1615L12.353 18.2432C12.0036 18.516 11.4976 18.4953 11.1715 18.1771L11.0898 18.0859C10.817 17.7365 10.8377 17.2305 11.1559 16.9044L12.8513 15.166L11.1559 13.4286L11.0765 13.3354C10.8123 12.9794 10.8454 12.4741 11.1715 12.1559Z"})},p=function(){return(0,r.jsx)(i,{width:"20",height:"26",viewBox:"0 0 20 26",dOne:"M11.5311 0H4.71154C2.10943 0 0 2.05325 0 4.58606V21.3618C0 23.8855 2.09494 25.935 4.68772 25.9478L15.2646 25.9998C17.7964 26.0123 19.8718 24.0787 19.9943 21.6413L20 21.4138V8.84039C20 7.94918 19.665 7.08876 19.0582 6.42136L14.3394 1.23111C13.6276 0.448238 12.6051 0 11.5311 0ZM4.71154 1.68467H11.5311C12.1094 1.68467 12.66 1.92603 13.0432 2.34758L17.7621 7.53784C18.0889 7.8972 18.2692 8.3605 18.2692 8.84039L18.2692 21.4285C18.2609 23.0309 16.9196 24.3233 15.2734 24.3152L4.69647 24.2631C3.05614 24.255 1.73077 22.9584 1.73077 21.3618V4.58606C1.73077 2.98367 3.0653 1.68467 4.71154 1.68467ZM8.83737 12.0598C8.83737 12.0598 7.61687 9.21034 9.23935 8.93779C10.8618 8.66524 10.2464 11.936 10.2464 11.936C10.2464 11.936 10.5132 12.4771 10.9175 13.0721C11.3218 13.6672 11.7883 14.2054 11.7883 14.2054C11.7883 14.2054 12.6685 14.0636 13.1048 14.114C14.0079 14.2183 14.4248 14.735 14.2638 15.551C14.0902 16.4304 12.8587 16.6841 12.2031 16.3188C11.5474 15.9535 11.3098 15.7045 11.3098 15.7045C11.3098 15.7045 10.8522 15.7814 10.0865 16.0237C9.32079 16.266 8.57151 16.5709 8.57151 16.5709C8.57151 16.5709 7.18436 19.7617 5.74173 18.6126C5.09163 18.0948 5.21068 17.3085 5.74173 16.7235C6.37694 16.0237 7.52164 15.4982 7.56127 15.4982C7.59866 15.4982 7.91079 14.8221 8.40435 13.4363C8.54557 13.0398 8.83737 12.0598 8.83737 12.0598ZM9.66919 13.4037C9.66919 13.4037 9.55866 13.8342 9.41606 14.2475C9.27347 14.6608 9.07385 15.0913 9.07385 15.0913C9.07385 15.0913 9.42485 14.9403 9.81028 14.8159C10.1957 14.6915 10.5233 14.6127 10.5233 14.6127C10.5233 14.6127 10.2885 14.3115 10.0632 14.0032C9.83785 13.695 9.66919 13.4037 9.66919 13.4037Z"})},m=function(){return(0,r.jsx)(i,{width:"20",height:"26",viewBox:"0 0 20 26",dOne:"M19.1 19.7C19.5971 19.7 20 20.1029 20 20.6V20.6C20 21.097 19.5971 21.5 19.1 21.5H0.899999C0.402943 21.5 0 21.097 0 20.6V20.6C0 20.1029 0.402944 19.7 0.9 19.7L19.1 19.7Z",dTwo:"M16.1 24.2C16.5971 24.2 17 24.6029 17 25.1V25.1C17 25.597 16.5971 26 16.1 26H0.899999C0.402943 26 0 25.597 0 25.1V25.1C0 24.6029 0.402944 24.2 0.9 24.2H16.1Z",dThree:"M3.56322 6.56025C3.36445 6.56025 3.20103 6.40683 3.20546 6.20811C3.21656 5.7098 3.30561 4.79493 3.77449 4.21325C4.09653 3.81374 4.5272 3.53469 5.0665 3.37609C5.14586 3.35275 5.26229 3.32841 5.37639 3.30716C5.58751 3.26785 5.7452 3.0865 5.7452 2.87175V0.42306C5.7452 0.189974 5.56046 -0.00245902 5.32744 0.00314648C5.22556 0.00559729 5.12212 0.010882 5.03908 0.0211562C3.05319 0.266861 0 2.11058 0 5.82325C0 8.87381 0 11.8152 0 13.1905C0 13.6385 0.363248 14 0.811338 14H5.722C6.17009 14 6.53333 13.6368 6.53333 13.1887V7.37159C6.53333 6.9235 6.17009 6.56025 5.722 6.56025H3.56322Z",dFour:"M11.9636 6.56025C11.7648 6.56025 11.6014 6.40683 11.6058 6.20811C11.617 5.7098 11.706 4.79493 12.1749 4.21325C12.4969 3.81374 12.9276 3.53469 13.4669 3.37609C13.5462 3.35275 13.6627 3.32841 13.7768 3.30716C13.9879 3.26785 14.1456 3.0865 14.1456 2.87175V0.42306C14.1456 0.189974 13.9609 -0.00245902 13.7278 0.00314648C13.626 0.00559729 13.5225 0.010882 13.4395 0.0211562C11.4536 0.266861 8.40039 2.11058 8.40039 5.82325C8.40039 8.87381 8.40039 11.8152 8.40039 13.1905C8.40039 13.6385 8.76364 14 9.21173 14H14.1224C14.5705 14 14.9337 13.6368 14.9337 13.1887V7.37159C14.9337 6.9235 14.5705 6.56025 14.1224 6.56025H11.9636Z"})},b=function(){return(0,r.jsxs)(i,{width:"22",height:"24",viewBox:"0 0 22 24",children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 0V5C21 6.65685 19.6569 8 18 8H4C2.34315 8 1 6.65685 1 5V0",stroke:"#8A94A6",strokeWidth:"1.8"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1 26V21C1 19.3431 2.34315 18 4 18H18C19.6569 18 21 19.3431 21 21V26",stroke:"#8A94A6",strokeWidth:"1.8"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1 13H21",stroke:"#8A94A6",strokeWidth:"1.8",strokeLinecap:"round",strokeDasharray:"2 4"})]})},h=function(){return(0,r.jsxs)(i,{width:"26",height:"25",viewBox:"0 0 26 25",children:[(0,r.jsx)("circle",{cx:"13",cy:"13",r:"11.6",stroke:"#8A94A6",strokeWidth:"1.8"}),(0,r.jsx)("path",{d:"M13.4491 8.80802C13.7597 8.49743 14.651 7.60607 14.651 7.60607C15.7725 6.48458 17.5908 6.48458 18.7123 7.60607C19.8338 8.72756 19.8338 10.5458 18.7123 11.6673L16.5436 13.836C15.4221 14.9575 13.6039 14.9575 12.4824 13.836",stroke:"#8A94A6",strokeWidth:"1.8",strokeLinecap:"round"}),(0,r.jsx)("path",{d:"M13.3399 17.04C12.9031 17.4768 12.1674 18.2125 12.1674 18.2125C11.0459 19.334 9.22757 19.334 8.10609 18.2125C6.9846 17.091 6.9846 15.2728 8.10609 14.1513L10.2747 11.9826C11.3962 10.8611 13.2145 10.8611 14.336 11.9826",stroke:"#8A94A6",strokeWidth:"1.8",strokeLinecap:"round"})]})},y=function(){return(0,r.jsx)(i,{width:"20",height:"26",viewBox:"0 0 20 26",dOne:"M4.71154 0H11.5311C12.6051 0 13.6276 0.448238 14.3394 1.23111L19.0582 6.42136C19.665 7.08876 20 7.94918 20 8.84039V21.4138L19.9943 21.6413C19.8718 24.0787 17.7964 26.0123 15.2646 25.9998L4.68772 25.9478C2.09494 25.935 0 23.8855 0 21.3618V4.58606C0 2.05325 2.10943 0 4.71154 0ZM11.5311 1.68467H4.71154C3.0653 1.68467 1.73077 2.98367 1.73077 4.58606V21.3618C1.73077 22.9584 3.05614 24.255 4.69647 24.2631L15.2734 24.3152C16.9196 24.3233 18.2609 23.0309 18.2692 21.4285L18.2692 8.84039C18.2692 8.3605 18.0889 7.8972 17.7621 7.53784L13.0432 2.34758C12.66 1.92603 12.1094 1.68467 11.5311 1.68467ZM13.0001 16.6C13.4972 16.6 13.9001 17.003 13.9001 17.5C13.9001 17.9588 13.5568 18.3375 13.113 18.393L13.0001 18.4H6.0001C5.50304 18.4 5.1001 17.9971 5.1001 17.5C5.1001 17.0412 5.44343 16.6626 5.8872 16.607L6.0001 16.6H13.0001ZM13.9001 13.5C13.9001 13.0029 13.4972 12.6 13.0001 12.6H6.0001L5.8872 12.607C5.44343 12.6626 5.1001 13.0412 5.1001 13.5C5.1001 13.9971 5.50304 14.4 6.0001 14.4H13.0001L13.113 14.393C13.5568 14.3375 13.9001 13.9588 13.9001 13.5Z"})},v=function(){return(0,r.jsx)(i,{width:"20",height:"26",viewBox:"0 0 20 26",dOne:"M11.5311 0H4.71154C2.10943 0 0 2.05325 0 4.58606V21.3618C0 23.8855 2.09494 25.935 4.68772 25.9478L15.2646 25.9998C17.7964 26.0123 19.8718 24.0787 19.9943 21.6413L20 21.4138V8.84039C20 7.94918 19.665 7.08876 19.0582 6.42136L14.3394 1.23111C13.6276 0.448238 12.6051 0 11.5311 0ZM4.71154 1.68467H11.5311C12.1094 1.68467 12.66 1.92603 13.0432 2.34758L17.7621 7.53784C18.0889 7.8972 18.2692 8.3605 18.2692 8.84039L18.2692 21.4285C18.2609 23.0309 16.9196 24.3233 15.2734 24.3152L4.69647 24.2631C3.05614 24.255 1.73077 22.9584 1.73077 21.3618V4.58606C1.73077 2.98367 3.0653 1.68467 4.71154 1.68467ZM12.7844 12.25C12.7844 12.9404 12.2256 13.5 11.5363 13.5C10.847 13.5 10.2882 12.9404 10.2882 12.25C10.2882 11.5596 10.847 11 11.5363 11C12.2256 11 12.7844 11.5596 12.7844 12.25ZM5.35854 19C4.94252 19 4.70846 18.5216 4.9638 18.1931L8.19199 14.0407C8.4322 13.7317 8.89916 13.7317 9.13937 14.0407L10.6688 16.0079C10.7431 16.1035 10.8846 16.1117 10.9694 16.0253L11.8249 15.1533C12.0798 14.8935 12.5055 14.9187 12.728 15.2067L15.036 18.1943C15.2899 18.523 15.0557 19 14.6404 19H5.35854Z"})},g=function(){return(0,r.jsx)(i,{width:"20",height:"26",viewBox:"0 0 20 26",dOne:"M11.5311 0H4.71154C2.10943 0 0 2.05325 0 4.58606V21.3618C0 23.8855 2.09494 25.935 4.68772 25.9478L15.2646 25.9998C17.7964 26.0123 19.8718 24.0787 19.9943 21.6413L20 21.4138V8.84039C20 7.94918 19.665 7.08876 19.0582 6.42136L14.3394 1.23111C13.6276 0.448238 12.6051 0 11.5311 0ZM4.71154 1.68467H11.5311C12.1094 1.68467 12.66 1.92603 13.0432 2.34758L17.7621 7.53784C18.0889 7.8972 18.2692 8.3605 18.2692 8.84039L18.2692 21.4285C18.2609 23.0309 16.9196 24.3233 15.2734 24.3152L4.69647 24.2631C3.05614 24.255 1.73077 22.9584 1.73077 21.3618V4.58606C1.73077 2.98367 3.0653 1.68467 4.71154 1.68467ZM7.7002 12.3685C7.7002 11.5698 8.59034 11.0934 9.2549 11.5365L12.4521 13.6679C13.0459 14.0638 13.0459 14.9362 12.4521 15.3321L9.2549 17.4635C8.59034 17.9066 7.7002 17.4302 7.7002 16.6315V12.3685Z"})},x=function(){return(0,r.jsx)(i,{width:"26",height:"25",viewBox:"0 0 26 25",children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.24655 17.8559L13.5759 17.9533C13.5844 17.9533 13.6014 17.9533 13.6013 17.9665C16.569 18.0219 19.4605 17.8478 22.4199 17.6315C24.7819 17.4661 25.3416 15.7528 25.6341 13.7098C25.9988 11.2423 26.0793 8.74506 25.8885 6.26062C25.8794 6.14282 25.8705 6.02397 25.8615 5.90437C25.6838 3.52721 25.4839 0.855609 22.6743 0.36312C22.0765 0.257064 21.4661 0.163891 20.8598 0.146844C15.1192 -0.0391124 9.32767 -0.0863496 3.57435 0.312239C1.87004 0.422069 0.767968 1.43136 0.487928 3.12279C-0.00812784 6.13725 -0.10989 9.23227 0.152973 12.2721C0.156252 12.3093 0.159528 12.3466 0.162814 12.384C0.350717 14.5224 0.570287 17.0211 3.09951 17.5378C4.46116 17.821 5.84751 17.8324 7.23643 17.8437C7.57309 17.8465 7.9099 17.8492 8.24655 17.8559ZM13.2084 11.1919C12.2904 11.7195 11.3703 12.2484 10.4428 12.7809V5.15789C11.4656 5.74458 12.4812 6.32855 13.4979 6.91315C14.6853 7.59593 15.8743 8.27957 17.078 8.96941C15.7828 9.71232 14.4977 10.4509 13.2084 11.1919Z",fill:"#FF0000"})})},j=function(){return(0,r.jsxs)(i,{width:"25",height:"20",viewBox:"0 0 25 20",children:[(0,r.jsx)("path",{d:"M24.806 7.45679C24.806 7.45679 24.2241 8.59903 21.3578 10.4094C20.1293 11.1852 17.5862 12.0042 14.3319 12.3059C12.5647 12.4783 9.3319 12.349 7.93103 12.349C6.53017 12.349 5.88362 12.6508 4.63362 14.0516C0 19.2887 0 19.2887 0 19.2887C0 19.2887 1.59483 19.2887 2.82328 19.2887C4.05172 19.2887 11.5948 19.7197 14.9569 18.793C25.8621 15.8189 24.806 7.45679 24.806 7.45679Z",fill:"#148EE0"}),(0,r.jsx)("path",{d:"M24.5043 4.15946C25.0216 0.948251 23.2328 0.0861816 23.2328 0.0861816C23.2328 0.0861816 23.2974 2.69394 18.5129 3.25429C14.2672 3.74997 0 3.3836 0 3.3836C0 3.3836 0 3.38359 4.59052 8.64222C5.84052 10.0646 6.48707 10.237 7.88793 10.3233C9.28879 10.4095 12.3707 10.3879 14.4612 10.2155C16.7457 10.0431 20 9.28877 22.1983 7.58618C23.319 6.70256 24.2888 5.49566 24.5043 4.15946Z",fill:"#54BBFF"})]})},_=function(){return(0,r.jsx)(i,{width:"26",height:"22",viewBox:"0 0 26 22",children:(0,r.jsx)("path",{d:"M25.3546 4.97382C25.2432 7.38816 23.553 10.6948 20.2842 14.8928C16.9039 19.2758 14.0429 21.4683 11.7032 21.4683C10.2548 21.4683 9.02822 20.1313 8.02548 17.4564L6.01999 10.1009C5.2759 7.42497 4.47709 6.08798 3.62356 6.08798C3.43754 6.08798 2.78795 6.47793 1.67279 7.25784L0.50293 5.75373C1.71855 4.68534 2.92523 3.60799 4.12493 2.52168C5.75936 1.11009 6.98493 0.366984 7.80264 0.29337C9.73451 0.107346 10.9233 1.42643 11.3689 4.24962C11.8514 7.29564 12.1867 9.19071 12.3717 9.93281C12.9288 12.4586 13.5415 13.7219 14.21 13.7219C14.7303 13.7219 15.5102 12.9042 16.5508 11.2698C17.5913 9.63537 18.1484 8.3909 18.222 7.53638C18.3702 6.12479 17.8131 5.41849 16.5508 5.41849C15.9569 5.41849 15.3431 5.54881 14.7124 5.80844C15.938 1.83329 18.2787 -0.0975797 21.7336 0.013836C24.2961 0.0884447 25.5028 1.74177 25.3546 4.97382Z",fill:"#1AB7EA"})})},C=function(){return(0,r.jsx)(i,{width:"26",height:"26",viewBox:"0 0 26 26",children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.5 13.0622C25.5 9.625 23.5313 6.73437 20.6493 5.35074C19.2656 2.39062 16.2813 0.5 13.0622 0.5C9.625 0.5 6.73437 2.46875 5.35074 5.35074C2.39062 6.73437 0.5 9.71871 0.5 13.0622C0.5 16.375 2.46875 19.2656 5.35074 20.6493C6.73437 23.6094 9.71871 25.5 13.0622 25.5C16.375 25.5 19.2656 23.5313 20.6493 20.6493C23.6094 19.2656 25.5 16.2813 25.5 13.0622ZM15.5498 10.3259C15.8607 11.1654 16.0473 12.0361 16.0473 12.9378C16.0473 13.8551 15.8607 14.7257 15.5498 15.5498C14.7102 15.8607 13.8396 16.0473 12.9378 16.0473C12.0205 16.0473 11.1499 15.8607 10.3259 15.5498C10.0149 14.7102 9.82836 13.8396 9.82836 12.9378C9.82836 12.0205 10.0149 11.1499 10.3259 10.3259C11.1654 10.0149 12.0361 9.82836 12.9378 9.82836C13.8551 9.82836 14.7102 10.0149 15.5498 10.3259ZM13.0622 2.11691C15.0695 2.11691 16.9933 3.02494 18.2861 4.60448C17.8244 4.47162 17.3473 4.42545 16.9179 4.4801C13.4381 4.42545 10.4986 6.47235 9.2065 9.45521C9.14429 9.42729 9.14429 9.42729 9.2065 9.45521C8.66721 10.5046 8.40557 11.6589 8.46021 12.9378C8.40557 13.3671 8.45171 13.8443 8.58457 14.306C7.02043 13.0132 6.09701 11.0894 6.09701 9.08207C6.09701 5.22574 9.20586 2.11691 13.0622 2.11691ZM2.11691 12.9378C2.11691 10.9305 3.02494 9.00671 4.60448 7.71393C4.47162 8.17564 4.42545 8.65271 4.4801 9.08207C4.42545 12.5619 6.47235 15.5014 9.45521 16.7935C9.42729 16.8557 9.42729 16.8557 9.45521 16.7935C10.5046 17.3328 11.6589 17.5944 12.9378 17.5398C13.3671 17.5944 13.8443 17.5483 14.306 17.4154C13.0132 18.9796 11.0894 19.903 9.08207 19.903C5.22574 19.903 2.11691 16.7941 2.11691 12.9378ZM12.9378 23.6344C10.9305 23.6344 9.00671 22.7263 7.71393 21.1468C8.17564 21.2796 8.65271 21.3258 9.08207 21.2711C12.5619 21.3258 15.5014 19.2789 16.7935 16.296C16.8557 16.324 16.8557 16.324 16.7935 16.296C17.3328 15.2466 17.5944 14.0924 17.5398 12.8134C17.5944 12.3841 17.5483 11.907 17.4154 11.4453C18.9796 12.7381 19.903 14.6619 19.903 16.6691C19.903 20.5255 16.7941 23.6344 12.9378 23.6344ZM16.296 9.2065C16.324 9.14429 16.324 9.14429 16.296 9.2065C15.2466 8.66721 14.0924 8.40557 12.8134 8.46021C12.3841 8.40557 11.907 8.45171 11.4453 8.58457C12.7381 7.02043 14.6619 6.09701 16.6691 6.09701C20.5255 6.09701 23.6344 9.20586 23.6344 13.0622C23.6344 15.0695 22.7263 16.9933 21.1468 18.2861C21.2796 17.8244 21.3258 17.3473 21.2711 16.9179C21.3258 13.4381 19.2789 10.4986 16.296 9.2065Z",fill:"#FD5E60"})})},w=function(){return(0,r.jsxs)(i,{width:"30",height:"14",viewBox:"0 0 30 14",children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.6752 13.2605L15.5472 13.1325V1.15076L15.6864 1.04636C15.8486 0.918943 16.4627 0.721922 17.0773 0.594504C17.738 0.467086 18.8157 0.478312 19.4994 0.617518C22.2335 1.18557 24.1807 3.28319 24.6214 6.13353L24.6562 6.31877L25.1086 6.19135C25.4908 6.08695 25.63 6.06393 26.1279 6.08695L26.1511 6.08809C26.836 6.12177 26.8745 6.12366 27.3325 6.29519C29.3729 7.07149 30.299 9.42395 29.3145 11.3711C28.8621 12.2749 28.2132 12.8423 27.2281 13.2021L26.8576 13.3413L21.3416 13.3531L15.8256 13.3649L15.6752 13.2605ZM14.3892 13.0169C14.4082 13.1229 14.466 13.218 14.5514 13.2835C14.6205 13.3419 14.7366 13.3879 14.8068 13.3868C14.9572 13.3868 15.1891 13.1668 15.1891 13.0394C15.2116 12.6142 15.2387 12.1892 15.2705 11.7646C15.3406 10.7217 15.3866 7.36112 15.3288 7.26851C15.317 7.25672 15.294 6.31765 15.2705 5.18211C15.2625 4.79146 15.2559 4.41857 15.2501 4.09465L15.2501 4.09456C15.2391 3.47743 15.2312 3.03807 15.2239 2.99243C15.2126 2.92283 15.2009 2.57538 15.2009 2.22792C15.1891 1.63686 15.1778 1.59083 15.0616 1.47464C14.8994 1.32421 14.6794 1.31242 14.5284 1.45163C14.3898 1.59083 14.3662 1.82266 14.3314 4.20992C14.3223 4.62322 14.3113 5.13843 14.2999 5.67331C14.2825 6.48813 14.2642 7.34859 14.25 7.96397C14.2152 9.42451 14.227 10.143 14.2848 11.3363C14.3308 12.1704 14.3774 12.9237 14.3892 13.0169ZM13.2879 13.2953C13.2183 13.2257 13.1835 13.0983 13.1605 12.8665C13.0791 11.974 13.0213 9.76073 13.0443 8.45119C13.0506 8.0143 13.0637 7.45299 13.0762 6.91392L13.0762 6.91381C13.0869 6.45213 13.0972 6.00678 13.1027 5.66989C13.1605 2.73816 13.1841 2.27507 13.2879 2.17067C13.4153 2.04325 13.6702 2.04325 13.7863 2.17067C13.9138 2.29809 13.9256 2.66911 14.0412 8.32434C14.076 10.0279 13.9598 13.0175 13.8442 13.2257C13.7398 13.4233 13.4383 13.4575 13.2761 13.2953H13.2879ZM9.49848 12.8665C9.52206 13.0865 9.55686 13.2257 9.61467 13.2953L9.6259 13.283C9.74209 13.3992 9.92732 13.4104 10.0317 13.306C10.1361 13.2134 10.1474 13.0747 10.2518 11.5103C10.3449 10.1312 10.3332 9.45931 10.1939 5.25284C10.1361 3.74627 10.1013 3.07438 10.0547 3.02779C9.97391 2.93518 9.71852 2.93518 9.6259 3.02779C9.53328 3.12041 9.51027 3.48021 9.40586 7.28086C9.32447 10.0386 9.32447 10.2244 9.49848 12.8665ZM8.40954 13.2953C8.32815 13.2139 8.30513 13.0865 8.28212 12.4842L8.27365 12.3425L8.27365 12.3424C8.25076 11.9588 8.22112 11.4621 8.20073 11.1747C8.13113 10.3524 8.14235 9.28586 8.22374 6.74761C8.27033 5.54303 8.30513 4.32611 8.30513 4.02468C8.31692 3.41061 8.36351 3.22537 8.52573 3.17879C8.72275 3.1322 8.87318 3.2714 8.87318 3.51501C8.87318 3.57665 8.88945 4.02937 8.91344 4.69698L8.91345 4.69716L8.91346 4.69742L8.91349 4.69827L8.91349 4.6984L8.91357 4.70035L8.91374 4.70522L8.91381 4.70711L8.9139 4.70967C8.93506 5.29874 8.96216 6.05291 8.98937 6.85258L9.10556 9.9701L8.98937 11.5345C8.95528 12.035 8.92139 12.4922 8.89908 12.7931C8.88319 13.0075 8.87318 13.1425 8.87318 13.1572C8.87318 13.2493 8.72219 13.3773 8.60656 13.3773C8.54874 13.3773 8.46735 13.3307 8.40954 13.2847V13.2953ZM7.0186 11.5339C7.09943 12.7043 7.14602 13.1909 7.20384 13.2723H7.20496V13.2611C7.25155 13.3301 7.32059 13.3767 7.37897 13.3767C7.48281 13.3767 7.6338 13.2487 7.6338 13.1567C7.67364 12.6195 7.71612 12.0825 7.76122 11.5457L7.88864 9.99256L7.76122 6.99066C7.69162 5.34545 7.62201 3.94329 7.61023 3.88548C7.54062 3.59584 7.19317 3.64187 7.14658 3.94329C7.1348 4.03591 7.09999 4.85879 7.06519 5.79731C7.03039 6.73638 6.9838 8.04536 6.96079 8.70659C6.9142 9.74895 6.92599 10.143 7.0186 11.5339ZM5.94088 13.0859C5.94088 13.1561 5.97569 13.2605 6.02227 13.3065V13.3172C6.12612 13.4098 6.26532 13.4216 6.34671 13.3284C6.38151 13.2942 6.46234 12.5291 6.54373 11.6254L6.68294 9.99143L6.54373 7.48854C6.4281 5.31009 6.3933 4.98565 6.3237 4.92784C6.27711 4.88125 6.20751 4.85823 6.17271 4.85823C5.97569 4.85823 5.9639 4.95085 5.84827 7.53513L5.73208 10.0728L5.83648 11.5103C5.8943 12.2984 5.94088 13.0046 5.94088 13.0859ZM10.8198 13.2835C10.762 13.2252 10.7154 13.0983 10.7154 13.0169C10.7154 12.9355 10.6806 12.2406 10.634 11.4755C10.5526 10.1896 10.5526 9.82978 10.634 6.71281C10.7252 3.15461 10.7266 3.1543 10.9808 3.10007L10.9933 3.0974C11.2251 3.05081 11.3761 3.24783 11.3761 3.60707C11.3761 3.76929 11.3991 4.61518 11.4227 5.47287L11.4279 5.66676L11.4279 5.66832C11.4507 6.51938 11.4822 7.69396 11.5041 8.38215C11.5158 9.11242 11.5389 9.74951 11.5506 9.78431C11.5624 9.81911 11.5271 10.5488 11.4692 11.4065C11.43 11.9627 11.3952 12.5191 11.3648 13.0758C11.3648 13.2145 11.1796 13.4003 11.0174 13.4003C10.9314 13.3929 10.852 13.351 10.7974 13.2841H10.8198V13.2835ZM11.8397 11.2095C11.9436 13.0635 11.9553 13.1909 12.0597 13.2953H12.0367C12.1642 13.4109 12.3494 13.4109 12.5004 13.2953C12.616 13.2027 12.6278 13.1449 12.7204 11.6383C12.8136 10.2362 12.8136 9.87636 12.767 8.17334C12.7536 7.56424 12.7321 6.86803 12.7142 6.2881L12.7142 6.28805L12.7142 6.28776C12.7014 5.87487 12.6905 5.52094 12.6856 5.29942L12.6827 5.19412C12.6395 3.6042 12.6374 3.52459 12.5352 3.4224C12.4774 3.35279 12.373 3.31799 12.2686 3.31799C11.9569 3.31799 11.9559 3.35256 11.8981 5.30307L11.8975 5.32244C11.7931 8.99623 11.7819 10.1318 11.8397 11.2095ZM4.64313 11.5216C4.71273 12.391 4.78234 13.1561 4.80535 13.2139L4.79412 13.2257C4.82892 13.3071 4.87551 13.3419 4.96813 13.3419C5.06075 13.3419 5.11912 13.3071 5.14214 13.2257C5.16515 13.1567 5.24654 12.391 5.31614 11.5109L5.45535 9.91117L5.31614 8.4046C5.17694 6.93284 5.13035 6.74705 4.96813 6.74705C4.84071 6.74705 4.75932 6.97943 4.72452 7.46609C4.71484 7.57823 4.70099 7.76204 4.68473 7.97796L4.68468 7.97853L4.68466 7.97887L4.68465 7.97893C4.66226 8.27621 4.63529 8.63417 4.60833 8.94964C4.52694 9.92239 4.52694 9.992 4.64313 11.5216ZM3.6468 13.2375C3.63501 13.2139 3.55418 12.4724 3.48458 11.5917L3.34538 9.992L3.48458 8.335C3.55418 7.4195 3.6468 6.64264 3.67038 6.6084C3.73998 6.52701 3.84438 6.52701 3.91399 6.6084C3.94879 6.64321 4.0414 7.40827 4.12279 8.32378L4.27323 9.96954L4.12279 11.5687C4.0414 12.4494 3.96057 13.1915 3.94879 13.2257C3.92577 13.2953 3.68216 13.3189 3.64736 13.2487V13.2375H3.6468ZM2.32547 11.5339C2.39507 12.3686 2.47646 13.0753 2.49948 13.1101H2.49892V13.1213C2.56852 13.2139 2.68471 13.1909 2.74253 13.0629C2.76554 12.9939 2.85816 12.2636 2.93955 11.4295L3.09054 9.91117L2.92832 8.335C2.83514 7.4195 2.74253 6.73582 2.70772 6.70102C2.60332 6.59718 2.49892 6.6898 2.46412 6.92162C2.45289 7.03725 2.38329 7.79109 2.31368 8.57861L2.18627 10.0156L2.32547 11.5339ZM1.32914 12.6234C1.31735 12.5768 1.23653 11.9397 1.16692 11.2213L1.02772 9.91173L1.17815 8.57917C1.31735 7.30443 1.34037 7.24662 1.44477 7.2236C1.44925 7.22277 1.45355 7.2219 1.4577 7.22107C1.47551 7.21746 1.49043 7.21445 1.50372 7.21785C1.57262 7.23549 1.59729 7.4259 1.74989 8.60406C1.75611 8.65211 1.76255 8.7018 1.76921 8.75318L1.91964 9.95776L1.76921 11.2213C1.68782 11.9167 1.5952 12.5308 1.57219 12.5999C1.51381 12.7391 1.3864 12.7514 1.35159 12.6234H1.32914ZM0.112217 10.7806C0.1503 11.0715 0.196721 11.3613 0.251422 11.6496L0.239634 11.6608C0.274436 11.754 0.309237 11.7652 0.401854 11.7074C0.436655 11.6838 0.529272 11.2903 0.598874 10.8267L0.726292 9.99256L0.598874 9.15845C0.483244 8.33612 0.401854 8.11553 0.286223 8.25473C0.26321 8.28897 0.181819 8.6948 0.124004 9.15845L0.0078125 9.99256L0.112217 10.7806Z",fill:"url(#paint0_linear)"}),(0,r.jsx)("defs",{children:(0,r.jsxs)("linearGradient",{id:"paint0_linear",x1:"0.740261",y1:"0.856529",x2:"0.740261",y2:"13.1429",gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{stopColor:"#FF8800"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#FF3300"})]})})]})},O=function(){return(0,r.jsx)(i,{width:"26",height:"26",viewBox:"0 0 26 26",children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.5 13C0.5 6.09621 6.09621 0.5 13 0.5C19.9038 0.500853 25.5 6.09707 25.5 13C25.5 19.9038 19.9038 25.5 13 25.5C6.09621 25.5 0.5 19.9038 0.5 13ZM17.6614 18.7873C18.0281 19.0116 18.5084 18.8965 18.7327 18.528C18.9579 18.1612 18.841 17.6827 18.4742 17.4567C15.1793 15.4437 11.0945 14.9754 6.33333 16.0629C5.91283 16.1585 5.65097 16.5764 5.74736 16.9961C5.84289 17.4157 6.26083 17.6784 6.68048 17.5821C11.0314 16.5884 14.7264 16.9935 17.6614 18.7873ZM20.262 15.1256C19.9797 15.5844 19.3792 15.7277 18.9212 15.4463C15.5623 13.3813 10.4394 12.7833 6.46554 13.9894C5.95036 14.1455 5.40618 13.8547 5.24923 13.3403C5.094 12.8251 5.38485 12.2818 5.89918 12.1249C10.4386 10.7474 16.0826 11.4144 19.9405 13.7856C20.3994 14.0679 20.5444 14.6675 20.262 15.1256ZM5.87103 10.1349C9.71784 8.9681 16.364 9.18816 20.3934 11.5807C20.9478 11.9108 21.6668 11.7274 21.9952 11.1713C22.3245 10.6169 22.1419 9.89952 21.5867 9.56943C16.9483 6.8161 9.60867 6.55766 5.19294 7.89765C4.57455 8.0853 4.22654 8.73866 4.41334 9.35619C4.60014 9.97373 5.2535 10.3226 5.87103 10.1349Z",fill:"#2EBD59"})})},S=function(){return(0,r.jsxs)(i,{width:"26",height:"26",viewBox:"0 0 26 26",children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.5 25.5H25.5V0.5H0.5V25.5ZM2.16667 23.8333H23.8333V2.16667H2.16667V23.8333Z",fill:"black"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.5 5.50003V20.5H20.5L5.5 5.50003ZM19.3214 16.1068L9.89323 6.67868L11.0719 5.50003L20.5 14.9282L19.3214 16.1068ZM19.3214 11.3927L14.6078 6.6792L15.7859 5.49951L20.4995 10.2141L19.3214 11.3927Z",fill:"black"})]})},k=function(){return(0,r.jsxs)(i,{width:"26",height:"26",viewBox:"0 0 26 26",children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.8124 1.1563C5.6065 0.8473 6.5158 0.6363 7.8465 0.5757C9.18 0.5141 9.6064 0.5 13.001 0.5C16.3956 0.5 16.8217 0.5151 18.1545 0.5757C19.4842 0.6353 20.393 0.8473 21.1886 1.1563C22.0095 1.4754 22.7073 1.9024 23.4019 2.5981C24.0965 3.2938 24.5237 3.9905 24.8437 4.8124C25.1527 5.6065 25.3637 6.5157 25.4243 7.8465C25.4849 9.1793 25.499 9.6054 25.499 13C25.499 16.3946 25.4849 16.8197 25.4243 18.1535C25.3647 19.4842 25.1527 20.393 24.8437 21.1876C24.5237 22.0095 24.0976 22.7073 23.4019 23.4019C22.7062 24.0965 22.0095 24.5237 21.1876 24.8437C20.393 25.1527 19.4843 25.3637 18.1535 25.4243C16.8207 25.4859 16.3946 25.5 13 25.5C9.6054 25.5 9.18 25.4849 7.8465 25.4243C6.5158 25.3637 5.608 25.1527 4.8124 24.8437C3.99 24.5237 3.2937 24.0962 2.5981 23.4019C1.9025 22.7076 1.4754 22.0095 1.1563 21.1876C0.8473 20.393 0.6363 19.4843 0.5757 18.1535C0.5141 16.8207 0.5 16.3946 0.5 13C0.5 9.6054 0.5141 9.1793 0.5757 7.8465C0.6363 6.5158 0.8473 5.607 1.1563 4.8124C1.4754 3.99 1.9024 3.2927 2.5981 2.5981C3.2938 1.9035 3.99 1.4754 4.8124 1.1563ZM7.95 23.1747C6.7313 23.1192 6.0689 22.9162 5.6287 22.7447C5.0451 22.5175 4.6287 22.2469 4.1909 21.8097C3.7531 21.3725 3.4821 20.9565 3.2559 20.3729C3.0843 19.9329 2.8813 19.2703 2.8259 18.0516C2.7653 16.734 2.7532 16.3382 2.7532 13.0001C2.7532 9.662 2.7663 9.2673 2.8259 7.9486C2.8814 6.7299 3.0859 6.0686 3.2559 5.6273C3.4831 5.0437 3.7537 4.6273 4.1909 4.1895C4.6281 3.7517 5.0441 3.4807 5.6287 3.2545C6.0687 3.0829 6.7313 2.8799 7.95 2.8245C9.2676 2.7639 9.6634 2.7518 13 2.7518C16.3366 2.7518 16.7328 2.7649 18.0515 2.8245C19.2702 2.88 19.9315 3.0845 20.3728 3.2545C20.9564 3.4807 21.3728 3.7523 21.8106 4.1895C22.2484 4.6267 22.5184 5.0437 22.7456 5.6273C22.9172 6.0673 23.1202 6.7299 23.1756 7.9486C23.2362 9.2673 23.2483 9.662 23.2483 13.0001C23.2483 16.3382 23.2362 16.7329 23.1756 18.0516C23.1201 19.2703 22.9161 19.9327 22.7456 20.3729C22.5184 20.9565 22.2478 21.3729 21.8106 21.8097C21.3734 22.2465 20.9564 22.5175 20.3728 22.7447C19.9328 22.9163 19.2702 23.1193 18.0515 23.1747C16.7339 23.2353 16.3381 23.2474 13 23.2474C9.6619 23.2474 9.2672 23.2353 7.95 23.1747ZM19.6721 7.8275C18.8437 7.82717 18.1724 7.15533 18.1727 6.3269C18.1734 5.49887 18.8447 4.82789 19.6727 4.8275H19.6733C20.5017 4.82783 21.173 5.49967 21.1727 6.3281C21.1724 7.15653 20.5005 7.82783 19.6721 7.8275ZM6.5814 13C6.5814 16.545 9.455 19.4186 13 19.4186C16.545 19.4186 19.4186 16.545 19.4186 13C19.4186 9.455 16.545 6.5814 13 6.5814C9.455 6.5814 6.5814 9.455 6.5814 13ZM8.834 13C8.834 10.6989 10.6989 8.833 13 8.833C15.3011 8.833 17.167 10.6989 17.167 13C17.167 15.3011 15.3011 17.167 13 17.167C10.6989 17.167 8.834 15.3011 8.834 13Z",fill:"url(#paint0_radial)"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.8124 1.1563C5.6065 0.8473 6.5158 0.6363 7.8465 0.5757C9.18 0.5141 9.6064 0.5 13.001 0.5C16.3956 0.5 16.8217 0.5151 18.1545 0.5757C19.4842 0.6353 20.393 0.8473 21.1886 1.1563C22.0095 1.4754 22.7073 1.9024 23.4019 2.5981C24.0965 3.2938 24.5237 3.9905 24.8437 4.8124C25.1527 5.6065 25.3637 6.5157 25.4243 7.8465C25.4849 9.1793 25.499 9.6054 25.499 13C25.499 16.3946 25.4849 16.8197 25.4243 18.1535C25.3647 19.4842 25.1527 20.393 24.8437 21.1876C24.5237 22.0095 24.0976 22.7073 23.4019 23.4019C22.7062 24.0965 22.0095 24.5237 21.1876 24.8437C20.393 25.1527 19.4843 25.3637 18.1535 25.4243C16.8207 25.4859 16.3946 25.5 13 25.5C9.6054 25.5 9.18 25.4849 7.8465 25.4243C6.5158 25.3637 5.608 25.1527 4.8124 24.8437C3.99 24.5237 3.2937 24.0962 2.5981 23.4019C1.9025 22.7076 1.4754 22.0095 1.1563 21.1876C0.8473 20.393 0.6363 19.4843 0.5757 18.1535C0.5141 16.8207 0.5 16.3946 0.5 13C0.5 9.6054 0.5141 9.1793 0.5757 7.8465C0.6363 6.5158 0.8473 5.607 1.1563 4.8124C1.4754 3.99 1.9024 3.2927 2.5981 2.5981C3.2938 1.9035 3.99 1.4754 4.8124 1.1563ZM7.95 23.1747C6.7313 23.1192 6.0689 22.9162 5.6287 22.7447C5.0451 22.5175 4.6287 22.2469 4.1909 21.8097C3.7531 21.3725 3.4821 20.9565 3.2559 20.3729C3.0843 19.9329 2.8813 19.2703 2.8259 18.0516C2.7653 16.734 2.7532 16.3382 2.7532 13.0001C2.7532 9.662 2.7663 9.2673 2.8259 7.9486C2.8814 6.7299 3.0859 6.0686 3.2559 5.6273C3.4831 5.0437 3.7537 4.6273 4.1909 4.1895C4.6281 3.7517 5.0441 3.4807 5.6287 3.2545C6.0687 3.0829 6.7313 2.8799 7.95 2.8245C9.2676 2.7639 9.6634 2.7518 13 2.7518C16.3366 2.7518 16.7328 2.7649 18.0515 2.8245C19.2702 2.88 19.9315 3.0845 20.3728 3.2545C20.9564 3.4807 21.3728 3.7523 21.8106 4.1895C22.2484 4.6267 22.5184 5.0437 22.7456 5.6273C22.9172 6.0673 23.1202 6.7299 23.1756 7.9486C23.2362 9.2673 23.2483 9.662 23.2483 13.0001C23.2483 16.3382 23.2362 16.7329 23.1756 18.0516C23.1201 19.2703 22.9161 19.9327 22.7456 20.3729C22.5184 20.9565 22.2478 21.3729 21.8106 21.8097C21.3734 22.2465 20.9564 22.5175 20.3728 22.7447C19.9328 22.9163 19.2702 23.1193 18.0515 23.1747C16.7339 23.2353 16.3381 23.2474 13 23.2474C9.6619 23.2474 9.2672 23.2353 7.95 23.1747ZM19.6721 7.8275C18.8437 7.82717 18.1724 7.15533 18.1727 6.3269C18.1734 5.49887 18.8447 4.82789 19.6727 4.8275H19.6733C20.5017 4.82783 21.173 5.49967 21.1727 6.3281C21.1724 7.15653 20.5005 7.82783 19.6721 7.8275ZM6.5814 13C6.5814 16.545 9.455 19.4186 13 19.4186C16.545 19.4186 19.4186 16.545 19.4186 13C19.4186 9.455 16.545 6.5814 13 6.5814C9.455 6.5814 6.5814 9.455 6.5814 13ZM8.834 13C8.834 10.6989 10.6989 8.833 13 8.833C15.3011 8.833 17.167 10.6989 17.167 13C17.167 15.3011 15.3011 17.167 13 17.167C10.6989 17.167 8.834 15.3011 8.834 13Z",fill:"url(#paint1_linear)"}),(0,r.jsxs)("defs",{children:[(0,r.jsxs)("radialGradient",{id:"paint0_radial",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(3.8214 25.6181) scale(32.6354 32.6367)",children:[(0,r.jsx)("stop",{offset:"0.09",stopColor:"#FA8F21"}),(0,r.jsx)("stop",{offset:"0.78",stopColor:"#D82D7E"})]}),(0,r.jsxs)("linearGradient",{id:"paint1_linear",x1:"0.5",y1:"0.5",x2:"0.5",y2:"25.5",gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{stopColor:"#8F3AA9"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#8C3AAA",stopOpacity:"0.01"})]})]})]})},P=function(){return(0,r.jsxs)(i,{width:"26",height:"26",viewBox:"0 0 26 26",children:[(0,r.jsx)("path",{d:"M24.1203 25.5002C24.8822 25.5002 25.5 24.8823 25.5 24.1204V1.87977C25.5 1.11757 24.8821 0.5 24.1203 0.5H1.87977C1.11757 0.5 0.5 1.11766 0.5 1.87977V24.1203C0.5 24.8823 1.11757 25.5001 1.87977 25.5001H24.1203V25.5002Z",fill:"#485A96"}),(0,r.jsx)("path",{d:"M17.7496 25.5002V15.8188H20.9992L21.4857 12.0458H17.7495V9.63683C17.7495 8.54444 18.0528 7.80004 19.6193 7.80004L21.6172 7.79911V4.42453C21.2717 4.37864 20.0856 4.27588 18.706 4.27588C15.8253 4.27588 13.8532 6.03417 13.8532 9.26327V12.0458H10.5952V15.8188H13.8532V25.5001H17.7496V25.5002Z",fill:"white"})]})},A=function(){return(0,r.jsx)(i,{width:"26",height:"20",viewBox:"0 0 26 20",children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.142 0.878873C6.21869 6.11624 12.6733 6.22779 12.6733 6.22779L12.7583 6.25541C11.9373 0.349433 17.2595 0.0151256 17.2595 0.0151256C19.7305 -0.153409 21.0809 1.13458 21.4021 1.48744C22.0369 1.43129 23.3501 1.20302 24.7964 0.293955C24.7964 0.293955 24.3255 2.04018 22.6934 3.07589C22.6934 3.07589 23.972 3.05031 25.5 2.3554C25.5 2.3554 24.0819 4.33466 22.9229 4.90919C22.9942 11.1469 19.2978 15.1703 19.2978 15.1703C14.6834 20.4634 8.59664 19.9899 8.59664 19.9899C3.55752 19.9899 0.5 17.8447 0.5 17.8447C5.426 18.1233 7.9455 15.6717 7.9455 15.6717C4.06686 15.393 3.18936 12.2172 3.18936 12.2172C4.43502 12.3844 5.45419 12.0501 5.45419 12.0501C1.12283 10.88 1.40593 6.97986 1.40593 6.97986C2.19874 7.67634 3.67064 7.64848 3.67064 7.64848C-0.292568 4.44482 2.142 0.878873 2.142 0.878873Z",fill:"#34A7DB"})})},E=function(){return(0,r.jsxs)(i,{width:"16",height:"25",viewBox:"0 0 16 25",children:[(0,r.jsx)("path",{d:"M13.4927 0H16.0002V25H13.4927V0Z",fill:"#89C6BE"}),(0,r.jsx)("path",{d:"M0 5.72362H3.11832V0H7.25099V5.72362H10.9852V8.86244H7.25099V19.0546C7.25099 19.4974 7.26915 19.8795 7.30548 20.1992C7.34136 20.5197 7.42604 20.7901 7.55894 21.0119C7.6919 21.2333 7.89087 21.3994 8.15755 21.5103C8.4231 21.6212 8.78553 21.6764 9.24505 21.6764C9.5349 21.6764 9.82512 21.6707 10.115 21.6577C10.4051 21.6459 10.695 21.6025 10.9852 21.529V24.7786C10.5258 24.8274 10.0786 24.8766 9.64387 24.9265C9.19849 24.9757 8.75065 25.0003 8.30247 25C7.2146 25 6.33854 24.8948 5.67392 24.6864C5.00879 24.4772 4.48978 24.169 4.11532 23.7629C3.74004 23.3567 3.48652 22.8457 3.35362 22.23C3.22028 21.6154 3.14187 20.9136 3.11826 20.1256V8.8625H0V5.72362Z",fill:"#33393F"})]})},L=function(){return(0,r.jsxs)(i,{width:"26",height:"22",viewBox:"0 0 26 22",children:[(0,r.jsx)("path",{d:"M11.6529 0.802614L2.34088 4.65577C1.82304 4.87008 1.8284 5.60576 2.34949 5.8123L11.7004 9.52047C12.522 9.84631 13.4369 9.84631 14.2585 9.52047L23.6096 5.81216C24.1305 5.60576 24.1361 4.87022 23.618 4.65591L14.3062 0.802473C13.4567 0.450934 12.5024 0.450934 11.6528 0.802473",fill:"#FCB400"}),(0,r.jsx)("path",{d:"M13.8091 11.5453V20.8089C13.8091 21.2494 14.2534 21.5512 14.6629 21.3889L25.0827 17.3444C25.3205 17.2501 25.4766 17.0203 25.4766 16.7645V7.50095C25.4766 7.06033 25.0323 6.75864 24.6227 6.92099L14.203 10.9654C13.9652 11.0598 13.8091 11.2896 13.8091 11.5454",fill:"#18BFFF"}),(0,r.jsx)("path",{d:"M11.376 12.0232L8.28368 13.5163L7.9697 13.668L1.44194 16.7958C1.02829 16.9954 0.5 16.6939 0.5 16.2342V7.53964C0.5 7.37334 0.585271 7.22976 0.699625 7.12176C0.746538 7.07504 0.799761 7.03512 0.857744 7.00317C1.0136 6.90957 1.2361 6.88458 1.42528 6.9594L11.3241 10.8816C11.8272 11.0812 11.8668 11.7863 11.376 12.0233",fill:"#F82B60"}),(0,r.jsx)("path",{d:"M11.3761 12.0232L8.28376 13.5163L0.699707 7.12162C0.746629 7.07495 0.799852 7.03508 0.857826 7.00317C1.01369 6.90957 1.23618 6.88458 1.42536 6.9594L11.3242 10.8816C11.8273 11.0812 11.8668 11.7863 11.3761 12.0233",fill:"black",fillOpacity:"0.25"})]})},N=function(){return(0,r.jsx)(i,{width:"27",height:"23",viewBox:"0 0 27 23",children:(0,r.jsx)("g",{transform:"translate(0.000000, 1.000000)",fill:"#000000",fillRule:"nonzero",children:(0,r.jsxs)("g",{transform:"translate(13.068421, 10.975000) scale(-1, 1) rotate(-180.000000) translate(-13.068421, -10.975000) translate(0.191579, 0.025000)",children:[(0,r.jsx)("path",{d:"M5.93894737,21.575 C4.05052632,20.8 3.22947368,18.85 4.07789474,17.275 C4.76210526,16.025 5.77473684,15.4 7.08842105,15.375 C9.27789474,15.35 10.8378947,16.675 10.8378947,18.575 C10.8378947,20.925 8.21052632,22.525 5.93894737,21.575 Z"}),(0,r.jsx)("path",{d:"M17.1873684,21.575 C13.6021053,20.125 14.6694737,15.375 18.5831579,15.375 C22.4968421,15.375 23.5094737,20.2 19.8968421,21.575 C18.7747368,22 18.2547368,22 17.1873684,21.575 Z"}),(0,r.jsx)("path",{d:"M0.684210526,10.75 C-0.0821052632,10.475 -0.191578947,9.75 0.355789474,8.275 C1.53263158,5.2 3.83157895,2.75 6.95157895,1.325 C11.9873684,-0.975 17.7894737,-0.2 21.9768421,3.35 C24.3852632,5.375 26.3831579,9.3 25.5621053,10.425 C25.3157895,10.75 23.5915789,10.8 13.1642105,10.85 C6.48631579,10.875 0.875789474,10.825 0.684210526,10.75 Z"})]})})})},I=function(){return(0,r.jsx)(i,{width:"26",height:"26",viewBox:"0 0 26 26",children:(0,r.jsx)("path",{d:"M13 0.5C6.09362 0.5 0.5 6.09362 0.5 13C0.5 18.8745 4.53085 23.75 9.96915 25.1245C9.90638 24.9681 9.87553 24.7489 9.87553 24.5309V22.4053H8.31277C7.46915 22.4053 6.68723 22.0309 6.34362 21.3426C5.93723 20.5926 5.87447 19.4362 4.84362 18.717C4.53085 18.467 4.78085 18.217 5.12447 18.2479C5.78085 18.4351 6.3117 18.8734 6.8117 19.5287C7.3117 20.1851 7.53085 20.3415 8.46809 20.3415C8.90532 20.3415 9.59255 20.3106 10.2181 20.216C10.5617 19.3404 11.1553 18.5596 11.8745 18.1851C7.68723 17.6851 5.68723 15.6223 5.68723 12.8096C5.68723 11.5904 6.21809 10.434 7.09362 9.43404C6.81277 8.46489 6.43723 6.46489 7.21915 5.68404C9.09468 5.68404 10.2191 6.90319 10.5 7.21489C11.4372 6.90213 12.4691 6.71489 13.5309 6.71489C14.6245 6.71489 15.6245 6.90213 16.5617 7.21489C16.8426 6.90213 17.9681 5.68404 19.8426 5.68404C20.5926 6.43404 20.2489 8.46489 19.9362 9.43404C20.8117 10.4032 21.3117 11.5904 21.3117 12.8096C21.3117 15.6223 19.3426 17.6851 15.1872 18.1223C16.3436 18.716 17.1564 20.4032 17.1564 21.6532V24.5C17.1564 24.5936 17.1255 24.6872 17.1255 24.7809C22 23.0936 25.5 18.4691 25.5 13C25.5 6.09362 19.9064 0.5 13 0.5Z",fill:"black"})})},M=function(){return(0,r.jsxs)(i,{width:"18",height:"26",viewBox:"0 0 18 26",children:[(0,r.jsx)("path",{d:"M11.6263 0.414105C10.7779 0.146452 9.86889 0 8.92958 0C6.1874 0 3.73307 1.23726 2.0918 3.18659L6.3086 6.73173L11.6263 0.414105Z",fill:"#1A73E8"}),(0,r.jsx)("path",{d:"M2.09171 3.18652C0.739774 4.79225 -0.000788075 6.82433 0.00097972 8.92339C0.00097972 10.6 0.334284 11.9635 0.88474 13.1806L6.30851 6.73167L2.09171 3.18652Z",fill:"#EA4335"}),(0,r.jsx)("path",{d:"M8.92941 5.5147C10.2585 5.51592 11.4663 6.28799 12.0253 7.49382C12.5843 8.69965 12.3932 10.1203 11.5352 11.1354L16.8479 4.81779C15.7574 2.71683 13.8775 1.13475 11.6211 0.419189L6.31348 6.73682C6.96091 5.96146 7.91929 5.51373 8.92941 5.5147Z",fill:"#4285F4"}),(0,r.jsx)("path",{d:"M8.92951 12.3424C7.04584 12.3424 5.51567 10.8122 5.51567 8.92854C5.51346 8.12649 5.79625 7.34973 6.31358 6.73682L0.884766 13.1857C1.81398 15.2411 3.35425 16.8925 4.93996 18.9731L11.5353 11.1354C10.8868 11.9017 9.93345 12.3433 8.92951 12.3424Z",fill:"#FBBC04"}),(0,r.jsx)("path",{d:"M11.4039 21.1092C14.3834 16.4531 17.8528 14.3371 17.8528 8.92342C17.8528 7.4387 17.4892 6.03983 16.8478 4.80762L4.94482 18.973C5.44983 19.6346 5.95989 20.3366 6.45479 21.1143C8.26271 23.912 7.76276 25.5886 8.92932 25.5886C10.0959 25.5886 9.59593 23.9069 11.4039 21.1092Z",fill:"#34A853"})]})},T=function(){return(0,r.jsx)(i,{width:"25",height:"25",viewBox:"0 0 25 25",children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.9778 8.48677L24.9812 8.50448H24.9795C24.981 8.51177 24.9828 8.51846 24.9846 8.52507C24.9868 8.53342 24.9891 8.54166 24.9905 8.55087C24.9963 8.59735 25 8.64384 25 8.6913V16.3088C25 16.3562 24.9967 16.4027 24.9905 16.4491C24.9895 16.4594 24.9874 16.4694 24.9853 16.4794C24.9842 16.4847 24.9831 16.4901 24.9821 16.4956L24.9803 16.5054C24.9753 16.5324 24.9702 16.5594 24.9633 16.5858C24.9598 16.5978 24.9558 16.6097 24.9519 16.6217L24.9465 16.638C24.9381 16.6642 24.9293 16.6905 24.9188 16.7165C24.9132 16.73 24.9069 16.7433 24.9005 16.7565L24.8949 16.7683C24.8835 16.7926 24.8718 16.8164 24.8583 16.84C24.8485 16.8565 24.8381 16.873 24.8276 16.8891C24.8132 16.9114 24.7983 16.9333 24.7821 16.9545C24.7547 16.9915 24.7247 17.0265 24.6923 17.0592L24.6865 17.065C24.6742 17.0772 24.662 17.0896 24.6492 17.101C24.6297 17.1184 24.6092 17.1355 24.5883 17.1521L24.5783 17.1598L24.5781 17.16C24.5654 17.1698 24.5527 17.1795 24.5395 17.1888C24.5334 17.1932 24.528 17.1979 24.5217 17.2018L13.0959 24.819C12.9193 24.9364 12.7121 24.9993 12.5 24.9997C12.2877 25.0007 12.0801 24.9377 11.9041 24.8189L0.481445 17.1978C0.477923 17.1963 0.475228 17.1937 0.472537 17.1911C0.47008 17.1887 0.467627 17.1863 0.464551 17.1848C0.456798 17.1772 0.447635 17.1706 0.438145 17.1637L0.438126 17.1637L0.438104 17.1637C0.43123 17.1588 0.424186 17.1537 0.417383 17.148C0.40696 17.139 0.396327 17.1301 0.385783 17.1213L0.385746 17.1213L0.385702 17.1212L0.385668 17.1212L0.385642 17.1212L0.385624 17.1212L0.385605 17.1212L0.385586 17.1211C0.375846 17.113 0.366184 17.1049 0.356836 17.0969C0.344737 17.0896 0.334513 17.0788 0.324595 17.0684C0.320743 17.0643 0.316937 17.0603 0.313086 17.0565C0.29476 17.0403 0.279484 17.0222 0.264056 17.0039L0.259277 16.9982L0.251552 16.989C0.241181 16.9767 0.231675 16.9653 0.222168 16.9517C0.205371 16.9316 0.189551 16.9114 0.175098 16.8878C0.164941 16.8723 0.154199 16.8555 0.144824 16.8387C0.131348 16.8141 0.118848 16.7905 0.107715 16.767C0.104147 16.758 0.0997313 16.7491 0.0953217 16.7402C0.0914025 16.7323 0.0874883 16.7244 0.0841797 16.7165C0.0740266 16.6919 0.0656302 16.6649 0.0572344 16.638L0.0572326 16.638L0.0572266 16.638C0.0504883 16.6195 0.0451172 16.6026 0.0404297 16.5858C0.0314054 16.5588 0.0266988 16.5319 0.0219938 16.505L0.0219932 16.505L0.0202148 16.4949C0.0189351 16.4887 0.0174958 16.4828 0.0160703 16.4771L0.0160641 16.477C0.0137931 16.4678 0.0115577 16.4588 0.0100586 16.4484C0.00332031 16.4023 0 16.3552 0 16.3081V8.68934C0 8.64188 0.00332031 8.5954 0.009375 8.54901C0.0107369 8.5385 0.0128741 8.5283 0.0150143 8.51808L0.0150157 8.51807L0.0181641 8.50253C0.0235352 8.47186 0.0291992 8.44188 0.0370117 8.41229C0.0399014 8.40274 0.0432541 8.39272 0.0467041 8.38241L0.0535156 8.3618C0.0619141 8.33553 0.0709961 8.30926 0.0814453 8.28368C0.0869893 8.27008 0.0934782 8.25649 0.0999016 8.24303L0.099908 8.24302L0.105371 8.23153C0.116475 8.20746 0.128595 8.18387 0.141699 8.16083C0.149962 8.14629 0.158714 8.13251 0.167541 8.11862L0.172363 8.11102C0.186816 8.08846 0.20166 8.06688 0.217773 8.04569C0.22959 8.0288 0.241797 8.01366 0.254492 7.99852C0.27168 7.97831 0.28916 7.95917 0.308008 7.94022C0.321762 7.92572 0.336029 7.91171 0.350781 7.89823C0.370651 7.88087 0.39097 7.86404 0.411719 7.84774L0.419697 7.84157L0.41971 7.84156C0.433172 7.83114 0.446519 7.82081 0.460547 7.81102C0.463523 7.80899 0.466188 7.80682 0.468818 7.80467L0.468824 7.80467C0.471888 7.80216 0.474906 7.7997 0.47832 7.79755L11.9041 0.180553C12.2648 -0.0601845 12.7349 -0.0601845 13.0956 0.180553L24.5206 7.79774C24.5243 7.80016 24.5278 7.80291 24.5312 7.80565C24.5336 7.80756 24.5359 7.80945 24.5384 7.81122C24.5517 7.82022 24.5643 7.83013 24.577 7.84005L24.5872 7.84803C24.6083 7.86404 24.6286 7.88099 24.6481 7.89882C24.663 7.91258 24.6771 7.92674 24.6913 7.94091C24.7097 7.95966 24.7274 7.97907 24.7444 7.99911C24.7742 8.03448 24.8017 8.07173 24.8267 8.11063L24.8338 8.1218C24.8419 8.13445 24.85 8.14715 24.8572 8.16044C24.8705 8.18367 24.8827 8.20746 24.8939 8.23173L24.8986 8.24146C24.9052 8.25542 24.9118 8.26945 24.9179 8.28387C24.9281 8.30955 24.9373 8.33561 24.9455 8.362L24.9512 8.3791C24.955 8.3907 24.9589 8.40223 24.9623 8.41424C24.9688 8.43814 24.9733 8.46242 24.9778 8.48677ZM8.70039 12.5L12.4997 15.0411L16.2992 12.5L12.4997 9.95848L8.70039 12.5ZM11.4257 8.09237L6.76826 11.2076L3.00879 8.69256L11.4258 3.08143V8.09237H11.4257ZM2.14893 14.2971L4.83613 12.4996L2.14893 10.7022V14.2971ZM6.76826 13.7931L11.4258 16.9079V21.9188L3.00879 16.307L6.76836 13.7924V13.7931H6.76826ZM18.2313 13.7925L13.5739 16.9073V21.9182L21.9912 16.307L18.2313 13.7925ZM20.1635 12.5003L20.1636 12.5002V12.5003H20.1635ZM20.164 12.4999L20.1636 12.4996V12.5002L20.164 12.4999ZM20.164 12.4999L22.8511 14.2977V10.7025L20.164 12.4999ZM13.5739 8.09266L18.2313 11.2075H18.2314L21.9912 8.69266L13.5739 3.08143V8.09266Z",fill:"black"})})};i.propTypes={dOne:o.string,dTwo:o.string,dThree:o.string,dFour:o.string,dFive:o.string,dSix:o.string,width:o.string.isRequired,height:o.string.isRequired,children:o.node}},848286:function(e,t,n){n.d(t,{y:()=>e9,p:()=>eI});var r=n(683551),o=n(314121),i=n(363228),a=n(100334),l=n(645391),s=n(740002),c=n(682240),u=n.n(c);function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}var f=(0,o.createContext)();f.displayName="TrixEditorFeatureFlagContext";var p={embeds:!0,videoUpload:!0,fileUploadLink:!0,giphyPicker:!0,mentions:!0},m=function(e){var t,n,i=e.value,a=e.children,l=(0,o.useMemo)(function(){return d({},p,i)},[i]),s=(0,o.useCallback)(function(e){if(e in p)return l[e];throw Error("Wrong feature flag for trix editor: ".concat(e))},[l]);return(0,r.jsx)(f.Provider,{value:(t=d({},l),n=n={isTrixFeatureEnabled:s},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t),children:a})},b=function(){return(0,o.useContext)(f)};m.propTypes={children:u().any.isRequired,value:u().object.isRequired};var h=n(250822),y=n(214813),v=n(589221),g=n(42407);function x(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){n(e);return}l.done?t(s):Promise.resolve(s).then(r,o)}var j=function(){var e=(0,v.DM)(),t=e.editorElement,n=e.trixApiWrapper,r=!!b().isTrixFeatureEnabled("embeds");return(0,o.useEffect)(function(){if(t&&r){var e=t.editor;document.execCommand("AutoUrlDetect",!1,!1);var o=e.getDocument().toString(),i=e.getDocument().toString(),a=function(t){var r;return(r=function(){var r,a,l,s,c;return function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(s){var c=[l,s];if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}(this,function(u){return"Enter"!==t.key||(r=["number","bullet","heading2","heading3","code","strike","href"],(0,y.reduce)(r,function(e,t){return e||n.attributeIsActive(t)},!1)||(a=e.getDocument().toString(),l=n.getPosition(),o=i,i=a,o.substring(0,l+1)===i.substring(0,l+1)||function(e){if(e&&e.includes(" "))return!1;try{var t=new URL(e);return["https:","http:"].includes(t.protocol)}catch(e){return!1}}(c=(s=a.substring(0,l).split("\n"))[s.length-2])&&(e.setSelectedRange([l-1-c.length,l-1]),e.deleteInDirection("backward"),(0,g.Q)({content:c,trixApiWrapper:n,skipRecordUndoEntry:!0,skipLineBreak:!0})))),[2]})},function(){var e=this,t=arguments;return new Promise(function(n,o){var i=r.apply(e,t);function a(e){x(i,n,o,a,l,"next",e)}function l(e){x(i,n,o,a,l,"throw",e)}a(void 0)})})()};return t.addEventListener("keyup",a),function(){t&&t.removeEventListener("keyup",a)}}},[t,r]),null},_=n(193929);function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function w(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}var O=function(e){var t=e.show,n=e.children,o=e.anchorRect,i=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["show","children","anchorRect"]),a=o||{},l=a.left,s=void 0===l?0:l,c=a.right,u=void 0===c?0:c,d=a.top,f=void 0===d?0:d,p=a.bottom,m=void 0===p?0:p,b={toolbar:w(C({position:"fixed"},{left:s,right:u,top:f,bottom:m}),{width:u-s,height:m-f,zIndex:-1})};return(0,r.jsx)(_.ZP,w(C({interactive:!0,animation:"false",duration:0,arrow:!0,delay:0,theme:"light-border",allowHTML:!0,appendTo:"parent",visible:t,content:n},i),{children:(0,r.jsx)("button",{type:"submit",style:b.toolbar})}))},S=n(865698),k=n(369296),P=n.n(k),A=n(11285),E=n(256636),L=[{title:(0,a.t)("trix_editor.actions.h2"),subtitle:(0,a.t)("trix_editor.actions.medium_section_heading"),type:"heading2",icon:(0,r.jsx)(E.Bg,{}),subsection:"Basic"},{title:(0,a.t)("trix_editor.actions.h3"),subtitle:(0,a.t)("trix_editor.actions.small_section_heading"),type:"heading3",icon:(0,r.jsx)(E.Bg,{}),subsection:"Basic"},{title:(0,a.t)("trix_editor.actions.bulleted_list"),subtitle:(0,a.t)("trix_editor.actions.create_a_simple_bullet_list"),type:"bullet",icon:(0,r.jsx)(E.aV,{}),subsection:"Basic"},{title:(0,a.t)("trix_editor.actions.numbered_list"),subtitle:(0,a.t)("trix_editor.actions.create_a_numbered_list"),type:"number",icon:(0,r.jsx)(E.Xt,{}),subsection:"Basic"},{title:(0,a.t)("trix_editor.actions.blockquote"),subtitle:(0,a.t)("trix_editor.actions.indent_a_quote"),type:"quote",icon:(0,r.jsx)(E.V6,{}),subsection:"Basic"},{title:(0,a.t)("trix_editor.actions.divider"),subtitle:(0,a.t)("trix_editor.actions.add_a_visual_divider"),type:"divider",icon:(0,r.jsx)(E.iz,{}),subsection:"Basic"},{title:(0,a.t)("trix_editor.actions.code"),subtitle:(0,a.t)("trix_editor.actions.add_a_block_of_code"),type:"code",icon:(0,r.jsx)(E.EK,{}),subsection:"Basic"},{title:(0,a.t)("trix_editor.actions.mention"),subtitle:(0,a.t)("trix_editor.actions.tag_someone_in_this_post"),type:"mention",icon:(0,r.jsx)(E.pf,{}),subsection:"Inline"},{title:(0,a.t)("trix_editor.actions.emoji"),subtitle:(0,a.t)("trix_editor.actions.place_an_emoji_in_text"),type:"emoji",icon:(0,r.jsx)(E.dy,{}),subsection:"Inline"},{title:(0,a.t)("trix_editor.actions.image"),subtitle:(0,a.t)("trix_editor.actions.upload_or_embed_image"),type:"attachment_image",subtype:"image",icon:(0,r.jsx)(E.Ee,{}),subsection:"Upload"},{title:(0,a.t)("trix_editor.actions.pdf"),subtitle:(0,a.t)("trix_editor.actions.upload_a_pdf_file"),type:"attachment_pdf",subtype:"pdf",icon:(0,r.jsx)(E.Q3,{}),subsection:"Upload"},{title:(0,a.t)("trix_editor.actions.video"),subtitle:(0,a.t)("trix_editor.actions.upload_or_embed_video"),type:"attachment_video",subtype:"video",icon:(0,r.jsx)(E.nk,{}),subsection:"Upload"},{title:(0,a.t)("trix_editor.actions.audio"),subtitle:(0,a.t)("trix_editor.actions.attach_an_audio_file"),type:"attachment_audio",subtype:"audio",icon:(0,r.jsx)(E.Bb,{}),subsection:"Upload"},{title:(0,a.t)("trix_editor.actions.file"),subtitle:(0,a.t)("trix_editor.actions.attach_a_file"),type:"attachment_file",subtype:"file",icon:(0,r.jsx)(E.$B,{}),subsection:"Upload"},{title:(0,a.t)("trix_editor.actions.embed"),subtitle:(0,a.t)("trix_editor.actions.for_embedding_youtube_videos"),type:"embed",subtype:"embed",icon:(0,r.jsx)(E.cx,{}),subsection:"Embed"},{title:(0,a.t)("trix_editor.actions.youtube"),subtitle:(0,a.t)("trix_editor.actions.embed_a_video_from_youtube"),type:"embed",subtype:"youtube",icon:(0,r.jsx)(E.hx,{}),subsection:"Embed"},{title:(0,a.t)("trix_editor.actions.wistia"),subtitle:(0,a.t)("trix_editor.actions.embed_a_video_from_wistia"),type:"embed",subtype:"wistia",icon:(0,r.jsx)(E.nF,{}),subsection:"Embed"},{title:(0,a.t)("trix_editor.actions.vimeo"),subtitle:(0,a.t)("trix_editor.actions.embed_a_video_from_vimeo"),type:"embed",subtype:"vimeo",icon:(0,r.jsx)(E.fG,{}),subsection:"Embed"},{title:(0,a.t)("trix_editor.actions.loom"),subtitle:(0,a.t)("trix_editor.actions.embed_a_loom_recording"),type:"embed",subtype:"loom",icon:(0,r.jsx)(E.Hw,{}),subsection:"Embed"},{title:(0,a.t)("trix_editor.actions.soundcloud"),subtitle:(0,a.t)("trix_editor.actions.embed_a_soundcloud_link"),type:"embed",subtype:"soundcloud",icon:(0,r.jsx)(E.tV,{}),subsection:"Embed"},{title:(0,a.t)("trix_editor.actions.spotify"),subtitle:(0,a.t)("trix_editor.actions.embed_a_spotify_link"),type:"embed",subtype:"spotify",icon:(0,r.jsx)(E.yF,{}),subsection:"Embed"},{title:(0,a.t)("trix_editor.actions.simplecast"),subtitle:(0,a.t)("trix_editor.actions.embed_a_simplecast_link"),type:"embed",subtype:"simplecast",icon:(0,r.jsx)(E.uD,{}),subsection:"Embed"},{title:(0,a.t)("trix_editor.actions.instagram"),subtitle:(0,a.t)("trix_editor.actions.embed_an_instagram_post"),type:"embed",subtype:"instagram",icon:(0,r.jsx)(E.mr,{}),subsection:"Embed"},{title:(0,a.t)("trix_editor.actions.videoask"),subtitle:(0,a.t)("trix_editor.actions.embed_a_video_from_videoask"),type:"embed",subtype:"videoask",icon:(0,r.jsx)(E.oW,{}),subsection:"Embed"},{title:(0,a.t)("trix_editor.actions.facebook"),subtitle:(0,a.t)("trix_editor.actions.embed_a_facebook_post"),type:"embed",subtype:"facebook",icon:(0,r.jsx)(E.s1,{}),subsection:"Embed"},{title:(0,a.t)("trix_editor.actions.twitter"),subtitle:(0,a.t)("trix_editor.actions.embed_a_tweet"),type:"embed",subtype:"twitter",icon:(0,r.jsx)(E.tL,{}),subsection:"Embed"},{title:(0,a.t)("trix_editor.actions.typeform"),subtitle:(0,a.t)("trix_editor.actions.embed_a_typeform"),type:"embed",subtype:"typeform",icon:(0,r.jsx)(E.eC,{}),subsection:"Embed"},{title:(0,a.t)("trix_editor.actions.airtable"),subtitle:(0,a.t)("trix_editor.actions.embed_an_airtable"),type:"embed",subtype:"airtable",icon:(0,r.jsx)(E.B7,{}),subsection:"Embed"},{title:(0,a.t)("trix_editor.actions.github"),subtitle:(0,a.t)("trix_editor.actions.embed_a_gist"),type:"embed",subtype:"github",icon:(0,r.jsx)(E.Ey,{}),subsection:"Embed"},{title:(0,a.t)("trix_editor.actions.google_maps"),subtitle:(0,a.t)("trix_editor.actions.embed_a_google_map"),type:"embed",subtype:"googlemaps",icon:(0,r.jsx)(E.mE,{}),subsection:"Embed"},{title:(0,a.t)("trix_editor.actions.codepen"),subtitle:(0,a.t)("trix_editor.actions.embed_a_codepen"),type:"embed",subtype:"codepen",icon:(0,r.jsx)(E.Z8,{}),subsection:"Embed"}],N=function(e){var t=e.onSelect,n=e.searchQuery,o=void 0===n?"":n,i=b();o=o||"";var a=L.filter(function(e){var t;return"embed"===e.type?i.embeds:"attachment_video"===e.type?i.videoUpload:"mention"===e.type?i.mentions:"attachment_image"===e.type||(null==(t=e.subsection)?void 0:t.toLowerCase())!=="upload"||i.fileUploadLink});o.length&&(a=P().go(o,a,{keys:["title","subtitle","subsection"]}).map(function(e){return e.obj}));var l=(0,y.uniq)(a.map(function(e){return e.subsection})),s=(0,y.sortBy)(a,function(e){return l.indexOf(e.subsection)});return(0,r.jsx)(A.Q,{getKey:function(e){return e.type},getItemContent:function(e){return(0,r.jsx)(I,{action:e})},subsectionKey:"subsection",items:s,onSelect:t,disableHorizontalArrowKeys:!0,loading:!1})},I=function(e){var t=e.action,n=t.icon,o=t.title,i=t.subtitle;return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"trix__dropdown--preview",children:(0,r.jsx)("span",{children:n})}),(0,r.jsxs)("div",{className:"trix__dropdown--textbox",children:[(0,r.jsx)("div",{className:"trix__dropdown--title",children:o}),(0,r.jsx)("div",{className:"trix__dropdown--subtitle",children:i})]})]})};function M(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){n(e);return}l.done?t(s):Promise.resolve(s).then(r,o)}I.propTypes={action:u().shape({icon:u().node.isRequired,title:u().string.isRequired,subtitle:u().string.isRequired})},N.propTypes={onSelect:u().func.isRequired,searchQuery:u().string.isRequired};var T=function(){var e=(0,S.Xz)(),t=e.startPosition,n=e.resetEditorMode,r=e.showInlineBlockSelector,o=e.setModeInlineModalSelector,i=e.setSubTypeInlineModalSelector,a=e.triggerInlineEmojiSelector,l=(0,v.DM)(),s=l.setSelectedRange,c=l.deleteInDirection,u=l.recordUndoEntry,d=l.getPosition,f=l.insertString,p=l.insertHr,m=l.activateAttribute,b=l.insertLineBreak;return{eventHandler:function(e,l){var h,v=e.type,g=e.subtype;return(h=function(){var e;return function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(s){var c=[l,s];if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}(this,function(h){switch(h.label){case 0:return l.preventDefault(),l.stopPropagation(),s([t,e=d()]),r()&&t!==e&&c("forward"),u("Trigger ".concat(v)),[4,n()];case 1:if(h.sent(),"upload"===(0,y.find)(L,function(e){return e.type===v}).subsection.toLowerCase()||"embed"===v)return o(v),i(g),[2];switch(v){case"mention":f("@");break;case"emoji":a();break;case"divider":p(),b();break;default:m(v)}return[2]}})},function(){var e=this,t=arguments;return new Promise(function(n,r){var o=h.apply(e,t);function i(e){M(o,n,r,i,a,"next",e)}function a(e){M(o,n,r,i,a,"throw",e)}i(void 0)})})()}}},D=function(){var e=(0,S.Xz)(),t=e.subMode,n=e.showInlineBlockSelector,o=e.startPositionRect,i=e.startPosition,a=n(),l=(0,v.DM)(),s=l.getStringInRange,c=l.getPosition,u=T().eventHandler;if(!a)return null;var d=o(),f=s([i+ +("withPrefix"===t),c()]);if(!d)return null;var p=d.top,m=d.bottom,b=d.left,h=d.right;return(0,r.jsx)("div",{className:"inline-block-selector",children:(0,r.jsx)("div",{className:"trix__dropdown--wrap",children:(0,r.jsx)(O,{show:!0,anchorRect:{top:(void 0===p?0:p)-10,bottom:(void 0===m?0:m)+10,left:void 0===b?0:b,right:void 0===h?0:h},placement:"bottom-start",children:(0,r.jsx)("div",{style:{width:300},children:(0,r.jsx)(N,{searchQuery:f,onSelect:u})})})})})},R=n(478669),U=function(){var e=(0,S.Xz)(),t=e.showModalBlockSelector,n=e.resetEditorMode,o=T().eventHandler,i=t();return i?(0,r.jsx)(R.u,{variant:"large",title:(0,a.t)("power_actions"),show:i,onClose:n,className:"fullpage-modal__block-selector",children:(0,r.jsx)(N,{onSelect:o})}):null};function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}var B=function(e){var t=e.variant,n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["variant"]);return"inline"===t?(0,r.jsx)(D,H({},n)):"modal"===t?(0,r.jsx)(U,H({},n)):(console.error("BlockSelector: Wrong value for variant = ",t),null)};B.propTypes={variant:u().oneOf(["inline","modal"])};var Z=function(){var e=(0,S.Xz)(),t=e.showHyperlinkTooltip,n=e.startPosition,o=(0,v.DM)().trixApiWrapper;if(!t())return null;var i=o.getClientRectAtPosition(n),a=o.getHrefAtPosition(n);return(0,r.jsx)(O,{show:!0,anchorRect:i,children:(0,r.jsx)("div",{className:"inline-toolbar",children:(0,r.jsx)("a",{href:a,target:"_blank",className:"inline-toolbar__hyperlink-tooltip",rel:"noreferrer",children:a})})})},F=n(698678),z=n(628866),V=n(333037);function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function G(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){n(e);return}l.done?t(s):Promise.resolve(s).then(r,o)}function q(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){G(i,r,o,a,l,"next",e)}function l(e){G(i,r,o,a,l,"throw",e)}a(void 0)})}}function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(s){var c=[l,s];if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}var $=function(e){var t=e.rect,n=e.query,i=e.onEmojiSelect,a=J((0,o.useState)([]),2),l=a[0],s=a[1],c=J((0,o.useState)(!0),2),u=c[0],d=c[1];if((0,z.M)({options:{onSuccess:function(e){return q(function(){return Q(this,function(t){switch(t.label){case 0:return[4,(0,V.S)()];case 1:return(0,t.sent().init)({data:e}),[2]}})})()}}}),(0,o.useEffect)(function(){t&&n&&q(function(){return Q(this,function(e){switch(e.label){case 0:return[4,(0,V.S)()];case 1:return[4,e.sent().SearchIndex.search(n)];case 2:return s(e.sent().map(function(e){return{native:e.skins[0].native,colons:e.skins[0].shortcodes}})),d(!1),[2]}})})()},[t,n]),!t||u)return null;var f=t.top,p=t.left;return(0,r.jsx)("div",{style:{position:"fixed",left:p,top:f+30,zIndex:1e3,width:292},children:(0,r.jsx)(A.Q,{getKey:function(e){return e.colons},getItemContent:function(e){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"emoji-item__native",children:e.native}),(0,r.jsx)("span",{className:"emoji-item__colons",children:e.colons})]})},items:l,onSelect:i,disableHorizontalArrowKeys:!0})})},K=function(){var e=(0,S.Xz)(),t=e.showInlineEmojiSelector,n=e.startPosition,o=e.resetEditorMode,i=e.startPositionRect,a=t(),l=(0,v.DM)(),s=l.insertString,c=l.setSelectedRange,u=l.getStringInRange,d=l.getPosition;if((0,F.a)(a),!a)return null;var f=i(),p=u([n+1,d()]);return!p||p.length<1?null:(0,r.jsx)("div",{className:"inline-emoji-selector",children:(0,r.jsx)($,{rect:f,query:p,onEmojiSelect:function(e){e&&(c([n,d()]),s(e.native)),o()}})})},Y=n(379600),X=n.n(Y),ee=n(886120);function et(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var en=function(){var e,t=(0,S.Xz)(),n=t.toggleOffInlineLinkForm,i=t.showInlineLinkForm,l=t.startPositionRect,s=t.endPositionRect,c=t.resetEditorMode,u=(0,v.DM)().trixApiWrapper,d=u.getHrefAtCurrentPosition()||"",f=(e=(0,o.useState)(d),function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),i.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(e,2)||function(e,t){if(e){if("string"==typeof e)return et(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return et(e,t)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=f[0],m=f[1],b=i(),y=!!u.attributeIsActive("href"),g=(0,ee.k)([b]),x=(0,o.useRef)(null),j=(0,h.kK)();return b?(0,r.jsx)(er,{smScreen:j,startPositionRect:l,endPositionRect:s,resetEditorMode:c,children:(0,r.jsx)("div",{ref:x,className:X()("link-form",{"link-form--active":y}),children:(0,r.jsxs)("form",{onSubmit:function(e){e.preventDefault()},children:[(0,r.jsx)("input",{ref:g,className:"form-control placeholder:text-light placeholder:opacity-100",type:"text",placeholder:(0,a.t)("paste_link"),value:p,onChange:function(e){return m(e.target.value)}}),!y&&(0,r.jsx)("button",{type:"submit",className:"btn btn-primary btn-link-toolbar",onClick:function(e){if(e.preventDefault(),p){var t=p;n(!1),u.recordUndoEntry(),t.match(/^(https?:\/\/|mailto:)/i)||(t="http://"+t),u.activateAttribute("href",t),m("")}},children:(0,a.t)("link")}),y&&(0,r.jsx)("button",{type:"submit",className:"btn btn-primary btn-link-toolbar",onClick:function(e){e.preventDefault(),p&&(n(!0),u.recordUndoEntry(),u.deactivateAttribute("href",p))},children:(0,a.t)("unlink")})]})})}):null},er=function(e){var t=e.children,n=e.smScreen,o=e.resetEditorMode,i=e.endPositionRect,l=e.startPositionRect;if(n)return(0,r.jsx)(R.u,{variant:"large",show:!0,title:(0,a.t)("add_a_link"),onClose:o,children:t});var s=l()||{},c=s.top,u=s.left,d=i()||{},f=d.bottom,p=d.right;return(0,r.jsx)("div",{className:"link-form__wrap",children:(0,r.jsx)(O,{show:!0,anchorRect:{top:c,bottom:f,left:u,right:p},children:t})})};er.propTypes={children:u().node,smScreen:u().bool,resetEditorMode:u().func,endPositionRect:u().func,startPositionRect:u().func};var eo=n(734811),ei=n(951957),ea=function(e){var t=e.active,n=e.action,o=e.onClick;return(0,r.jsx)("button",{type:"button",className:X()("toolbar-action-btn",{active:t}),onClick:function(e){e.stopPropagation(),e.preventDefault(),o(null==n?void 0:n.attribute,null==n?void 0:n.options)},children:null==n?void 0:n.label})},el=function(){var e=(0,S.Xz)(),t=e.showInlineToolbar,n=e.toggleOnInlineLinkForm,o=e.showInlineLinkForm,i=e.startPositionRect,a=e.endPositionRect,l=(0,v.DM)().trixApiWrapper;if(!(t()&&!o()))return null;var s=function(e,t){l.attributeIsActive(e)?(l.recordUndoEntry("Unmarking as ".concat(e)),l.deactivateAttribute(e)):"href"===e?n():(l.recordUndoEntry("Marking as ".concat(e)),l.activateAttribute(e,t))},c=i()||{},u=c.top,d=c.left,f=a()||{},p=f.bottom,m=f.right;return(0,r.jsx)(O,{show:!0,anchorRect:{top:u,bottom:p,left:d,right:m},children:(0,r.jsx)("div",{className:"inline-toolbar",children:ei.io.map(function(e){return(0,r.jsx)(ea,{action:e,onClick:s,active:l.attributeIsActive(e.attribute)},e.attribute)})})})},es=n(854520),ec=n(583972),eu=function(){var e=(0,S.Xz)().toggleOnInlineLinkForm;return(0,r.jsx)("button",{type:"button",onClick:function(){e()},className:"toolbar__btn","data-trix-attribute":"href","data-trix-action":"link","data-trix-key":"k","aria-label":(0,a.t)("link"),children:(0,r.jsx)(ec.JO,{type:"link",size:20})})},ed=function(){var e=(0,S.Xz)(),t=e.setModeModalBlockSelector,n=e.setModeInlineBlockSelector,o=e.showInlineBlockSelector,i=(0,v.DM)(),l=i.setSelectedRange,s=i.getPosition,c=(0,h.Be)();return(0,r.jsx)("button",{type:"button",className:"toolbar__btn",onClick:function(){if(c){if(!o()){var e=s();l([e,e]),n({withPrefix:!1})}}else t()},"aria-label":(0,a.t)("trix_editor.actions.add_a_block_of_code"),children:(0,r.jsx)(ec.JO,{type:"block-menu-btn",size:20})})},ef=n(74288),ep=function(){var e=(0,v.DM)(),t=e.trixApiWrapper,n=e.editorElement,o=(0,S.Xz)(),i=o.resetEditorMode,l=o.setModeEmojiPicker;return(0,r.jsx)(ef.c,{onEmojiSelect:function(e){l(),t.recordUndoEntry("Insert emoji"),t.insertString(e.emoji),i(),n.setSelectedRange(-1)},target:(0,r.jsx)("button",{type:"button",className:"toolbar__btn toolbar__btn--emoji","aria-label":(0,a.t)("trix_editor.toolbar.emojis"),children:(0,r.jsx)(ec.JO,{type:"emoji"})})})},em=n(14596),eb=function(){return(0,r.jsx)(em.d,{children:(0,r.jsx)("button",{type:"submit",className:"toolbar__btn toolbar__btn--file",children:(0,r.jsx)(ec.JO,{type:"toolbar-file",size:20})})})},eh=n(438667),ey=n(654423),ev=function(e){var t=e.width,n=e.gif,o=e.onGifClick;return(0,r.jsx)("a",{href:"#insert",onClick:function(e){return o(n,e)},children:(0,r.jsx)("img",{loading:"lazy",alt:"",width:t,src:n.images.preview_gif.url})})};let eg=n.p+"static/react/components/shared/TrixEditor/Toolbar/giphy-611d40e0527780bb.png";function ex(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ej(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){n(e);return}l.done?t(s):Promise.resolve(s).then(r,o)}function e_(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){ej(i,r,o,a,l,"next",e)}function l(e){ej(i,r,o,a,l,"throw",e)}a(void 0)})}}function eC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(e,t)||eO(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ew(e){return function(e){if(Array.isArray(e))return ex(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||eO(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eO(e,t){if(e){if("string"==typeof e)return ex(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ex(e,t)}}function eS(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(s){var c=[l,s];if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}var ek=function(e){var t=e.show,n=e.onClose,i=eC((0,o.useState)([]),2),l=i[0],s=i[1],c=eC((0,o.useState)(""),2),u=c[0],d=c[1],f=(0,h.Be)(),p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e_(function(){var t;return eS(this,function(n){switch(n.label){case 0:if(null===e&&(e=10*l.length),t=[],!u)return[3,2];return[4,ey.y(u,{offset:e,limit:10})];case 1:return t=n.sent().data,[3,4];case 2:return[4,ey.q({offset:e,limit:10})];case 3:t=n.sent().data,n.label=4;case 4:return s(ew(l).concat(ew(t))),[2]}})})()},m=(0,v.DM)().trixApiWrapper,b=function(e,t){return e_(function(){var r,o,i,a;return eS(this,function(l){switch(l.label){case 0:return t.preventDefault(),n(),[4,fetch(e.images.original.url)];case 1:return r=l.sent(),o=".gif",i="image/gif","video"===e.type&&(o=".mp4",i="video/mp4"),[4,r.blob()];case 2:return a=new File([l.sent()],"".concat(e.id).concat(o),{type:i}),m.insertFile(a),[2]}})})()},y=(0,ee.k)([t]);return((0,o.useEffect)(function(){l.length||p()},[l]),(0,F.a)(t&&f),t)?(0,r.jsx)("div",{className:"inline-toolbar",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{ref:y,type:"text",placeholder:(0,a.t)("trix_editor.toolbar.search_giphy"),onChange:function(e){d(e.target.value),s([])},value:u,style:{width:"100%"},className:"giphy-input placeholder:text-light placeholder:opacity-100"}),(0,r.jsx)(eh.Z,{dataLength:l.length,next:p,hasMore:!0,loader:(0,r.jsx)(ec.JO,{type:"loader"}),height:300,style:{width:300},className:"giphy-grid",children:l.map(function(e){return(0,r.jsx)(ev,{hideAttribution:!0,noLink:!1,gif:e,width:150,onGifClick:b},e.id)})}),(0,r.jsx)("img",{loading:"lazy",src:eg,className:"giphy-logo",alt:""})]})}):null},eP=function(e){var t=e.onClick;return(0,r.jsx)("button",{type:"button",onClick:t,className:"toolbar__btn toolbar__gif","aria-label":(0,a.t)("trix_editor.toolbar.gifs"),children:(0,r.jsx)(ec.JO,{type:"toolbar-gif",size:20})})},eA=function(){var e=(0,S.Xz)(),t=e.setModeGiphyPicker,n=e.showGiphyPicker,o=e.resetEditorMode,i=n(),l=function(e){e.preventDefault(),i?o():t()},s=(0,h.Be)();return(0,r.jsxs)(r.Fragment,{children:[!s&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(R.u,{variant:"large",className:"fullpage-modal__gif",title:(0,a.t)("trix_editor.toolbar.gifs"),show:i,onClose:o,children:(0,r.jsx)(ek,{show:i,onClose:o})}),(0,r.jsx)(eP,{onClick:l})]}),s&&(0,r.jsx)(_.ZP,{content:(0,r.jsx)(ek,{show:i,onClose:o}),visible:i,allowHTML:!0,interactive:!0,animation:"false",duration:0,arrow:!0,delay:0,theme:"light-border",appendTo:"parent",children:(0,r.jsx)("div",{children:(0,r.jsx)(eP,{onClick:l})})})]})},eE=function(e){var t=e.attribute,n=e.subtype,o=(0,S.Xz)(),i=o.setModeInlineModalSelector,l=o.setSubTypeInlineModalSelector,s=function(){i(t),l(n)};return(0,r.jsxs)(r.Fragment,{children:["image"===n&&(0,r.jsx)("button",{type:"button","aria-label":(0,a.t)("trix_editor.toolbar.image"),className:"toolbar__btn",onClick:s,children:(0,r.jsx)(ec.JO,{type:"toolbar-image",size:20})}),"video"===n&&(0,r.jsx)("button",{type:"button","aria-label":(0,a.t)("trix_editor.toolbar.video"),className:"toolbar__btn",onClick:s,children:(0,r.jsx)(ec.JO,{type:"toolbar-video",size:20})})]})},eL=function(){var e=(0,h.a7)(),t=(0,h.kK)(),n=b().isTrixFeatureEnabled,o=n("videoUpload"),i=n("fileUploadLink"),a=n("giphyPicker");return(0,r.jsxs)("div",{className:"toolbar",children:[(0,r.jsx)(ed,{}),t&&(0,r.jsx)(eu,{}),o&&e&&(0,r.jsx)(eE,{attribute:"attachment_video",subtype:"video"}),(0,r.jsx)(eE,{attribute:"attachment_image",subtype:"image"}),a&&(0,r.jsx)(eA,{}),(0,r.jsx)(es.BrowserView,{children:(0,r.jsx)(ep,{})}),i&&(0,r.jsx)(eb,{})]})},eN=n(281425),eI=function(e){return(void 0===e?"undefined":e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e)=="object"&&null!==e&&"editorRef"in e&&"focus"in e&&"function"==typeof e.focus&&"insertMention"in e&&"function"==typeof e.insertMention&&"shouldInsert"in e&&"function"==typeof e.shouldInsert&&"removeMentions"in e&&"function"==typeof e.removeMentions},eM=n(904812),eT=n(188219),eD=document.documentElement,eR=eD.matches,eU=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.onElement,r=t.matchingSelector,o=t.withCallback,i=t.inPhase,a=t.preventDefault,l=t.times,s=n||eD,c="capturing"===i,u=function(e){null!=l&&0==--l&&u.destroy();var t=eH(e.target,{matchingSelector:r});null!=t&&(null==o||o.call(t,e,t),a&&e.preventDefault())};return u.destroy=function(){return s.removeEventListener(e,u,c)},s.addEventListener(e,u,c),u},eH=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.matchingSelector,r=t.untilNode;e&&e.nodeType!==Node.ELEMENT_NODE;)e=e.parentNode;if(null!=e)if(null==n)return e;else{if(e.closest&&null==r)return e.closest(n);for(;e&&e!==r;){if(eB(e,n))return e;e=e.parentNode}}},eB=function(e,t){if((null==e?void 0:e.nodeType)===1)return eR.call(e,t)};function eZ(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){n(e);return}l.done?t(s):Promise.resolve(s).then(r,o)}var eF=function(e){(0,o.useEffect)(function(){if(e.current){var t=new eT.f(e.current.editor);eU("mousedown",{onElement:e.current,matchingSelector:"[data-trix-attachment]",withCallback:function(n){n.preventDefault();var r=n.target,o=t.getClosestAttachment(r),i=r.closest(".editor-overlay");if(r.classList.contains("editor-overlay")||i)return void t.editAttachment(o);var a=t.getPosition();t.setSelectedRange([a,a]),t.stopEditingAttachment(o),e.current.editorController.compositionDidStopEditingAttachment(o)}})}},[e]),(0,o.useEffect)(function(){if(e.current){var t=e.current,n=new eT.f(t.editor),r=function(e){i(e),o(e)},o=function(e){var t;return(t=function(){var t,r,o;return function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(s){var c=[l,s];if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}(this,function(i){switch(i.label){case 0:if(!(t=e.target.closest('[data-actionType="update-alignment"]')))return[3,3];return e.preventDefault(),e.stopPropagation(),r=n.getClosestAttachment(t),n.editAttachment(r),[4,fetch((0,eM.Wt)(r.getAttribute("sgid")),{body:JSON.stringify({attachment_property:{alignment:t.dataset.value}}),method:"PATCH",dataType:"script",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"}})];case 1:return[4,i.sent().json()];case 2:o=i.sent(),r.setAttributes({content:o.content}),n.stopEditingAttachment(r),n.editAttachment(r),i.label=3;case 3:return[2]}})},function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(e){eZ(i,r,o,a,l,"next",e)}function l(e){eZ(i,r,o,a,l,"throw",e)}a(void 0)})})()},i=function(e){var t=e.target.closest('[data-actionType="remove-attachment"]');if(t){e.preventDefault(),e.stopPropagation(),n.recordUndoEntry("remove attachment");var r=n.getClosestAttachment(t);n.removeAttachmentById(r.id)}};return t.addEventListener("click",r),function(){t.removeEventListener("click",r)}}},[e])},ez=n(386899);function eV(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){n(e);return}l.done?t(s):Promise.resolve(s).then(r,o)}function eW(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){eV(i,r,o,a,l,"next",e)}function l(e){eV(i,r,o,a,l,"throw",e)}a(void 0)})}}function eG(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(s){var c=[l,s];if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}var eq=function(){var e;function t(e,n,r){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");this.file=e.file,this.editor=n.editor,this.editorElement=n,this.afterCompleteCallback=r,this.attachment=e,this.attachment.setAttributes({content:this.progressContent(),contentType:"custom-progress"}),this.directUpload=new ez.TX(this.file,(0,eM.hq)(),this)}return e=[{key:"start",value:function(){this.directUpload.create(this.directUploadDidComplete.bind(this))}},{key:"directUploadWillStoreFileWithXHR",value:function(e){var t=this;e.upload.addEventListener("progress",function(e){var n=e.loaded/e.total*100;t.attachment.setAttributes({content:t.progressContent(n)})})}},{key:"directUploadDidComplete",value:function(e,t){return eW(function(){var n;return eG(this,function(r){switch(r.label){case 0:if(e)throw this.afterCompleteCallback&&this.afterCompleteCallback(),Error("Direct upload failed: ".concat(e));return[4,this.getAttachmentContent(t.attachable_sgid)];case 1:var o,i;return n=r.sent(),this.attachment.setAttributes((o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},t),i=i={sgid:t.attachable_sgid,url:this.createBlobUrl(t.signed_id,t.filename),content:n,contentType:t.content_type},Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(i)).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(i,e))}),o)),this.afterCompleteCallback&&this.afterCompleteCallback(),[2]}})}).call(this)}},{key:"getAttachmentContent",value:function(e){return eW(function(){return eG(this,function(t){switch(t.label){case 0:return[4,fetch((0,eM.mb)(e))];case 1:return[4,t.sent().text()];case 2:return[2,t.sent()]}})})()}},{key:"createBlobUrl",value:function(e,t){return(0,eM.Gd)({signed_id:e,filename:t})}},{key:"progressContent",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e=parseInt(n),t=this.file.name,'\n  <div class="progress-card">\n    <div class="editor-overlay">\n      <div class="overlay-editor-actions">\n        <a href="#remove-attachment" data-actionType="remove-attachment" class="close-btn">\n          <div class="close-btn__caret"></div>\n          <svg class="icon icon-close icon--lg" viewBox="0 0 24 24">\n            <use xlink:href="#icon-close" />\n          </svg>\n        </a>\n      </div>\n    </div>\n    <span class="progress-card__filename">'.concat(t,'</span>\n    <span class="progress-card__amount">').concat(e,' %</span>\n    <div class="attachment__upload progress-bar">\n      <div class="progress-bar__line" style="width:').concat(e,'%;"></div>\n    </div>\n  </div>\n')}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}();eq.createFromFile=function(e,t,n){return new eq(eN.default.Attachment.attachmentForFile(e),t,n)};var eJ=function(e){var t=b().isTrixFeatureEnabled;(0,o.useEffect)(function(){if(e.current){var n=function(e){e.file?e.file.type.startsWith("video")?t("videoUpload")||(e.preventDefault(),console.error("Video upload is disabled!")):e.file.type.startsWith("image")||t("fileUploadLink")||(e.preventDefault(),console.error("File upload is disabled!")):e.preventDefault()},r=e.current;return r.addEventListener("trix-file-accept",n),function(){return r.removeEventListener("trix-file-accept",n)}}},[e,t]),(0,o.useEffect)(function(){if(e.current){var t=e.current,n=function(e){var n=e.attachment;e.preventDefault(),e.stopImmediatePropagation(),n.file&&new eq(n,t,y.noop).start()};return t.addEventListener("trix-attachment-add",n),function(){return t.removeEventListener("trix-attachment-add",n)}}},[e])};function eQ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var e$=function(e,t){var n,r=(n=(0,o.useState)(!1),function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),i.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(n,2)||function(e,t){if(e){if("string"==typeof e)return eQ(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eQ(e,t)}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=r[0],a=r[1];return(0,o.useEffect)(function(){if(e.current&&t.current){var n=function(){for(var n=e.current.children,r=0,o=0;o<n.length;o++)r=Math.max(r,n[o].scrollWidth);a(r>=t.current.scrollWidth-255)};return e.current.addEventListener("trix-change",n),function(){e.current&&e.current.removeEventListener("trix-change",n)}}},[e,t]),i};function eK(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var eY=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0;(0,o.useEffect)(function(){var n=function(n){e&&(r||function(){return document.contains(n.target)&&!e.contains(n.target)})(n)&&t(n)};return window.addEventListener("mousedown",n),function(){return window.removeEventListener("mousedown",n)}},[t,e].concat(function(e){if(Array.isArray(e))return eK(e)}(n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return eK(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eK(e,t)}}(n)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))},eX=n(743927),e0=n.n(eX),e1="mention",e2=function(e){var t=e.id,n=e.public_uid,r=e.name,o=(0,eM.zd)({public_uid:n,params:{show_back_link:!0}}),i=document.createElement("a");i.className="mention__name",i.setAttribute("role","button"),i.setAttribute("href",o),i.textContent=r;var a=document.createElement("span");return a.className="mention user_mention_".concat(t),a.appendChild(i),a.outerHTML};function e3(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var e5=function(e,t){var n,r=(n=(0,o.useState)(e),function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),i.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(n,2)||function(e,t){if(e){if("string"==typeof e)return e3(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e3(e,t)}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=r[0],a=r[1],l=i!==e;return(0,o.useEffect)(function(){a(e)},[]),(0,o.useEffect)(function(){var n=t(),r="Are you sure you want to leave?",o=function(e){l&&(e.preventDefault(),e.returnValue=r)},i=function(e){l&&!confirm(r)&&e.preventDefault()},s=function(){a(e)};return n&&n.addEventListener("submit",s),window.addEventListener("beforeunload",o),document.addEventListener("turbolinks:before-visit",i),function(){n&&n.removeEventListener("submit",s),window.removeEventListener("beforeunload",o),document.removeEventListener("turbolinks:before-visit",i)}},[l,e,a,t]),{dirty:l}};function e4(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function e6(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return e4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e4(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}({perform:function(){eN.default.config.blockAttributes.heading2={tagName:"h2",terminal:!0,breakOnReturn:!0,group:!1},eN.default.config.blockAttributes.heading3={tagName:"h3",terminal:!0,breakOnReturn:!0,group:!1},eN.default.config.blockAttributes.quote={tagName:"blockquote",nestable:!0,terminal:!0,breakOnReturn:!0}}}).perform();var e8=function(e){var t,n,c=e.id,u=e.name,d=e.dataIsPrivateSpace,f=e.dataSpaceId,p=e.placeholder,m=e.preventAccidentalLeave,b=e.tabIndex,y=e.className,g=e.toolbarPortalId,x=e.forwardedRef,_=e.editorContainerClassName,C=(0,o.useRef)(null),w=e6((0,o.useState)(null),2),O=w[0],k=w[1],P=e6((0,o.useState)(p),2),A=P[0],E=P[1],L=(0,o.useRef)(null),N=(0,a.t)("post_editor_placeholder"),I=(0,a.t)("post_editor_placeholder_mobile"),M=(0,S.w2)(C.current),T=e.hasOwnProperty("value");if(T)t=e.value,(n=e.onChange)||console.error("value provided without onChange");else{var D=(0,o.useState)(e.defaultValue||""),R=D[1];t=D[0],n=function(e){R(e.target.innerHTML)}}var U=((0,o.useEffect)(function(){var t=C.current;if(t){var n=function(e){var t=e.detail.item.original,n=C.current,r=new eN.default.Attachment({content:t.content,contentType:e1,sgid:t.sgid});n.editor.insertAttachment(r),n.editor.insertString(" ")},r=new(e0())({allowSpaces:!0,lookup:"just_name",values:function(t,n){var r={query:t,is_private_space:!!e.is_private_space};e.space_id&&(r.space_id=e.space_id),fetch(eM.t1.index({params:r})).then(function(e){return e.json()}).then(function(e){return n(e)}).catch(function(){return n([])})},menuItemTemplate:function(e){return e.original.name}});return r.attach(t),t.addEventListener("tribute-replaced",n),r.range.pasteHtml=function(e,n,r){var o=t.editor.getPosition();t.editor.setSelectedRange([o-r,o]),t.editor.deleteInDirection("backward")},function(){r.detach(t),t.removeEventListener("tribute-replaced",n)}}},[C,e.is_private_space,e.space_id]),{insertMention:function(e){var t,n=C.current,r=new eN.default.Attachment({content:null!=(t=e.content)?t:e2(e),contentType:e1,sgid:e.sgid,name:e.name});n.editor.insertAttachment(r),n.editor.insertString(" ")},shouldInsert:function(e){var t=C.current.editor.composition.attachments;return 0==t.length&&""==C.current.innerText.trim()||1==t.length&&t[0].attributes.values.sgid!=e&&C.current.innerText.trim()==t[0].attributes.values.name},removeMentions:function(){var e=C.current.editor.composition;e.attachments.filter(function(e){return e.attributes.values.contentType===e1}).forEach(function(t){return e.removeAttachment(t)})}}),H=U.insertMention,F=U.shouldInsert,z=U.removeMentions;(0,o.useEffect)(function(){C.current&&x&&(x.current={editorRef:C,focus:function(){C.current&&C.current.focus()},insertMention:H,shouldInsert:F,removeMentions:z})},[C.current,x,H,F,z]),eJ(C);var V=(0,h.Be)();eY(L.current,M.resetEditorMode,[],function(e){var t,n,r=M.showInlineLinkForm,o=M.showInlineModalSelector,i=r()||o();if(!V||i)return!1;if(g){var a=document.getElementById(g);if(null==a?void 0:a.contains(e.target))return!1}return document.contains(e.target)&&(!(null==(t=L.current)?void 0:t.contains(e.target))||(null==(n=C.current)?void 0:n.contains(e.target)))}),(0,o.useEffect)(function(){p||E(V?N:I)},[p,V]),(0,o.useEffect)(function(){k(C.current)},[C]),(0,o.useEffect)(function(){if(C.current&&"toolbarElement"in C.current)try{var e=C.current.toolbarElement;e.parentNode.removeChild(e)}catch(e){console.error("TrixEditor - Failed to remove toolbar element:",e)}},[C]),(void 0===m||m)&&e5(t,function(){return null==O?void 0:O.closest("form")}),eF(C),(0,o.useEffect)(function(){if(O)return O.addEventListener("trix-change",n),function(){O.removeEventListener("trix-change",n)}},[O,T?n:null]);var W=e$(C,L),G=(0,o.useMemo)(function(){return t&&(0,s.ND)(t)},[t]);return(0,r.jsx)(v.DE.Provider,{value:O,children:(0,r.jsx)(S.P6.Provider,{value:M,children:(0,r.jsxs)("div",{className:(0,l.A)("react-trix-editor-container",void 0===_?"":_),ref:L,children:[!!O&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(el,{}),(0,r.jsx)(en,{}),(0,r.jsx)(K,{}),(0,r.jsx)(j,{}),(0,r.jsx)(eo.QE,{}),(0,r.jsx)(B,{variant:"inline"}),(0,r.jsx)(B,{variant:"modal"}),(0,r.jsx)(Z,{})]}),(0,r.jsxs)("div",{className:(0,l.A)("trix-editor-textbox","form-control",void 0===y?"":y,{expanded:W}),children:[(0,r.jsx)("input",{type:"hidden",id:c,name:u,value:G}),(0,r.jsx)("trix-editor",{ref:C,input:c,placeholder:A,"data-is-private-space":d,"data-space-id":f,tabIndex:b||""})]}),(0,r.jsx)(i.h,{selectorQuery:g?"#".concat(g):"",disablePortal:!g,children:!!O&&(0,r.jsx)("div",{className:(0,l.A)("comment-box__bar",{expanded:W}),children:(0,r.jsx)(eL,{})})})]})})})},e9=(0,o.forwardRef)(function(e,t){var n,o;return(0,r.jsx)(m,{value:e.featureFlags,children:(0,r.jsx)(e8,(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e),o=o={forwardedRef:t},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))}),n))})});e9.displayName="TrixEditor"},64285:function(e,t,n){n.d(t,{a:()=>i});var r=n(683551),o=n(960084),i=function(e){var t=e.title,n=e.subtitle;return(0,r.jsx)("div",{className:"my-28",children:(0,r.jsx)(o.u,{subtitle:void 0===n?"":n,title:void 0===t?"":t})})}},355101:function(e,t,n){n.d(t,{d:()=>l});var r=n(683551),o=n(100334),i=n(357382),a=n(189713),l=function(e){var t=e.blockingFeatures,n=e.i18nRoot;return e.isLoading?(0,r.jsx)(i.a,{}):(0,r.jsx)("div",{className:"dark:bg-primary mt-6 rounded-md bg-slate-50 px-6 py-5",children:t.length>0?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.Z.BodyMd,{children:(0,o.t)("".concat(n,".scheduled_downgrade.blocking_features_title"))}),(0,r.jsx)("ul",{className:"list-inside list-disc space-y-1 pl-2 pt-2",children:t.map(function(e){return(0,r.jsx)("li",{children:(0,r.jsx)("span",{className:"text-dark text-md font-normal normal-case leading-6 tracking-tighter",children:e})},e)})})]}):(0,r.jsx)(a.Z.BodyMd,{children:(0,o.t)("".concat(n,".scheduled_downgrade.no_blocking_features"))})})}},775866:function(e,t,n){n.d(t,{w:()=>tn});var r,o=n(683551),i=n(564514),a=n(100334),l=n(757977),s=n(722024),c=n(263285),u=n(131536),d=n(62263),f=n(583972),p=n(870879),m=n(189713),b=function(e){var t=e.title,n=e.errorMessage,r=e.buttonLabel,i=e.onClick,a=e.iconColor;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(c.u_.Body,{children:(0,o.jsxs)("div",{className:"mt-16 text-center",children:[(0,o.jsx)("div",{className:"mb-10",children:(0,o.jsx)(f.JO,{type:"68-error-".concat(void 0===a?"red":a),size:68,className:"!w-16"})}),t&&(0,o.jsx)("div",{className:"mb-3",children:(0,o.jsx)(m.Z.TitleMd,{children:t})}),n&&(0,o.jsx)("div",{className:"mb-14",children:(0,o.jsx)(m.Z.LabelMd,{color:"text-default",children:(0,o.jsx)(d.w,{content:n})})})]})}),(0,o.jsx)(c.u_.Footer,{children:(0,o.jsx)(p.z,{variant:"circle",large:!0,full:!0,onClick:i,children:r})})]})},h=function(e){var t=e.title,n=e.errorMessage,r=e.iconColor,i=e.supportType,l=void 0===i?"email":i,s=e.hideModal,c=(0,u.tQ)().toggleWidget,d=function(){window.open("mailto:support@circle.so","emailWindow")};return(0,o.jsx)(b,{title:t,errorMessage:n,buttonLabel:(0,a.t)("pricing_plans.upgrade_modal.actions.contact_support"),onClick:function(){"chat"===l?(null==s||s(),c()):d()},iconColor:void 0===r?"red":r})},y=n(64285),v=n(314121),g=n(294757),x=n(714844),j=n(309785),_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,x.useQuery)(["workflows-community-current-usage-stats"],function(){return j.nH.fetchCommunityCurrentUsageStats()},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e))},C=n(554956),w=n(70305),O=function(e){var t=e.billingCurrency,n=void 0===t?"":t,r=e.locale,o=void 0===r?"":r,i=e.isEnabled,a=(0,x.useQuery)(["plan","fetch","email_hub",n,o],function(){return j.Q2.fetchEmailHubPlan({billing_currency:n,locale:o})},{enabled:void 0===i||i});return{emailHubPlan:a.data,isEmailHubPlanLoading:a.isLoading,errorFetchingEmailHubPlan:a.error}},S=n(684785);function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var A=(0,v.createContext)(null);A.displayName="UpgradePlanContext";var E=function(){var e=(0,v.useContext)(A);if(!e)throw Error("useUpgradePlanContext must be used within <UpgradePlanProvider>");return e},L=function(e){var t,n=e.children,r=e.planId,i=e.planTier,a=e.source,l=e.usedForWorkflows,s=void 0!==l&&l,c=e.showPlanDetails,u=void 0!==c&&c,d=e.shouldSkipProrationStep,f=void 0!==d&&d,p=e.isEmailHubRequired,m=void 0!==p&&p,b=e.isRenewal,h=void 0!==b&&b,y=(0,g.E)(),x=y.canChooseCurrency,j=y.defaultCurrency,_=y.shouldShowProration,C=P((0,v.useState)(null!=j?j:void 0),2),k=C[0],E=C[1],L=P((0,v.useState)(!1),2),N=L[0],I=L[1],M=P((0,v.useState)(),2),T=M[0],D=M[1];(0,v.useEffect)(function(){N||E(null!=j?j:void 0)},[j,N]);var R=(0,v.useMemo)(function(){var e;return null!=(e=new URLSearchParams(window.location.search).get("locale"))?e:void 0},[]),U=(0,v.useMemo)(function(){return{planTier:N?T:i,planId:N?void 0:r,billingCurrency:k,locale:R,isEmailHubRequired:m}},[N,T,i,r,k,R,m]),H=(0,v.useMemo)(function(){return{billingCurrency:k,locale:R,isEnabled:m}},[k,R,m]),B=(0,S.R)(U),Z=B.plan,F=B.isPlanLoading,z=B.errorFetchingPlan,V=O(H),W=V.emailHubPlan,G=V.isEmailHubPlanLoading,q=V.errorFetchingEmailHubPlan,J=(0,v.useMemo)(function(){if(!Z)return!1;var e=_(Z)&&!f;return!u&&!e&&!h},[Z,u,_,f,h]),Q=!!(m&&!Z&&W&&!G),$=!!(Z&&m&&W),K=!!(x&&(k===w.X.BRL.code.toLowerCase()||N));(0,v.useEffect)(function(){!F&&Z&&(T||D(Z.tier),J||E(Z.currency))},[Z,F,T,J]);var Y=(0,v.useCallback)(function(e){E(e),I(!0)},[]),X=!!Z,ee=null==Z||null==(t=Z.plan_coupon)?void 0:t.id,et=(0,v.useMemo)(function(){return{billingCurrency:k,canCheckoutInstantly:J,couponId:ee,plan:Z,marketingHubPlan:null,emailHubPlan:W,isPlanLoading:F,isEmailHubPlanLoading:G,errorFetchingPlan:z,errorFetchingEmailHubPlan:q,setBillingCurrency:Y,shouldShowCurrencySelection:K,showPlanDetails:u,shouldSkipProrationStep:f,source:a,usedForWorkflows:s,isEmailHubRequired:m,isEmailHubOnlyUpgrade:Q,isDoubleUpgrade:$,isUpdatingCommunityHubPlan:X,isRenewal:h}},[k,J,ee,Z,W,F,G,z,q,Y,K,u,f,a,s,m,Q,$,X,h]);return(0,o.jsx)(A.Provider,{value:et,children:n})},N=function(e){var t=e.planTier,n=(0,i.k6)(),r=E().isEmailHubRequired,l=function(e){var o=e.plan_tier,i=e.marketing_hub_enabled;(!t&&r&&i||o===t&&(!r||i))&&n.push(C.OS.UPGRADE_SUCCESSFUL)};return _({refetchInterval:5e3,onSuccess:function(e){return l(e)}}),(0,o.jsx)(c.u_.Body,{children:(0,o.jsxs)("div",{className:"mt-28 text-center",children:[(0,o.jsx)("div",{className:"m-auto mb-9 w-28",children:(0,o.jsx)(f.JO,{className:"text-dark !h-full !w-full",type:"loader"})}),(0,o.jsx)("div",{className:"mb-28",children:(0,o.jsx)(m.Z.TitleLg,{color:"text-darkest !font-bold",children:(0,a.t)(["pricing_plans.upgrade_modal","loading.workflow_app_syncing"])})})]})})},I=n(259524),M=n(417159),T=n(358181),D=n(689853),R=function(){var e=E(),t=e.plan,n=e.isUpdatingCommunityHubPlan,r=(0,I.D)(),o=r.currentPlan,i=r.isCurrentPlanLoading,a=(null==o?void 0:o.plan_trial)||null,l=(null==a?void 0:a.active)||!1,s=!!(null==o?void 0:o.tier)&&!!(null==t?void 0:t.tier)&&(0,T._D)(o.tier,t.tier),c=(null==a?void 0:a.expires_at)?(0,D.ie)(a.expires_at,{month:"long",day:"2-digit",year:"numeric"}):"",u=(null==a?void 0:a.expires_at)?(0,M.eC)(new Date,new Date(a.expires_at)):0;return{isLoading:i,shouldBlockPlanTrialDowngrade:n&&l&&s,planTrial:a,planTrialEndDateFormatted:c,planTrialDaysLeft:u,handleContactSupportOnClick:function(){window.open("mailto:support@circle.so","emailWindow")}}},U="pricing_plans.upgrade_modal.block_plan_trial_downgrade",H=function(){var e=R(),t=e.isLoading,n=e.planTrialEndDateFormatted,r=e.planTrialDaysLeft,i=e.handleContactSupportOnClick;return t?(0,o.jsx)(y.a,{title:(0,a.t)("pricing_plans.upgrade_modal.loading.loading")}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(c.u_.Header,{children:(0,o.jsx)(c.u_.Title,{children:(0,a.t)([U,"title"])})}),(0,o.jsx)(c.u_.Body,{children:(0,o.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,o.jsx)(m.Z.BodyMd,{children:(0,a.t)([U,"description"],{days:r,date:n})}),(0,o.jsx)(m.Z.BodyMd,{children:(0,a.t)([U,"explanation"])})]})}),(0,o.jsx)(c.u_.Footer,{children:(0,o.jsx)("div",{className:"flex flex-row justify-end",children:(0,o.jsx)(p.z,{variant:"primary",onClick:i,children:(0,a.t)([U,"button"])})})})]})},B=n(421801),Z=function(e){var t=e.features;return(0,o.jsx)("ul",{className:"list-none",children:null==t?void 0:t.map(function(e){return(0,o.jsx)("li",{children:(0,o.jsxs)(m.Z.BodyMd,{children:[(0,o.jsx)(f.JO,{size:6,type:"middot"})," ",e]})},e)})})},F=function(e){var t=e.plan,n=e.changePlan,r=e.hideModal,i=(0,g.E)().currentPlanTier,l=i&&(0,T._D)(i,t.tier),u=(0,s.wh)().currentCommunity,d=null==u?void 0:u.subscription_cancelled,f=(0,B.y)(t.id,{ifCustomerCanDowngradeCallback:function(){return n(t)}}),p=f.data,b=f.error;if(f.isLoading)return(0,o.jsx)(y.a,{title:(0,a.t)(["pricing_plans.upgrade_modal","loading.validating_limits"])});if(b)return(0,o.jsx)(h,{title:(0,a.t)("pricing_plans.upgrade_modal.errors.limits_validation_error.title"),errorMessage:(0,a.t)("pricing_plans.upgrade_modal.errors.limits_validation_error.message")});var v=l?"downgrade":"upgrade";return(0,o.jsx)(o.Fragment,{children:p&&!p.can_downgrade&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(c.u_.Header,{children:[(0,o.jsx)(c.u_.Title,{children:(0,a.t)(d?"plan_change.restrictions.plain_text.title_for_canceled_sub":"plan_change.restrictions.plain_text.title_".concat(v))}),(0,o.jsx)(c.u_.HeaderActions,{children:(0,o.jsx)(c.u_.CloseButton,{onClick:r})})]}),(0,o.jsx)(c.u_.Body,{className:"mb-10 flex flex-col gap-y-2",children:p.blocking_features&&0===p.blocking_features.length?(0,o.jsx)(m.Z.BodyMd,{children:(0,a.t)("pricing_plans.upgrade_modal.errors.downgrade_check_error.message")}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(m.Z.BodyMd,{children:(0,a.t)("plan_change.restrictions.plain_text.features_not_allowed",{plan:null==t?void 0:t.display_name})}),!d&&(0,o.jsx)(m.Z.BodyMd,{children:(0,a.t)("plan_change.restrictions.plain_text.adjustments_needed.".concat(v))}),(0,o.jsx)(Z,{features:p.blocking_features}),!d&&(0,o.jsx)(m.Z.BodyMd,{children:(0,a.t)("plan_change.restrictions.plain_text.do_not_care")})]})})]})})},z=n(289273),V=n(332666),W=n(87130),G=function(e){var t=e.source,n=(0,I.D)(),r=n.currentPlan,o=n.refetchCurrentPlan,i=(0,V.$)().cancelScheduledDowngrade,l=Object.values(W.V).includes(t)?t:W.V.FALLBACK_SOURCE,s=null==r?void 0:r.is_community_hub_downgrade_scheduled,c=null==r?void 0:r.scheduled_downgrade_metadata,u=null==c?void 0:c.plan_downgrade,d=null==c?void 0:c.next_plan,f=u?C.P6.PLAN_DOWNGRADE:C.P6.INTERVAL_DOWNGRADE;return{isScheduledDowngradeActive:s,handleCancelScheduledDowngrade:(0,v.useCallback)(function(e){i(void 0,{onSuccess:function(){o(),e&&e()}})},[i,o]),getModalConfig:(0,v.useCallback)(function(){var e="pricing_plans.cancel_scheduled_downgrade.".concat(l,".").concat(f,".cancel_modal");return l===W.V.SCHEDULED_DOWNGRADE_BANNER||l===W.V.FALLBACK_SOURCE?{title:(0,a.t)([e,"title"]),confirmText:(0,a.t)([e,"confirm_button"]),description:(0,a.t)([e,"description"],{target_plan_name:(0,T.pj)(l,d)})}:{title:(0,a.t)([e,"title"]),confirmText:(0,a.t)([e,"confirm_button"]),description:(0,a.t)([e,"description_on_changing_plan"],{target_plan_name:(0,T.pj)(l,d)})}},[l,f,d])}};function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var J=function(e){var t,n=e.source,r=e.hideModal,i=G({source:n}),a=i.isScheduledDowngradeActive,l=i.handleCancelScheduledDowngrade,s=i.getModalConfig,c=(t=(0,v.useState)(0),function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),i.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return q(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=c[0],d=c[1];if((0,v.useEffect)(function(){a&&d(function(e){return e+1})},[a]),!a)return null;var f=s();return(0,o.jsx)(z.B,{showModal:!0,onClose:r,onConfirm:function(){l(function(){r()})},title:f.title,confirmText:f.confirmText,description:f.description},u)},Q=function(){var e,t=(0,I.D)(),n=t.currentPlan,r=t.refetchCurrentPlan,l=(0,i.k6)(),s=null==n||null==(e=n.email_hub_billing)?void 0:e.email_hub_billing_active;return(0,v.useEffect)(function(){var e=setInterval(function(){r()},1e3);return function(){return clearInterval(e)}},[r]),(0,v.useEffect)(function(){s&&l.push(C.OS.UPGRADE_SUCCESSFUL)},[s,l]),(0,o.jsx)(y.a,{title:(0,a.t)(["pricing_plans.upgrade_modal","loading.creating_email_hub_subscription"]),subtitle:(0,a.t)("pricing_plans.upgrade_modal.updating_plan_description")})},$=n(357382),K=n(645391),Y=function(e){var t=e.features,n=e.iconType,r=e.iconSize,i=void 0===r?16:r,a=e.iconColor,l=void 0===a?"text-blue-highlight":a,s=e.className;return t.length?(0,o.jsx)("ul",{className:(0,K.A)("flex list-none flex-col gap-3",s),children:t.map(function(e){return(0,o.jsxs)("li",{className:"flex items-center gap-3",children:[(0,o.jsx)(f.JO,{type:n,size:i,color:void 0,className:(0,K.A)("!h-5 !w-5",l),useWithFillCurrentColor:!0,useWithStrokeCurrentColor:!0}),(0,o.jsx)(m.Z.LabelMd,{color:"text-default",weight:"normal",size:"text-sm",children:e})]},e)})}):null},X=n(379600),ee=n.n(X),et=n(263229),en=function(e){var t=e.displayName,n=e.amountWithCurrency,r=e.discountPercentage,i=void 0===r?null:r,l=e.displayIntervalText,s=e.description,c=e.isDoubleUpgrade,u=void 0!==c&&c,d=e.isFirstLineItem,p=void 0!==d&&d,b=e.featuresToDisplay,h=e.mhCurrentUsage,y=e.mhMaximumTierUsage,v=e.isFreeTier;return(0,o.jsx)("div",{className:ee()({"border-primary border-b pb-4":p,"pt-4":u&&!p}),children:(0,o.jsxs)("div",{className:"flex flex-row items-start justify-between",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{children:(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)(m.Z.LabelMd,{weight:"semibold",children:t}),void 0!==v&&v&&(0,o.jsx)(et.g,{label:(0,a.t)("pricing_plans.upgrade_modal.email_hub_line_item.free_tier")}),i&&(0,o.jsx)(et.g,{square:!0,label:i,inverted:!0})]})}),(0,o.jsxs)("div",{className:"mt-2 flex items-baseline gap-1",children:[y&&(0,o.jsx)(m.Z.LabelSm,{weight:"bold",children:(0,a.t)("pricing_plans.upgrade_modal.email_hub_line_item.contacts",{count:y})}),h&&(0,o.jsx)(m.Z.LabelXs,{children:(0,a.t)("pricing_plans.upgrade_modal.email_hub_line_item.currently_in_use",{count:h})})]}),(0,o.jsx)("div",{className:"mt-1 max-w-xs leading-4",children:(0,o.jsx)(m.Z.LabelXs,{color:"text-default",children:s})}),u&&(0,o.jsx)("ul",{className:"mt-2 flex flex-col items-baseline gap-1",children:(void 0===b?[]:b).map(function(e){return(0,o.jsxs)("li",{className:"mb-1 flex items-center gap-2",children:[(0,o.jsx)(f.JO,{type:"check",size:16,className:"!h-4 !w-4"}),(0,o.jsx)(m.Z.LabelXs,{weight:"semibold",color:"text-default",children:e})]},e)})})]}),(0,o.jsx)("div",{children:(0,o.jsxs)("div",{className:"flex flex-col items-end gap-1",children:[(0,o.jsx)(m.Z.TitleSm,{weight:"bold",children:n}),(0,o.jsx)(m.Z.LabelXs,{weight:"medium",color:"text-default",children:l})]})})]})})},er=function(e,t){return t?(0,a.t)("pricing_plans.upgrade_modal.email_hub_value_prop_title"):e},eo=function(e,t){return(null==e?void 0:e.display_name)||(null==t?void 0:t.display_name)||(0,a.t)(["pricing_plans.upgrade_modal","default_plan_name"])},ei=function(e){var t,n;return(null==e||null==(t=e.plan_coupon)?void 0:t.formatted_discount_percentage)?(null==e||null==(n=e.plan_coupon)?void 0:n.discounted_monthly_price_with_currency)||"":(null==e?void 0:e.amount_without_currency)||""},ea=function(e){var t;return(null==e||null==(t=e.plan_coupon)?void 0:t.interval_abbreviation)||(null==e?void 0:e.interval_abbreviation)||""},el=function(e){var t;return(null==e||null==(t=e.plan_coupon)?void 0:t.formatted_discount_percentage)?e.plan_coupon.formatted_discount_percentage:null},es=function(){var e=E(),t=e.plan,n=e.emailHubPlan,r=e.isEmailHubRequired,i=e.isDoubleUpgrade,l=(null==t?void 0:t.main_features)||(null==n?void 0:n.main_features)||[],s=ea(t),c=ei(t),u=el(t);return(0,o.jsxs)("div",{className:"border-primary rounded-md border p-5",children:[t&&(0,o.jsx)(en,{displayName:(0,a.t)(["pricing_plans.upgrade_modal","plan_name"],{plan:t.display_name}),discountPercentage:u,amountWithCurrency:c,displayIntervalText:s,description:(0,a.t)(["pricing_plans.upgrade_modal","".concat(t.tier||"default","_description")]),isFirstLineItem:r,featuresToDisplay:l,isDoubleUpgrade:i}),r&&n&&(0,o.jsx)(en,{displayName:(0,a.t)(["pricing_plans.upgrade_modal","email_hub_plan_name"],{plan:n.display_name}),amountWithCurrency:n.amount_without_currency||"",displayIntervalText:n.interval_abbreviation||"",description:(0,a.t)(["pricing_plans.upgrade_modal","email_hub_description"]),mhMaximumTierUsage:n.current_tier_up_to,mhCurrentUsage:n.contact_count,isDoubleUpgrade:i,isFreeTier:n.is_free_tier})]})},ec="pricing_plans.upgrade_modal",eu=function(e){var t=e.subheading,n=e.hideModal,r=e.onSubmitHandler,i=E(),l=i.plan,s=i.emailHubPlan,u=i.isEmailHubOnlyUpgrade,d=eo(l,s),f=[(0,a.t)("".concat(ec,".interval_switch.downgrade.you_will_lose"),{savings:null==l?void 0:l.annual_discount_amount_with_currency}),!(null==l?void 0:l.eligible_for_schedule_downgrade)&&(0,a.t)([ec,"interval_switch.downgrade.charges_effective"])].filter(function(e){return!!e}),b=er(void 0===t?"":t,u);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(c.u_.Header,{children:[(0,o.jsx)(c.u_.Title,{children:(0,a.t)([ec,"interval_downgrade_title"],{plan:d})}),(0,o.jsx)(c.u_.HeaderActions,{children:(0,o.jsx)(c.u_.CloseButton,{onClick:n})})]}),(0,o.jsxs)(c.u_.Body,{children:[b&&(0,o.jsx)("div",{className:"mb-6",children:(0,o.jsx)(m.Z.BodyMd,{color:"text-default",children:b})}),(0,o.jsxs)("div",{className:"mb-6",children:[(0,o.jsxs)(m.Z.LabelMd,{weight:"semibold",size:"text-md",children:[(0,a.t)([ec,"interval_switch.downgrade.cta"]),(0,o.jsx)("span",{className:"text-red-500",children:(0,a.t)("".concat(ec,".interval_switch.downgrade.savings"),{savings:null==l?void 0:l.annual_discount_amount_with_currency})})]}),(0,o.jsx)(m.Z.BodySm,{weight:"normal",size:"text-sm",children:(0,a.t)([ec,"interval_switch.downgrade.cta_subheading"])})]}),(0,o.jsx)(es,{}),(0,o.jsx)("div",{className:"mt-6",children:(0,o.jsx)("div",{className:"mt-3",children:(0,o.jsx)(Y,{features:f,iconType:"16-close",iconColor:"text-red-500"})})})]}),(0,o.jsx)(c.u_.Footer,{className:"mt-5 flex justify-end",children:(0,o.jsx)(p.z,{variant:"secondary",large:!0,onClick:r,children:(0,a.t)([ec,"actions.interval_downgrade"],{plan:d})})})]})},ed="upgrade",ef="downgrade",ep=function(e){return e===ef},em=function(e){return"interval_downgrade"===e},eb="pricing_plans.upgrade_modal",eh=function(e){var t=e.subheading,n=e.hideModal,r=e.onSubmitHandler,i=E(),l=i.plan,s=i.emailHubPlan,u=i.isEmailHubOnlyUpgrade,d=i.isDoubleUpgrade,f=eo(l,s),b=ep(null==l?void 0:l.plan_action),h=(null==l?void 0:l.features_lost_from_current_plan)||[],y=er(void 0===t?"":t,u);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(c.u_.Header,{children:[(0,o.jsx)(c.u_.Title,{children:(0,a.t)([eb,"downgrade_title"],{plan:f})}),(0,o.jsx)(c.u_.HeaderActions,{children:(0,o.jsx)(c.u_.CloseButton,{onClick:n})})]}),(0,o.jsxs)(c.u_.Body,{children:[y&&(0,o.jsx)("div",{className:"mb-6",children:(0,o.jsx)(m.Z.BodyMd,{color:"text-default",children:y})}),(0,o.jsx)(es,{}),!d&&b&&(0,o.jsxs)("div",{className:"mt-6",children:[(0,o.jsx)(m.Z.LabelLg,{weight:"semibold",children:(0,a.t)([eb,"you_will_lose"])}),(0,o.jsx)("div",{className:"mt-3",children:(0,o.jsx)(Y,{features:h,iconType:"16-close",iconColor:"text-red-500"})})]})]}),(0,o.jsx)(c.u_.Footer,{className:"mt-5 flex justify-end",children:(0,o.jsx)(p.z,{variant:"secondary",large:!0,onClick:r,children:(0,a.t)([eb,"actions.downgrade"],{plan:f})})})]})},ey="pricing_plans.upgrade_modal",ev=function(e){var t=e.subheading,n=e.hideModal,r=e.onSubmitHandler,i=E(),l=i.plan,s=i.emailHubPlan,u=i.isEmailHubOnlyUpgrade,d=eo(l,s),f=er(void 0===t?"":t,u);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(c.u_.Header,{children:[(0,o.jsx)(c.u_.Title,{children:(0,a.t)([ey,"interval_upgrade_title"],{plan:d})}),(0,o.jsx)(c.u_.HeaderActions,{children:(0,o.jsx)(c.u_.CloseButton,{onClick:n})})]}),(0,o.jsxs)(c.u_.Body,{children:[f&&(0,o.jsx)("div",{className:"mb-6",children:(0,o.jsx)(m.Z.BodyMd,{color:"text-default",children:f})}),(0,o.jsxs)("div",{className:"mb-6",children:[(0,o.jsxs)(m.Z.LabelMd,{weight:"semibold",size:"text-md",children:[(0,a.t)([ey,"interval_switch.upgrade.cta"]),(0,o.jsx)("span",{className:"text-green-success",children:(0,a.t)("".concat(ey,".interval_switch.upgrade.savings"),{savings:null==l?void 0:l.annual_discount_amount_with_currency})})]}),(0,o.jsx)(m.Z.BodySm,{weight:"normal",size:"text-sm",children:(0,a.t)([ey,"interval_switch.upgrade.cta_subheading"])})]}),(0,o.jsx)(es,{})]}),(0,o.jsx)(c.u_.Footer,{className:"mt-5 flex justify-end",children:(0,o.jsx)(p.z,{variant:"circle",large:!0,onClick:r,children:(0,a.t)([ey,"actions.interval_upgrade"],{plan:d})})})]})},eg=n(415043),ex=n(904812),ej=n(850481),e_="pricing_plans.upgrade_modal",eC=function(e){var t,n,r=e.subheading,i=e.hideModal,l=e.onSubmitHandler,u=E(),d=u.billingCurrency,f=u.setBillingCurrency,b=u.plan,h=u.emailHubPlan,y=u.shouldShowCurrencySelection,v=u.isEmailHubOnlyUpgrade,g=u.isDoubleUpgrade,x=((0,s.wh)().currentCommunity||{}).current_plan_tier,j=x&&(0,T.FZ)(x),_=eo(b,h),C=(t=j||"",n=(null==b?void 0:b.tier)||"",v?"email_hub_features_title":t===n?"everything_in_".concat(n):"everything_in_your_plan_plus"),w=!(0,T.Dr)(null==b?void 0:b.tier),O=(null==b?void 0:b.main_features)||(null==h?void 0:h.main_features)||[],S=er(void 0===r?"":r,v);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(c.u_.Header,{children:[(0,o.jsx)(c.u_.Title,{children:v?(0,a.t)([e_,"upgrade_title_email_hub_only"]):(0,a.t)([e_,"upgrade_title"],{plan:_})}),(0,o.jsx)(c.u_.HeaderActions,{children:(0,o.jsx)(c.u_.CloseButton,{onClick:i})})]}),(0,o.jsxs)(c.u_.Body,{children:[S&&(0,o.jsx)("div",{className:"mb-6",children:(0,o.jsx)(m.Z.BodyMd,{color:"text-default",children:S})}),(0,o.jsx)(es,{}),y&&(0,o.jsx)(ej.v,{billingCurrency:null!=d?d:null,onCurrencyChange:f,className:"bg-tertiary mt-2"}),!g&&w&&(0,o.jsxs)("div",{className:"mt-6",children:[(0,o.jsx)(m.Z.LabelLg,{weight:"semibold",children:(0,a.t)([e_,C])}),(0,o.jsx)("div",{className:"mt-3",children:(0,o.jsx)(Y,{features:O,iconType:"16-star-fill",iconColor:"text-blue-highlight"})}),!v&&(0,o.jsx)("div",{className:"mt-5",children:(0,o.jsx)(eg.rU,{to:(0,ex.xn)(),onClick:function(){window.location.href=(0,ex.xn)()},children:(0,o.jsx)(m.Z.LabelMd,{weight:"medium",color:"text-default",children:(0,a.t)("pricing_plans.upgrade_modal.learn_more")})})})]})]}),(0,o.jsx)(c.u_.Footer,{className:"mt-5 flex justify-end",children:(0,o.jsx)(p.z,{variant:"circle",large:!0,onClick:l,children:v?(0,a.t)([e_,"actions.enable_email_hub"]):(0,a.t)([e_,"actions.upgrade"],{plan:_})})})]})},ew=function(e){var t=e.subheading,n=e.hideModal,r=e.onSubmitHandler,i=E(),a=i.plan;if(i.isPlanLoading)return(0,o.jsx)($.a,{});var l=(null==a?void 0:a.plan_action)?({interval_upgrade:ev,interval_downgrade:eu,downgrade:eh,upgrade:eC})[a.plan_action]:eC;return(0,o.jsx)(l,{subheading:void 0===t?"":t,hideModal:n,onSubmitHandler:r})},eO=n(788431),eS=n(355101),ek=function(e){var t=e.hideModal,n=e.onSubmitHandler,r=e.plan,i=(0,s.wh)().currentCommunity,l=(0,B.y)(r.id),u=l.data,d=l.isLoading,f=(0,eO.WU)(new Date((null==i?void 0:i.subscription.current_period_end)||""),"MMM dd, yyyy"),b=(null==u?void 0:u.blocking_features)||[],h=em(null==r?void 0:r.plan_action)?"pricing_plans.upgrade_modal.interval_switch":ep(null==r?void 0:r.plan_action)?"pricing_plans.upgrade_modal.downgrade":"pricing_plans.upgrade_modal.interval_switch";return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(c.u_.Header,{children:[(0,o.jsx)(c.u_.Title,{children:(0,a.t)([h,"scheduled_downgrade.title"])}),(0,o.jsx)(c.u_.HeaderActions,{children:(0,o.jsx)(c.u_.CloseButton,{onClick:t})})]}),(0,o.jsxs)(c.u_.Body,{children:[(0,o.jsx)("div",{className:"mb-6 space-y-2",children:(0,o.jsxs)(m.Z.BodyMd,{children:[(0,a.t)("".concat(h,".scheduled_downgrade.plan_expires"))," ",(0,o.jsx)("strong",{className:"font-semibold text-gray-900",children:f}),!em(null==r?void 0:r.plan_action)&&(0,o.jsxs)(o.Fragment,{children:[". ",(0,a.t)("".concat(h,".scheduled_downgrade.consequences"))]})]})}),!em(null==r?void 0:r.plan_action)&&(0,o.jsx)(eS.d,{blockingFeatures:b,i18nRoot:h,isLoading:d})]}),(0,o.jsxs)(c.u_.Footer,{className:"mt-5 flex justify-end gap-x-3",children:[(0,o.jsx)(p.z,{variant:"secondary",large:!0,onClick:t,children:(0,a.t)("cancel")}),(0,o.jsx)(p.z,{variant:"primary",large:!0,onClick:n,disabled:d,children:(0,a.t)("".concat(h,".scheduled_downgrade.actions.submit"))})]})]})},eP=n(696459),eA=function(e){var t=e.buttonLabel,n=e.onSuccess,r=e.isPlanActionDowngrade,i=(0,eP.wh)().currentCommunity,l=(0,I.D)().refetchCurrentPlan;(0,v.useEffect)(function(){l()},[l]);var s=(0,eO.WU)(new Date((null==i?void 0:i.subscription.current_period_end)||new Date),"MMM dd, yyyy"),u="pricing_plans.upgrade_modal.post_plan_update",d=void 0!==r&&r?"scheduled_downgrade":"scheduled_interval_downgrade";return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(c.u_.Body,{children:(0,o.jsxs)("div",{className:"mt-16 text-center",children:[(0,o.jsx)(m.Z.TitleXl,{color:"text-darkest",children:(0,a.t)([u,"header",d])}),(0,o.jsx)("div",{className:"mt-6",children:(0,o.jsxs)(m.Z.BodyMd,{color:"text-primary",children:[(0,a.t)([u,"subheading",d])," ",(0,o.jsxs)("strong",{children:[s,"."]})]})})]})}),(0,o.jsx)(c.u_.Footer,{className:"mt-8",children:(0,o.jsx)(p.z,{variant:"circle",large:!0,full:!0,onClick:n,children:t})})]})},eE="pricing_plans.upgrade_modal.post_plan_update",eL=function(e){var t,n=e.buttonLabel,r=e.onSuccess,i=E(),l=i.plan,s=i.emailHubPlan,u=i.isEmailHubOnlyUpgrade,d=(null==l?void 0:l.plan_action)||ed,b=(null==l?void 0:l.display_name)||"",h=(null==l?void 0:l.main_features)||[],y=(null==l?void 0:l.features_lost_from_current_plan)||[],v=(t=d)===ed||"interval_upgrade"===t,g=u&&(null==s?void 0:s.display_name)?s.display_name:b,x=u?(0,a.t)([eE,"header","activate_email_hub_success"]):(0,a.t)([eE,"header",d||ed]),j=u?(0,a.t)([eE,"subheading","activate_email_hub_success"]):(0,a.t)([eE,"subheading",d||ed],{plan:g}),_=d===ed?u&&(null==s?void 0:s.main_features)?s.main_features:h:d===ef?y:[];return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(c.u_.Body,{children:(0,o.jsxs)("div",{className:"mt-16 text-center",children:[v&&(0,o.jsx)(f.JO,{type:"spaceship-blue",size:56,className:"mb-10 !w-14"}),(0,o.jsx)(m.Z.TitleLg,{color:"text-darkest",children:x}),(0,o.jsx)("div",{className:"mt-3",children:(0,o.jsx)(m.Z.BodyMd,{color:"text-default",weight:"normal",size:"text-md",children:j})}),_.length>0&&(0,o.jsx)("div",{className:"dark:bg-primary mt-6 rounded-md bg-slate-50 px-6 py-5",children:(0,o.jsx)(Y,{features:_,iconType:v?"check":"16-close",iconColor:v?"text-green-success":"text-red-500"})})]})}),(0,o.jsx)(c.u_.Footer,{className:"mt-5",children:(0,o.jsx)(p.z,{variant:"circle",large:!0,full:!0,onClick:r,children:n})})]})},eN=n(352573),eI=n(303637),eM=function(){return(0,o.jsx)("hr",{className:"my-4 h-px border-0 bg-gray-200 dark:bg-gray-700"})};function eT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var eD=function(e){var t,n=e.title,r=e.description,i=e.amount,a=e.color,l=e.semibold,s=e.amountWeight,c=e.isExpandable,u=void 0!==c&&c,d=e.expandedContent,p=(t=(0,v.useState)(!1),function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),i.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return eT(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eT(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),b=p[0],h=p[1];return(0,o.jsxs)("div",{className:"mb-4 last:mb-0",children:[(0,o.jsxs)("button",{type:"button",className:ee()("flex w-full items-start justify-between",{"cursor-default":!u}),onClick:function(){h(function(e){return!e})},children:[(0,o.jsxs)("div",{className:"text-left",children:[(0,o.jsx)(m.Z.LabelMd,{weight:void 0!==l&&l?"semibold":"normal",children:n}),u&&(0,o.jsx)(f.JO,{size:16,type:"caret-down-solid",className:"text-dark ml-2 ".concat(b?"":"-rotate-90")}),(0,o.jsx)(m.Z.BodyXs,{color:"text-light",children:r})]}),(0,o.jsx)("div",{className:"whitespace-nowrap",children:(0,o.jsx)(m.Z.LabelMd,{weight:void 0===s?"normal":s,color:void 0===a?"default":a,children:i})})]}),b&&(0,o.jsx)("div",{className:"mt-2",children:void 0===d?null:d})]})},eR=function(e){var t=e.title,n=e.amount,r=e.color;return(0,o.jsxs)("div",{className:"mb-2 flex items-start justify-between",children:[(0,o.jsx)(m.Z.BodySm,{color:"text-light",children:t}),(0,o.jsx)(m.Z.BodySm,{color:void 0===r?"text-default":r,children:n})]})},eU=function(e){var t=e.prorationData;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(eD,{title:t.plan_preview_name,amount:t.plan_display_amount}),(0,o.jsx)(eM,{}),t.display_recurring_plan_charges_description&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(eD,{title:(0,a.t)("pricing_plans.change_plan.prorated_charges_debit"),description:t.display_recurring_plan_charges_description,amount:t.display_recurring_plan_charges_amount,semibold:!0}),(0,o.jsx)(eM,{})]}),t.display_prorated_charges_debit_description&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(eD,{title:(0,a.t)("pricing_plans.change_plan.prorated_charges_debit"),description:t.display_prorated_charges_debit_description,amount:t.display_prorated_charges_debit_amount,semibold:!0}),(0,o.jsx)(eM,{})]}),t.display_prorated_charges_credit_description&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(eD,{title:(0,a.t)("pricing_plans.change_plan.prorated_charges_credit"),description:t.display_prorated_charges_credit_description,amount:t.display_prorated_charges_credit_amount,semibold:!0}),(0,o.jsx)(eM,{})]}),(0,o.jsx)(eR,{title:(0,a.t)("pricing_plans.change_plan.subtotal"),amount:t.display_subtotal}),t.display_tax&&(0,o.jsx)(eR,{title:(0,a.t)("pricing_plans.change_plan.tax"),amount:t.display_tax}),t.display_total_discount&&(0,o.jsx)(eR,{title:(0,a.t)("pricing_plans.change_plan.total_discount"),amount:t.display_total_discount}),t.display_applied_balance&&(0,o.jsx)(eR,{title:(0,a.t)("pricing_plans.change_plan.applied_balance"),amount:t.display_applied_balance}),(0,o.jsx)(eM,{})]})},eH=function(e){var t=e.totalDue;return(0,o.jsx)(eD,{title:(0,a.t)("pricing_plans.change_plan.total_due"),amount:t,semibold:!0,amountWeight:"semibold"})},eB="pricing_plans.upgrade_modal",eZ=function(e){var t=e.hideModal,n=e.onSubmitHandler,r=E(),i=r.plan,l=r.couponId,s=(0,eI.t)({new_plan_id:i.id,plan_coupon_id:l}),u=s.prorationData,d=s.isProrationLoading,f=s.errorFetchingProration;return d?(0,o.jsx)(y.a,{title:(0,a.t)([eB,"loading.proration"])}):f?(0,o.jsx)(h,{title:(0,a.t)([eB,"errors.calculating_proration.title"]),errorMessage:(0,a.t)([eB,"errors.calculating_proration.message"])}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(c.u_.Header,{children:[(0,o.jsx)(c.u_.Title,{children:(0,a.t)("pricing_plans.change_plan.title")}),(0,o.jsx)(c.u_.HeaderActions,{children:(0,o.jsx)(c.u_.CloseButton,{onClick:t})})]}),(0,o.jsxs)(c.u_.Body,{children:[(0,o.jsx)(eU,{prorationData:u}),(0,o.jsx)(eH,{totalDue:null==u?void 0:u.display_total_due_today})]}),(0,o.jsx)(c.u_.Footer,{className:"mt-5",children:(0,o.jsx)(p.z,{variant:"circle",large:!0,full:!0,onClick:n,children:(0,a.t)("pricing_plans.actions.".concat(eN.$v.change_plan))})})]})},eF=n(386405),ez=n(547550),eV=n(670519),eW=function(){var e=(0,i.k6)();return{createCheckoutSession:(0,x.useMutation)(function(e){var t=e.plan_id,n=e.coupon_id,r=e.source;return(0,ez.Cu)(eV.f.checkoutSession.create(),{plan_id:t,coupon_id:n,source:r})},{onSuccess:function(e){window.location.href=e.url},onError:function(){e.push(C.OS.ERROR)}}).mutate}};function eG(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function eq(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){n(e);return}l.done?t(s):Promise.resolve(s).then(r,o)}var eJ="pricing_plans.upgrade_modal",eQ=function(e){var t,n=(0,i.k6)(),r=eW().createCheckoutSession,o=(0,I.D)().refetchCurrentPlan,l=(t=(0,v.useState)({title:(0,a.t)([eJ,"loading.loading"]),subtitle:""}),function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),i.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return eG(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eG(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=l[0],c=l[1];return{attemptRenewal:function(t){var i;return(i=function(){return function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(s){var c=[l,s];if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),c({title:(0,a.t)([eJ,"loading.loading"]),subtitle:""}),[4,eF.b.renew(t)];case 1:return i.sent(),[4,o()];case 2:return i.sent(),n.push(C.OS.UPGRADE_SUCCESSFUL),[3,4];case 3:return i.sent(),c({title:(0,a.t)([eJ,"stripe_checkout_title"]),subtitle:""}),r({plan_id:t,source:e||""}),[3,4];case 4:return[2]}})},function(){var e=this,t=arguments;return new Promise(function(n,r){var o=i.apply(e,t);function a(e){eq(o,n,r,a,l,"next",e)}function l(e){eq(o,n,r,a,l,"throw",e)}a(void 0)})})()},loadingMessage:s}},e$=function(e){var t=e.source,n=E().plan,r=eQ(t),i=r.attemptRenewal,a=r.loadingMessage,l=(0,v.useRef)(!1);return(0,v.useEffect)(function(){(null==n?void 0:n.id)&&!l.current&&(l.current=!0,i(n.id))},[null==n?void 0:n.id,i]),(0,o.jsx)(y.a,{title:a.title,subtitle:a.subtitle})},eK=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.usedForWorkflows,n=void 0!==t&&t,r=e.source,o=(0,i.k6)(),a=E().isEmailHubRequired,l=(0,I.D)().refetchCurrentPlan,s=function(){o.push(C.OS.ERROR)},c=(0,x.useMutation)(function(e){var t=e.planId,n=e.planCouponId;return eF.b.update(Number(t),n?Number(n):0,r)},{onSuccess:function(){l(),a?u():n?o.push(C.OS.WORKFLOW_APP_SYNCING):o.push(C.OS.UPGRADE_SUCCESSFUL)},onError:s}).mutate,u=(0,x.useMutation)(function(){return eF.b.createEmailHubSubscription()},{onSuccess:function(){n?o.push(C.OS.WORKFLOW_APP_SYNCING):o.push(C.OS.EMAIL_HUB_SUBSCRIPTION_CHECK)},onError:s}).mutate;return{updateSubscription:c,createEmailHubSubscription:u}};function eY(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var eX="pricing_plans.upgrade_modal",e0=function(e){var t,n=e.usedForWorkflows,r=e.showProration,o=e.source,l=E(),s=l.couponId,c=l.plan,u=eW().createCheckoutSession,d=(0,i.k6)(),f=(t=(0,v.useState)({title:"",subtitle:""}),function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),i.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return eY(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eY(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=f[0],m=f[1],b=(0,g.E)(),h=b.isCommunityOnTrial,y=b.currentPlanTier,x=b.isExpiredTrial,j=b.isCommunitySubscriptionIncompleteExpired,_=(0,V.$)().scheduleDowngrade,w=eK({usedForWorkflows:n,source:o}),O=w.updateSubscription,S=w.createEmailHubSubscription,k=(0,I.D)().currentPlan,P=function(e,t){if(h&&!x)return void A(e,t);y&&(0,T._D)(y,e.tier)?d.push(C.OS.CAN_DOWNGRADE):A(e,t)},A=function(e,t){h||x||j?(m({subtitle:"",title:(0,a.t)([eX,"stripe_checkout_title"])}),u({plan_id:e.id,coupon_id:t,source:o})):(m({subtitle:(0,a.t)([eX,"updating_plan_description"]),title:(0,a.t)([eX,"updating_plan"])}),e.eligible_for_schedule_downgrade?_(e.id):O({planId:e.id,planCouponId:t})),d.push(C.OS.LOADING)};return{onSubmitHandler:function(){var e=d.location.pathname,t=e===C.OS.PLAN_DETAILS,n=e===C.OS.SCHEDULED_DOWNGRADE_CONFIRMATION,o=null==c?void 0:c.eligible_for_schedule_downgrade;t&&r?d.push(C.OS.PRORATION):o&&!n?d.push(C.OS.SCHEDULED_DOWNGRADE_CONFIRMATION):P(c,s)},changePlan:A,loadingMessage:p,emailHubOnlySubmitHandler:function(){m({title:(0,a.t)("pricing_plans.upgrade_modal.loading.preparing_hub_subscription"),subtitle:(0,a.t)("pricing_plans.upgrade_modal.updating_plan_description")}),d.push(C.OS.LOADING),S()},currentPlan:k}},e1=n(936079);function e2(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var e3=(e2(r={},C.OS.INITIAL,"user.plan_change.initiated"),e2(r,C.OS.PLAN_DETAILS,"user.plan_change.plan_details"),e2(r,C.OS.WORKFLOW_APP_SYNCING,"user.plan_change.workflow_app_syncing"),e2(r,C.OS.CAN_DOWNGRADE,"user.plan_change.can_downgrade"),e2(r,C.OS.EMAIL_HUB_SUBSCRIPTION_CHECK,"user.plan_change.email_hub_subscription_check"),e2(r,C.OS.UPGRADE_SUCCESSFUL,"user.plan_change.completed"),e2(r,C.OS.BLOCKED_UPGRADE,"user.plan_change.blocked"),e2(r,C.OS.PRORATION,"user.plan_change.proration"),e2(r,C.OS.ERROR,"user.plan_change.error"),e2(r,C.OS.LOADING,"user.plan_change.loading"),r),e5=function(){var e=E(),t=e.plan,n=e.source,r=e.couponId,o=e.emailHubPlan,i=(0,e1.C)().trackEvent;return{trackUpgradeFlowPathChange:(0,v.useCallback)(function(e){var a={plan:t?{id:t.id,tier:t.tier,interval:t.interval,currency:t.currency,amount_with_currency:t.amount_without_currency}:void 0,email_hub:!!o,coupon_id:r,source:n},l=e3[e];l&&i(l,a)},[t,n,r,i])}},e4=function(e){var t=e.handleOnSuccess,n=e.modal,r=e.subheading,l=e.successButtonLabel,s=E(),c=s.plan,u=s.usedForWorkflows,d=s.showPlanDetails,f=s.source,p=s.canCheckoutInstantly,m=s.isEmailHubOnlyUpgrade,b=s.shouldSkipProrationStep,x=s.isRenewal,j=!!((0,(0,g.E)().shouldShowProration)(c)&&!b),_=R().shouldBlockPlanTrialDowngrade,w=G({source:f||W.V.PLAN_DETAILS}).isScheduledDowngradeActive,O=e0({usedForWorkflows:u||!1,showProration:j,source:f||""}),S=O.onSubmitHandler,k=O.emailHubOnlySubmitHandler,P=O.changePlan,A=O.loadingMessage;(0,v.useEffect)(function(){p&&S()},[p]);var L=(0,i.TH)(),I=e5().trackUpgradeFlowPathChange;return(0,v.useEffect)(function(){I(L.pathname)},[L,I]),(0,o.jsxs)(i.rs,{children:[(0,o.jsx)(i.AW,{exact:!0,path:C.OS.CANCEL_SCHEDULED_DOWNGRADE_MODAL,children:(0,o.jsx)(J,{source:f||W.V.PLAN_DETAILS,hideModal:n.hide})}),(0,o.jsx)(i.AW,{exact:!0,path:C.OS.BLOCK_PLAN_TRIAL_DOWNGRADE,children:(0,o.jsx)(H,{})}),(0,o.jsx)(i.AW,{exact:!0,path:C.OS.PLAN_DETAILS,children:(0,o.jsx)(ew,{subheading:r,hideModal:n.hide,onSubmitHandler:function(){return m?k():S()}})}),(0,o.jsx)(i.AW,{exact:!0,path:C.OS.SCHEDULED_DOWNGRADE_CONFIRMATION,children:(0,o.jsx)(ek,{hideModal:n.hide,onSubmitHandler:S,plan:c})}),(0,o.jsx)(i.AW,{path:C.OS.EMAIL_HUB_SUBSCRIPTION_CHECK,children:(0,o.jsx)(Q,{})}),(0,o.jsx)(i.AW,{path:C.OS.PRORATION,children:(0,o.jsx)(eZ,{hideModal:n.hide,onSubmitHandler:function(){return S()}})}),(0,o.jsx)(i.AW,{path:C.OS.CAN_DOWNGRADE,children:(0,o.jsx)(F,{plan:c,changePlan:function(e){P(e,null)},hideModal:n.hide})}),(0,o.jsx)(i.AW,{exact:!0,path:C.OS.LOADING,children:(0,o.jsx)(y.a,{title:A.title,subtitle:A.subtitle})}),(0,o.jsx)(i.AW,{exact:!0,path:C.OS.WORKFLOW_APP_SYNCING,children:(0,o.jsx)(N,{planTier:null==c?void 0:c.tier})}),(0,o.jsx)(i.AW,{exact:!0,path:C.OS.ERROR,children:(0,o.jsx)(h,{title:(0,a.t)(["pricing_plans.upgrade_modal","errors.general_error.title"])})}),(0,o.jsx)(i.AW,{exact:!0,path:C.OS.UPGRADE_SUCCESSFUL,children:(0,o.jsx)(eL,{buttonLabel:l,onSuccess:t})}),(0,o.jsx)(i.AW,{exact:!0,path:C.OS.SCHEDULED_DOWNGRADE_SUCCESS,children:(0,o.jsx)(eA,{buttonLabel:l,onSuccess:t,isPlanActionDowngrade:ep(null==c?void 0:c.plan_action)})}),(0,o.jsx)(i.AW,{exact:!0,path:C.OS.RENEWAL,children:(0,o.jsx)(e$,{source:f})}),(0,o.jsx)(i.l_,{to:function(){switch(!0){case x:return C.OS.RENEWAL;case w:return C.OS.CANCEL_SCHEDULED_DOWNGRADE_MODAL;case _:return C.OS.BLOCK_PLAN_TRIAL_DOWNGRADE;case d:return C.OS.PLAN_DETAILS;case j:return C.OS.PRORATION;default:return C.OS.LOADING}}()})]})};function e6(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){n(e);return}l.done?t(s):Promise.resolve(s).then(r,o)}function e8(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){e6(i,r,o,a,l,"next",e)}function l(e){e6(i,r,o,a,l,"throw",e)}a(void 0)})}}function e9(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(s){var c=[l,s];if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}var e7="pricing_plans.upgrade_modal",te=function(e){var t=e.subheading,n=e.onSuccess,r=e.successButtonLabel,i=e.onCloseModal,u=E(),d=u.isPlanLoading,f=u.isEmailHubPlanLoading,p=u.errorFetchingEmailHubPlan,m=u.errorFetchingPlan,b=u.isEmailHubRequired,v=(0,s.wh)().refetch,g=(0,l.dd)();return(0,o.jsxs)(c.u_,{isOpen:g.visible,onClose:function(){return e8(function(){return e9(this,function(e){switch(e.label){case 0:return[4,v()];case 1:if(e.sent(),!i)return[3,3];return[4,i()];case 2:e.sent(),e.label=3;case 3:return[4,g.hide()];case 4:return e.sent(),g.remove(),[2]}})})()},children:[(0,o.jsx)(c.u_.Overlay,{}),(0,o.jsx)(c.u_.Content,{size:"md",className:"!max-h-[85vh] !w-[35.25rem]",children:d||f?(0,o.jsx)(y.a,{title:(0,a.t)([e7,"loading.plan"])}):m||p?(0,o.jsx)(h,{title:(0,a.t)([e7,"errors.plan_not_found.title"]),errorMessage:(0,a.t)([e7,"errors.plan_not_found.message"])}):(0,o.jsx)(e4,{subheading:t,successButtonLabel:r,handleOnSuccess:function(){return e8(function(){return e9(this,function(e){switch(e.label){case 0:return[4,v()];case 1:if(e.sent(),g.hide(),g.remove(),b)return window.location.reload(),[2];if(!n)return[3,3];return[4,n()];case 2:e.sent(),e.label=3;case 3:return[2]}})})()},modal:g})})]})},tt=l.gk.create(function(e){var t=e.planTier,n=e.subheading,r=e.source,a=e.onSuccess,l=e.successButtonLabel,s=e.usedForWorkflows,c=e.isEmailHubRequired,u=e.showPlanDetails,d=e.planId,f=e.onCloseModal,p=e.shouldSkipProrationStep,m=e.isRenewal;return(0,o.jsx)(i.VA,{children:(0,o.jsx)(L,{planTier:t,planId:d,source:r,usedForWorkflows:s,isEmailHubRequired:c,showPlanDetails:void 0!==u&&u,shouldSkipProrationStep:void 0!==p&&p,isRenewal:void 0!==m&&m,children:(0,o.jsx)(te,{subheading:n,onSuccess:a,successButtonLabel:l,onCloseModal:f})})})}),tn=function(){return(0,l.dd)(tt)}},554956:function(e,t,n){n.d(t,{OS:()=>r,P6:()=>i,fe:()=>o});var r=Object.freeze({INITIAL:"/",PLAN_DETAILS:"/plan_details",UPGRADE_SUCCESSFUL:"/upgrade_successful",BLOCKED_UPGRADE:"/blocked_upgrade",LOADING:"/loading",WORKFLOW_APP_SYNCING:"/workflow_app_syncing",ERROR:"/error",PRORATION:"/proration",CAN_DOWNGRADE:"/can_downgrade",EMAIL_HUB_SUBSCRIPTION_CHECK:"/email_hub_subscription_check",BLOCK_PLAN_TRIAL_DOWNGRADE:"/block_plan_trial_downgrade",SCHEDULED_DOWNGRADE_CONFIRMATION:"/scheduled_downgrade_confirmation",SCHEDULED_DOWNGRADE_SUCCESS:"/scheduled_downgrade_success",CANCEL_SCHEDULED_DOWNGRADE_MODAL:"/cancel_scheduled_downgrade_modal",RENEWAL:"/renewal"}),o=Object.freeze({COMMUNITY_AI_SPLASH_SCREEN:"community_ai_splash_screen",ACTIVITY_LOGS:"activity_logs",ACTIVITY_SCORES_FILTER_CHIP:"activity_scores_filter_chip",ACTIVITY_SCORES_SCORE_CHIP:"activity_scores_score_chip",ACTIVITY_LOGS_SPLASH_SCREEN:"activity_logs_splash_screen",PROFILE_FIELDS_FILTER_CHIP:"profile_fields_filter_chip",PROFILE_FIELDS_SPLASH_SCREEN:"profile_fields_splash_screen",PROFILE_FIELDS_ANALYTICS_FILTER_CHIP:"profile_fields_analytics_filter_chip",COPILOT_UPGRADE_MODAL:"copilot_upgrade_modal",WORKFLOWS_UPGRADE_MODAL:"workflows_upgrade_modal",SPACE_LIMIT_UPGRADE_MODAL:"space_limit_upgrade_modal",ANALYTICS_FILTERS:"ANALYTICS_FILTERS",API_KEY_SPLASH_SCREEN:"api_key_splash_screen",API_KEY_CREATION_SCREEN:"api_key_creation_screen",CODE_SNIPPETS_SPLASH_SCREEN:"code_snipets_splash_screen",MODERATION_SETTINGS_SPLASH_SCREEN:"moderation_settings_splash_screen",INVITE_MEMBERS_MODAL:"invite_members_modal",ONBOARDING_WORKFLOWS_MODAL:"onboarding_workflows_modal",PAYWALLS_WORKFLOWS_MODAL:"paywalls_workflows_modal",SPACE_WORKFLOWS_MODAL:"space_workflows_modal",EMAIL_HUB_LANDING_PAGE:"email_hub_landing_page",COMMUNITY_VISIBILITY_SETTINGS:"community_visibility_settings",AI_AGENTS_ENABLE_MODAL:"ai_agents_enable_modal",AI_ACTIONS_ENABLE_MODAL:"ai_actions_enable_modal",ENTERPRISE_PRICE_INCREASE_BANNER:"enterprise_price_increase_banner",WEBSITE_BUILDER_SPLASH_SCREEN:"website_builder_splash_screen"}),i=Object.freeze({PLAN_DOWNGRADE:"plan_downgrade",INTERVAL_DOWNGRADE:"interval_downgrade"})},421801:function(e,t,n){n.d(t,{y:()=>i});var r=n(714844),o=n(386405),i=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ifCustomerCanDowngradeCallback,n=(0,r.useQuery)(["canDowngrade",e],function(){return o.b.canDowngrade(e)},{onSuccess:function(e){e.can_downgrade&&(null==t||t())}}),i=n.data,a=n.error;return{data:i,isLoading:n.isLoading,error:a}}},684785:function(e,t,n){n.d(t,{R:()=>a});var r=n(714844),o=n(309785),i=n(251914),a=function(e){var t=e.planTier,n=void 0===t?"":t,a=e.planId,l=void 0===a?"":a,s=e.billingCurrency,c=void 0===s?"":s,u=e.locale,d=void 0===u?"":u,f=e.planType,p=void 0===f?"":f,m=!!(n||l),b=(0,i.f)(),h=(0,r.useQuery)(["plan","fetch",n,l,c,d,p,b],function(){return o.Q2.fetch({tier:n,id:l,billing_currency:c,locale:d,plan_type:p,isPriceTestingEnabled:b})},{enabled:m});return{plan:h.data,isPlanLoading:h.isLoading,errorFetchingPlan:h.error}}},303637:function(e,t,n){n.d(t,{t:()=>i});var r=n(714844),o=n(309785),i=function(e){var t=e.new_plan_id,n=e.plan_coupon_id,i=void 0===n?"":n,a=e.only_ch,l=e.enabled,s=(0,r.useQuery)(["proration",t,i,a],function(){return o.Q2.proration({new_plan_id:t,plan_coupon_id:i,only_ch:a})},{enabled:void 0===l||l}),c=s.data;return{prorationData:null!=c?c:{},isProrationLoading:s.isLoading,errorFetchingProration:s.error}}},657735:function(e,t,n){n.d(t,{w:()=>r.w});var r=n(775866)},348631:function(e,t,n){n.d(t,{v:()=>c});var r=n(683551),o=n(379600),i=n.n(o),a=n(214813),l=n(712781),s=n(277010),c=function(e){var t=e.users,n=void 0===t?[]:t,o=e.totalCount,c=e.size,u=void 0===c?"lg":c,d=e.isLoading,f=e.isFullRounded,p=void 0!==f&&f,m=e.className,b=o||n.length;return d?(0,r.jsx)(s.gi,{variant:"members-avatar-row"}):(null==n?void 0:n.length)?(0,r.jsxs)("div",{className:i()("avatar-group border-tertiary rounded-md",{"avatar-group--lg":"lg"===u,"avatar-group--md":"md"===u,"avatar-group--sm":"sm"===u},void 0===m?"":m),children:[n.map(function(e){return(0,r.jsx)(l.W,{src:e.avatar_url,name:e.name,size:"8",hasBorder:!0,isFullRounded:p},e.id||"user-group-image-".concat(e.name.replace(/ /g,""),"-").concat(Math.random()))}),n.length<b&&(0,r.jsx)("div",{className:i()("bg-secondary text-default z-30 flex max-h-[36px] min-w-[36px] items-center justify-center rounded-full border-2 border-inherit p-1 text-xs font-medium"),children:"+"+(0,a.concat)((b-n.length).toString()).join("")})]}):null}},177954:function(e,t,n){n.d(t,{g:()=>c});var r=n(683551),o=n(314121),i=n(278555),a=n(214813),l=n(165034),s=function(e){var t=(0,l.useFrame)().document;return(0,o.useMemo)(function(){return t?getComputedStyle(t.documentElement).getPropertyValue(e):""},[t,e])},c=function(e){var t,n,o=s("--color-online-background"),l=(0,a.omit)(e,["onlineColor","idleColor"]);return(0,r.jsx)(i.g,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},l),n=n={onlineColor:o,isFullRounded:!0},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}}}]);
//# sourceMappingURL=/packs/js/373-79fff65d1e750ecd.js.map